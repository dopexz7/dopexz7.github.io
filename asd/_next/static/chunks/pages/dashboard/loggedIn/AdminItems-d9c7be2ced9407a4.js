(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[960],{3390:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/loggedIn/AdminItems",function(){return r(519)}])},519:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return c}});var t=r(5893),i=r(7294),o=r(1323),u=r(8059);function a(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function s(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,i,o=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(t=r.next()).done)&&(o.push(t.value),!n||o.length!==n);u=!0);}catch(s){a=!0,i=s}finally{try{u||null==r.return||r.return()}finally{if(a)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return a(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(){var e=o.db.collection("submissions"),n=s((0,u.d4)(e),1)[0],r=(0,i.useState)(!1),a=(r[0],r[1]),c=(0,i.useState)(""),l=c[0],d=c[1],f=(0,i.useState)(""),m=f[0],v=f[1],h=function(e,n){o.db.collection("submissions").where("key","==",e.key).get().then((function(e){e.forEach((function(e){e.ref.delete(),d(n),setTimeout((function(){d("")}),1500)}))}))};return(0,t.jsxs)(t.Fragment,{children:[m&&(0,t.jsx)("div",{className:"dashboard-error",children:m}),l&&(0,t.jsx)("div",{className:"dashboard-error",children:l}),n&&n.map((function(e){return(0,t.jsxs)("div",{className:"admin-item",children:[(0,t.jsx)("img",{className:"adminimg",src:e.message}),(0,t.jsx)("div",{className:"admin-info",children:(0,t.jsxs)("div",{className:"admin-imginfo-cont",children:[(0,t.jsxs)("div",{className:"imgtitle",children:["Author: ",e.name]}),e.email?(0,t.jsx)("a",{className:"admin-imgdesc",href:e.email,children:"Tweet link"}):"",(0,t.jsx)("div",{style:{marginRight:"auto"},className:"admin-imgdesc",onClick:function(){return n=e,a(!0),void o.db.collection("approved").add({name:n.name,email:n.email,message:n.message,key:n.key}).then((function(){h(n,"Approved for website!"),a(!1)})).catch((function(e){v(e),a(!1)}));var n},children:"Approve"}),(0,t.jsx)("div",{style:{marginLeft:"auto"},className:"admin-imgdesc",onClick:function(){return h(e,"Removed from submissions.")},children:"Remove"})]})})]},e.id)}))]})}},8059:function(e,n,r){"use strict";r.d(n,{d4:function(){return d}});var t=r(1294),i=r(7294);var o=function(){return(o=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++)for(var i in n=arguments[r])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e}).apply(this,arguments)},u=function(e){return{loading:void 0===e||null===e,value:e}},a=function(e){var n=e?e():void 0,r=(0,i.useReducer)((function(e,n){switch(n.type){case"error":return o(o({},e),{error:n.error,loading:!1,value:void 0});case"reset":return u(n.defaultValue);case"value":return o(o({},e),{error:void 0,loading:!1,value:n.value});default:return e}}),u(n)),t=r[0],a=r[1],s=function(){var n=e?e():void 0;a({type:"reset",defaultValue:n})},c=function(e){a({type:"error",error:e})},l=function(e){a({type:"value",value:e})};return(0,i.useMemo)((function(){return{error:t.error,loading:t.loading,reset:s,setError:c,setValue:l,value:t.value}}),[t.error,t.loading,s,c,l,t.value])},s=function(e,n,r){var t=(0,i.useRef)(e);return(0,i.useEffect)((function(){n(e,t.current)||(t.current=e,r&&r())})),t},c=function(e,n){var r=!e&&!n,i=!!e&&!!n&&(0,t.iE)(e,n);return r||i},l=function(e,n){return s(e,c,n)},d=function(e,n){var r=null===n||void 0===n?void 0:n.snapshotOptions,o=function(e,n){var r=a(),o=r.error,u=r.loading,s=r.reset,c=r.setError,d=r.setValue,f=r.value,m=l(e,s);(0,i.useEffect)((function(){if(m.current){var e=(null===n||void 0===n?void 0:n.snapshotListenOptions)?(0,t.cf)(m.current,n.snapshotListenOptions,d,c):(0,t.cf)(m.current,d,c);return function(){e()}}d(void 0)}),[m.current,n]);var v=[f,u,o];return(0,i.useMemo)((function(){return v}),v)}(e,n),u=o[0],s=o[1],c=o[2],d=[f(u,r),s,c,u];return(0,i.useMemo)((function(){return d}),d)},f=function(e,n){return(0,i.useMemo)((function(){return null===e||void 0===e?void 0:e.docs.map((function(e){return e.data(n)}))}),[e,n])}}},function(e){e.O(0,[774,888,179],(function(){return n=3390,e(e.s=n);var n}));var n=e.O();_N_E=n}]);