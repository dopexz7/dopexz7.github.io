/*! For license information please see main.2f87e964.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},494:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,a=new Promise((function(a,o){n(i=e[t].apply(e,r)).then(a,o)}));return a.request=i,a}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function a(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function o(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function f(e){this._store=e}function h(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new h(n)}function p(e){this._db=e}function v(e,t,n){var i=r(indexedDB,"open",[e,t]),a=i.request;return a&&(a.onupgradeneeded=function(e){n&&n(new d(a.result,e.oldVersion,a.transaction))}),i.then((function(e){return new p(e)}))}function m(e){return r(indexedDB,"deleteDatabase",[e])}a(c,"_index",["name","keyPath","multiEntry","unique"]),o(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),a(l,"_cursor",["direction","key","primaryKey","value"]),o(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),f.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},a(f,"_store",["name","keyPath","indexNames","autoIncrement"]),o(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(f,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},a(h,"_tx",["objectStoreNames","mode"]),s(h,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},a(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},a(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[f,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,a=i[e].apply(i,n.slice(0,-1));a.onsuccess=function(){r(a.result)}})}))})),[c,f].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=v,e.deleteDb=m,Object.defineProperty(e,"__esModule",{value:!0})}(t)},694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},881:function(e,t,n){var r="Expected a function",i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,f=c||l||Function("return this")(),h=Object.prototype.toString,d=Math.max,p=Math.min,v=function(){return f.Date.now()};function m(e,t,n){var i,a,o,s,u,c,l=0,f=!1,h=!1,m=!0;if("function"!=typeof e)throw new TypeError(r);function k(t){var n=i,r=a;return i=a=void 0,l=t,s=e.apply(r,n)}function b(e){return l=e,u=setTimeout(x,t),f?k(e):s}function w(e){var n=e-c;return void 0===c||n>=t||n<0||h&&e-l>=o}function x(){var e=v();if(w(e))return _(e);u=setTimeout(x,function(e){var n=t-(e-c);return h?p(n,o-(e-l)):n}(e))}function _(e){return u=void 0,m&&i?k(e):(i=a=void 0,s)}function E(){var e=v(),n=w(e);if(i=arguments,a=this,c=e,n){if(void 0===u)return b(c);if(h)return u=setTimeout(x,t),k(c)}return void 0===u&&(u=setTimeout(x,t)),s}return t=g(t)||0,y(n)&&(f=!!n.leading,o=(h="maxWait"in n)?d(g(n.maxWait)||0,t):o,m="trailing"in n?!!n.trailing:m),E.cancel=function(){void 0!==u&&clearTimeout(u),l=0,i=c=a=u=void 0},E.flush=function(){return void 0===u?s:_(v())},E}function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==h.call(e)}(e))return NaN;if(y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=o.test(e);return n||s.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}e.exports=function(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError(r);return y(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),m(e,t,{leading:i,maxWait:t,trailing:a})}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var f=0;f<s.length;f++)r.call(o,s[f])&&(u[s[f]]=o[s[f]])}}return u}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,_=60106,E=60107,I=60108,T=60114,S=60109,C=60110,N=60112,A=60113,P=60120,R=60115,O=60116,D=60121,L=60128,M=60129,j=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;x=U("react.element"),_=U("react.portal"),E=U("react.fragment"),I=U("react.strict_mode"),T=U("react.profiler"),S=U("react.provider"),C=U("react.context"),N=U("react.forward_ref"),A=U("react.suspense"),P=U("react.suspense_list"),R=U("react.memo"),O=U("react.lazy"),D=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),j=U("react.offscreen"),F=U("react.legacy_hidden")}var V,q="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=q&&e[q]||e["@@iterator"])?e:null}function z(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var H=!1;function W(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function K(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case _:return"Portal";case T:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return G(e.type);case D:return G(e._render);case O:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ie(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ce=null,Ne=null;function Ae(e){if(e=ri(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Se(e.stateNode,e.type,t))}}function Pe(e){Ce?Ne?Ne.push(e):Ne=[e]:Ce=e}function Re(){if(Ce){var e=Ce,t=Ne;if(Ne=Ce=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Oe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Oe,je=!1,Fe=!1;function Ue(){null===Ce&&null===Ne||(Le(),Re())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var qe=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){qe=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(me){qe=!1}function ze(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var He=!1,We=null,Ke=!1,Ge=null,Qe={onError:function(e){He=!0,We=e}};function Ye(e,t,n,r,i,a,o,s,u){He=!1,We=null,ze.apply(Qe,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Xe(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return $e(i),e;if(a===r)return $e(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&gt(st)&&(st=null),null!==ut&&gt(ut)&&(ut=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},It={},Tt={};function St(e){if(It[e])return It[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return It[e]=n[t];return e}f&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Ct=St("animationend"),Nt=St("animationiteration"),At=St("animationstart"),Pt=St("transitionend"),Rt=new Map,Ot=new Map,Dt=["abort","abort",Ct,"animationEnd",Nt,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Pt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Rt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function jt(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=jt(u),i=Mt):0!==(s&=a)&&(r=jt(s),i=Mt)}else 0!==(a=n&~o)?(r=jt(a),i=Mt):0!==s&&(r=jt(s),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(jt(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=qt(24&~t))?Vt(10,t):e;case 10:return 0===(e=qt(192&~t))?Vt(8,t):e;case 8:return 0===(e=qt(3584&~t))&&(0===(e=qt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=qt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function qt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Kt|0)|0},Wt=Math.log,Kt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,Yt=!0;function Xt(e,t,n,r){je||Le();var i=$t,a=je;je=!0;try{De(i,e,t,n,r)}finally{(je=a)||Ue()}}function Jt(e,t,n,r){Qt(Gt,$t.bind(null,e,t,n,r))}function $t(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return ut=mt(ut,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Te(r);if(null!==(i=ni(i))){var a=Xe(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Je(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),vn=un(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=un(mn),gn=un(i({},mn,{dataTransfer:0})),kn=un(i({},pn,{relatedTarget:0})),bn=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=un(wn),_n=un(i({},hn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function Cn(){return Sn}var Nn=i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=un(Nn),Pn=un(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),On=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=un(Dn),Mn=[9,13,27,32],jn=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var Un=f&&"TextEvent"in window&&!Fn,Vn=f&&(!jn||Fn&&8<Fn&&11>=Fn),qn=String.fromCharCode(32),Bn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Qn(e,t,n,r){Pe(r),0<(t=jr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Xn=null;function Jn(e){Nr(e,0)}function $n(e){if(J(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Yn&&(Yn.detachEvent("onpropertychange",ar),Xn=Yn=null)}function ar(e){if("value"===e.propertyName&&$n(Xn)){var t=[];if(Qn(t,Xn,e,Te(e)),e=Jn,je)e(t);else{je=!0;try{Oe(e,t)}finally{je=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(ir(),Xn=n,(Yn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Xn)}function ur(e,t){if("click"===e)return $n(t)}function cr(e,t){if("input"===e||"change"===e)return $n(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,xr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==$(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=jr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ir=0;Ir<Er.length;Ir++)Ot.set(Er[Ir],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Ye.apply(this,arguments),He){if(!He)throw Error(o(198));var l=We;He=!1,We=null,Ke||(Ke=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}}}if(Ke)throw e=Ge,Ke=!1,Ge=null,e}function Ar(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Pr="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){e[Pr]||(e[Pr]=!0,s.forEach((function(t){Sr.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Dr(a,e,i,t),o.add(s))}function Dr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=Xt;break;case 1:i=Jt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!qe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Me(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=a,i=Te(n),o=[];e:{var s=Rt.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=An;break;case"focusin":c="focus",u=kn;break;case"focusout":c="blur",u=kn;break;case"beforeblur":case"afterblur":u=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Rn;break;case Ct:case Nt:case At:u=bn;break;case Pt:u=On;break;case"scroll":u=vn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Pn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Xe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Pn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Fr(d))p++;for(d=0,v=h;v;v=Fr(v))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)h=Fr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Fr(l),h=Fr(h)}l=null}else l=null;null!==u&&Ur(o,s,u,l,!1),null!==c&&null!==f&&Ur(o,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Zn;else if(Gn(s))if(er)m=cr;else{m=sr;var y=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ur);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(kr=y,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,_r(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(o,n,i)}var g;if(jn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Wn?zn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Wn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(y=jr(r,k)).length&&(k=new _n(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Hn(n))&&(k.data=g))),(g=Un?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Bn=!0,qn);case"textInput":return(e=t.data)===qn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!jn&&zn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=jr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Nr(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ve(n,a))&&o.unshift(Mr(n,u,s)):i||null!=(u=Ve(n,a))&&o.push(Mr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var qr=null,Br=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Xr=0;var Jr=Math.random().toString(36).slice(2),$r="__reactFiber$"+Jr,Zr="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[$r]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[$r])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[$r]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var _i=null,Ei=null,Ii=a.unstable_runWithPriority,Ti=a.unstable_scheduleCallback,Si=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ni=a.unstable_requestPaint,Ai=a.unstable_now,Pi=a.unstable_getCurrentPriorityLevel,Ri=a.unstable_ImmediatePriority,Oi=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,ji={},Fi=void 0!==Ni?Ni:function(){},Ui=null,Vi=null,qi=!1,Bi=Ai(),zi=1e4>Bi?Ai:function(){return Ai()-Bi};function Hi(){switch(Pi()){case Ri:return 99;case Oi:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Wi(e){switch(e){case 99:return Ri;case 98:return Oi;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Ki(e,t){return e=Wi(e),Ii(e,t)}function Gi(e,t,n){return e=Wi(e),Ti(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Si(e)}Yi()}function Yi(){if(!qi&&null!==Ui){qi=!0;var e=0;try{var t=Ui;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ti(Ri,Qi),n}finally{qi=!1}}}var Xi=w.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $i=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=$i.current;li($i),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(jo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,s=0,f=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,qs|=s,e.lanes=s,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),pu(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function _a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ia(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ku(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_a(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=_a(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ju(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=_a(e,null,t),n.return=e,n;case _:return(t=Ju(t,e.mode,n)).return=e,t}if(xa(t)||B(t))return(t=Qu(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===E?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null}if(xa(n)||B(n))return null!==i?null:f(e,t,n,r,null);Ea(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===E?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);Ea(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=B(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=a(k,s,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===E&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===E){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=_a(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===E?((r=Qu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=_a(e,r,a),u.return=e,e=u)}return s(e);case _:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ju(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Xu(a,e.mode,u)).return=e,e=r),s(e);if(xa(a))return v(e,r,a,u);if(B(a))return m(e,r,a,u);if(l&&Ea(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ta=Ia(!0),Sa=Ia(!1),Ca={},Na=ci(Ca),Aa=ci(Ca),Pa=ci(Ca);function Ra(e){if(e===Ca)throw Error(o(174));return e}function Oa(e,t){switch(fi(Pa,t),fi(Aa,e),fi(Na,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Na),fi(Na,t)}function Da(){li(Na),li(Aa),li(Pa)}function La(e){Ra(Pa.current);var t=Ra(Na.current),n=pe(t,e.type);t!==n&&(fi(Aa,e),fi(Na,n))}function Ma(e){Aa.current===e&&(li(Na),li(Aa))}var ja=ci(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=null,Va=null,qa=!1;function Ba(e,t){var n=Hu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function za(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ha(e){if(qa){var t=Va;if(t){var n=t;if(!za(e,t)){if(!(t=Qr(n.nextSibling))||!za(e,t))return e.flags=-1025&e.flags|2,qa=!1,void(Ua=e);Ba(Ua,n)}Ua=e,Va=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,qa=!1,Ua=e}}function Wa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ua=e}function Ka(e){if(e!==Ua)return!1;if(!qa)return Wa(e),qa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=Va;t;)Ba(e,t),t=Qr(t.nextSibling);if(Wa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=Ua?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){Va=Ua=null,qa=!1}var Qa=[];function Ya(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Xa=w.ReactCurrentDispatcher,Ja=w.ReactCurrentBatchConfig,$a=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if($a=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xa.current=null===e||null===e.memoizedState?Oo:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Xa.current=Lo,e=n(r,i)}while(ro)}if(Xa.current=Ro,t=null!==eo&&null!==eo.next,$a=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if(($a&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,Za.lanes|=l,qs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,lr(r,t.memoizedState)||(jo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(jo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=($a&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Os;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Xa.current,c=u.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=du(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Ht(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Po.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(uo(),e,t,n)}function mo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Po.bind(null,Za,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},so().memoizedState=e}function ko(){return uo().memoizedState}function bo(e,t,n,r){var i=so();Za.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Za.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function xo(e,t){return bo(516,4,e,t)}function _o(e,t){return wo(516,4,e,t)}function Eo(e,t){return wo(4,2,e,t)}function Io(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function To(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Io.bind(null,t,e),n)}function So(){}function Co(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ao(e,t){var n=Hi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Ja.transition;Ja.transition=1;try{e(!1),t()}finally{Ja.transition=n}}))}function Po(e,t,n){var r=hu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Ro={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Oo={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Io.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Po.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:So,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(qa){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Xr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,yo(5,(function(){n("r:"+(Xr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Xr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:To,useLayoutEffect:Eo,useMemo:No,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:So,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return _o((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:To,useLayoutEffect:Eo,useMemo:No,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:So,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return _o((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,jo=!1;function Fo(e,t,n,r){t.child=null===e?Sa(t,null,n,r):Ta(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Wu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,qo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Ku(o,r)).ref=t.ref,e.return=t,t.child=e)}function qo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(jo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(jo=!0)}return Ho(e,t,n,r,a)}function Bo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xu(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xu(t,e),null;t.memoizedState={baseLanes:0},xu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xu(t,r);return Fo(e,t,i,n),t.child}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ho(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Wo(e,t,n,r,i){if(yi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&ba(t,o,r,c),sa=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),u=t.memoizedState,s!==r||h!==u||pi.current||sa?("function"===typeof l&&(ma(t,n,l,r),u=t.memoizedState),(s=sa||ga(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ji(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=mi(t,u=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&ba(t,o,r,u),sa=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||pi.current||sa?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=sa||ga(t,n,c,r,h,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){zo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),as(e,t,a);r=t.stateNode,Mo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ta(t,e.child,null,a),t.child=Ta(t,null,s,a)):Fo(e,t,s,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Oa(e,t.containerInfo)}var Qo,Yo,Xo,Jo={dehydrated:null,retryLane:0};function $o(e,t,n){var r,i=t.pendingProps,a=ja.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(ja,1&a),null===e?(void 0!==i.fallback&&Ha(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,t.lanes=33554432,e):((n=Yu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Jo,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Yu(t,i,0,null),n=Qu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Ku(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ku(o,s),null!==e?r=Ku(e,r):(r=Qu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=ja.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(ja,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),qs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ku(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ku(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!qa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),Ya(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ka(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Ra(Pa.current);if(n=t.type,null!==e&&null!=t.stateNode)Yo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ra(Na.current),Ka(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[$r]=t,r[Zr]=s,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Ar(Tr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,s),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ar("invalid",r);break;case"textarea":ue(r,s),Ar("invalid",r)}for(var c in Ee(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Ar("scroll",r));switch(n){case"input":X(r),re(r,s,!0);break;case"textarea":X(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[$r]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=Ie(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),a=r;break;case"iframe":case"object":case"embed":Ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<Tr.length;a++)Ar(Tr[a],e);a=r;break;case"source":Ar("error",e),a=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),a=r;break;case"details":Ar("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Ar("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Ar("invalid",e);break;default:a=r}Ee(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?xe(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Ar("scroll",e):null!=f&&b(e,s,f,c))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Ra(Pa.current),Ra(Na.current),Ka(t)?(r=t.stateNode,n=t.memoizedProps,r[$r]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=t,t.stateNode=r)}return null;case 13:return li(ja),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ka(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&ja.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===Os||0===(134217727&qs)&&0===(134217727&Bs)||gu(Os,Ls))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Rr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(ja),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==Fs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fa(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(ja,1&ja.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Ks&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fa(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!qa)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Ks&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=ja.current,fi(ja,s?1&t|2:1&t),n):null;case 23:case 24:return _u(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),Ya(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(ja),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(ja),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return _u(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ra(Na.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Ee(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Ar("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Xo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xs||(Xs=!0,Js=r),ls(0,t)},n}function ds(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===$s?$s=new Set([this]):$s.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function ys(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(ju(n,e),Mu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ks(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(_i,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))ju(t,n);else{r=t;try{i()}catch(a){Vu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vu(t,a)}break;case 5:vs(t);break;case 4:Is(e,t)}}function bs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function xs(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_s(e,n,t):Es(e,n,t)}function _s(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(_s(e,t,n),e=e.sibling;null!==e;)_s(e,t,n),e=e.sibling}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function Is(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ks(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ks(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Ts(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ie(e,i),t=Ie(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?xe(n,u):"dangerouslySetInnerHTML"===s?ye(n,u):"children"===s?ge(n,u):b(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ws=zi(),gs(t.child,!0)),void Ss(t);case 19:return void Ss(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(o(163))}function Ss(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Bu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ns=Math.ceil,As=w.ReactCurrentDispatcher,Ps=w.ReactCurrentOwner,Rs=0,Os=null,Ds=null,Ls=0,Ms=0,js=ci(0),Fs=0,Us=null,Vs=0,qs=0,Bs=0,zs=0,Hs=null,Ws=0,Ks=1/0;function Gs(){Ks=zi()+500}var Qs,Ys=null,Xs=!1,Js=null,$s=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Rs)?zi():-1!==su?su:su=zi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Hi()?1:2;if(0===uu&&(uu=Vs),0!==Xi.transition){0!==cu&&(cu=null!==Hs?Hs.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Hi(),0!==(4&Rs)&&98===e?e=Vt(12,uu):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;zt(e,t,n),e===Os&&(Bs|=t,4===Fs&&gu(e,Ls));var r=Hi();1===t?0!==(8&Rs)&&0===(48&Rs)?ku(e):(mu(e,n),0===Rs&&(Gs(),Qi())):(0===(4&Rs)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),Hs=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Ht(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,jt(c);var f=Mt;a[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===Os?Ls:0),t=Mt,0===r)null!==n&&(n!==ji&&Si(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==ji&&Si(n)}15===t?(n=ku.bind(null,e),null===Ui?(Ui=[n],Vi=Ti(Ri,Yi)):Ui.push(n),n=ji):14===t?n=Gi(99,ku.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,yu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yu(e){if(su=-1,cu=uu=0,0!==(48&Rs))throw Error(o(327));var t=e.callbackNode;if(Lu()&&e.callbackNode!==t)return null;var n=Ft(e,e===Os?Ls:0);if(0===n)return null;var r=n,i=Rs;Rs|=16;var a=Tu();for(Os===e&&Ls===r||(Gs(),Eu(e,r));;)try{Nu();break}catch(u){Iu(e,u)}if(na(),As.current=a,Rs=i,null!==Ds?r=0:(Os=null,Ls=0,r=Fs),0!==(Vs&Bs))Eu(e,0);else if(0!==r){if(2===r&&(Rs|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ut(e))&&(r=Su(e,n))),1===r)throw t=Us,Eu(e,0),gu(e,n),mu(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ru(e);break;case 3:if(gu(e,n),(62914560&n)===n&&10<(r=Ws+500-zi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Ru.bind(null,e),r);break}Ru(e);break;case 4:if(gu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Ht(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ns(n/1960))-n)){e.timeoutHandle=Wr(Ru.bind(null,e),n);break}Ru(e);break;default:throw Error(o(329))}}return mu(e,zi()),e.callbackNode===t?yu.bind(null,e):null}function gu(e,t){for(t&=~zs,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if(0!==(48&Rs))throw Error(o(327));if(Lu(),e===Os&&0!==(e.expiredLanes&Ls)){var t=Ls,n=Su(e,t);0!==(Vs&Bs)&&(n=Su(e,t=Ft(e,t)))}else n=Su(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Rs|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ut(e))&&(n=Su(e,t))),1===n)throw n=Us,Eu(e,0),gu(e,t),mu(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ru(e),mu(e,zi()),null}function bu(e,t){var n=Rs;Rs|=1;try{return e(t)}finally{0===(Rs=n)&&(Gs(),Qi())}}function wu(e,t){var n=Rs;Rs&=-2,Rs|=8;try{return e(t)}finally{0===(Rs=n)&&(Gs(),Qi())}}function xu(e,t){fi(js,Ms),Ms|=t,Vs|=t}function _u(){Ms=js.current,li(js)}function Eu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),Ya();break;case 5:Ma(r);break;case 4:Da();break;case 13:case 19:li(ja);break;case 10:ra(r);break;case 23:case 24:_u()}n=n.return}Os=e,Ds=Ku(e.current,null),Ls=Ms=Vs=t,Fs=0,Us=null,zs=Bs=qs=0}function Iu(e,t){for(;;){var n=Ds;try{if(na(),Xa.current=Ro,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if($a=0,to=eo=Za=null,ro=!1,Ps.current=null,null===n||null===n.return){Fs=1,Us=t,Ds=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ls,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&ja.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=la(-1,1);g.tag=2,fa(s,g)}s.lanes|=1;break e}u=void 0,s=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fs,u=new Set,k.set(c,u)):void 0===(u=k.get(c))&&(u=new Set,k.set(c,u)),!u.has(s)){u.add(s);var b=qu.bind(null,a,c,s);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),u=cs(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hs(0,a,t));break e;case 1:a=u;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===$s||!$s.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}Pu(n)}catch(_){t=_,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function Tu(){var e=As.current;return As.current=Ro,null===e?Ro:e}function Su(e,t){var n=Rs;Rs|=16;var r=Tu();for(Os===e&&Ls===t||Eu(e,t);;)try{Cu();break}catch(i){Iu(e,i)}if(na(),Rs=n,As.current=r,null!==Ds)throw Error(o(261));return Os=null,Ls=0,Fs}function Cu(){for(;null!==Ds;)Au(Ds)}function Nu(){for(;null!==Ds&&!Ci();)Au(Ds)}function Au(e){var t=Qs(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,null===t?Pu(e):Ds=t,Ps.current=null}function Pu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ms)))return void(Ds=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ms)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ds=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Fs&&(Fs=5)}function Ru(e){var t=Hi();return Ki(99,Ou.bind(null,e,t)),null}function Ou(e,t){do{Lu()}while(null!==eu);if(0!==(48&Rs))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-Ht(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Os&&(Ds=Os=null,Ls=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Rs,Rs|=32,Ps.current=null,qr=Yt,yr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(T){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=s,y=null;t:for(;;){for(var g;m!==u||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===s)break t;if(y===u&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Br={focusedElem:s,selectionRange:u},Yt=!1,lu=null,fu=!1,Ys=r;do{try{Du()}catch(T){if(null===Ys)throw Error(o(330));Vu(Ys,T),Ys=Ys.nextEffect}}while(null!==Ys);lu=null,Ys=r;do{try{for(s=e;null!==Ys;){var k=Ys.flags;if(16&k&&ge(Ys.stateNode,""),128&k){var b=Ys.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xs(Ys),Ys.flags&=-3;break;case 6:xs(Ys),Ys.flags&=-3,Ts(Ys.alternate,Ys);break;case 1024:Ys.flags&=-1025;break;case 1028:Ys.flags&=-1025,Ts(Ys.alternate,Ys);break;case 4:Ts(Ys.alternate,Ys);break;case 8:Is(s,u=Ys);var x=u.alternate;bs(u),null!==x&&bs(x)}Ys=Ys.nextEffect}}catch(T){if(null===Ys)throw Error(o(330));Vu(Ys,T),Ys=Ys.nextEffect}}while(null!==Ys);if(w=Br,b=mr(),k=w.focusedElem,s=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==s&&yr(k)&&(b=s.start,void 0===(w=s.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),u=k.textContent.length,x=Math.min(s.start,u),s=void 0===s.end?x:Math.min(s.end,u),!w.extend&&x>s&&(u=s,s=x,x=u),u=pr(k,x),a=pr(k,s),u&&a&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),x>s?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Yt=!!qr,Br=qr=null,e.current=n,Ys=r;do{try{for(k=e;null!==Ys;){var _=Ys.flags;if(36&_&&ys(k,Ys.alternate,Ys),128&_){b=void 0;var E=Ys.ref;if(null!==E){var I=Ys.stateNode;Ys.tag,b=I,"function"===typeof E?E(b):E.current=b}}Ys=Ys.nextEffect}}catch(T){if(null===Ys)throw Error(o(330));Vu(Ys,T),Ys=Ys.nextEffect}}while(null!==Ys);Ys=null,Fi(),Rs=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for(Ys=r;null!==Ys;)t=Ys.nextEffect,Ys.nextEffect=null,8&Ys.flags&&((_=Ys).sibling=null,_.stateNode=null),Ys=t;if(0===(r=e.pendingLanes)&&($s=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(T){}if(mu(e,zi()),Xs)throw Xs=!1,e=Js,Js=null,e;return 0!==(8&Rs)||Qi(),null}function Du(){for(;null!==Ys;){var e=Ys.alternate;fu||null===lu||(0!==(8&Ys.flags)?et(Ys,lu)&&(fu=!0):13===Ys.tag&&Cs(e,Ys)&&et(Ys,lu)&&(fu=!0));var t=Ys.flags;0!==(256&t)&&ms(e,Ys),0===(512&t)||Zs||(Zs=!0,Gi(97,(function(){return Lu(),null}))),Ys=Ys.nextEffect}}function Lu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Ki(e,Fu)}return!1}function Mu(e,t){nu.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Lu(),null})))}function ju(e,t){ru.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Lu(),null})))}function Fu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Rs))throw Error(o(331));var t=Rs;Rs|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Rs=t,Qi(),!0}function Uu(e,t,n){fa(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(zt(e,1,t),mu(e,t))}function Vu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$s||!$s.has(r))){var i=ds(n,e=cs(t,e),1);if(fa(n,i),i=hu(),null!==(n=vu(n,1)))zt(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===$s||!$s.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function qu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Os===e&&(Ls&n)===n&&(4===Fs||3===Fs&&(62914560&Ls)===Ls&&500>zi()-Ws?Eu(e,0):zs|=n),mu(e,t)}function Bu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Hi()?1:2:(0===uu&&(uu=Vs),0===(t=qt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(zt(e,t,n),mu(e,n))}function zu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hu(e,t,n,r){return new zu(e,t,n,r)}function Wu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ku(e,t){var n=e.alternate;return null===n?((n=Hu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Wu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Qu(n.children,i,a,t);case M:s=8,i|=16;break;case I:s=8,i|=1;break;case T:return(e=Hu(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=a,e;case A:return(e=Hu(13,n,t,i)).type=A,e.elementType=A,e.lanes=a,e;case P:return(e=Hu(19,n,t,i)).elementType=P,e.lanes=a,e;case j:return Yu(n,i,a,t);case F:return(e=Hu(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case C:s=9;break e;case N:s=11;break e;case R:s=14;break e;case O:s=16,r=null;break e;case D:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Hu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qu(e,t,n,r){return(e=Hu(7,e,r,t)).lanes=n,e}function Yu(e,t,n,r){return(e=Hu(23,e,r,t)).elementType=j,e.lanes=n,e}function Xu(e,t,n){return(e=Hu(6,e,null,t)).lanes=n,e}function Ju(e,t,n){return(t=Hu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $u(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hu(),s=du(i);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(yi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=bi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),pu(i,s,a),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new $u(e,t,null!=n&&!0===n.hydrate),t=Hu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[ei]=n.current,Rr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}wu((function(){ec(t,o,e,i)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zu(e,t,null,n)}Qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)jo=!0;else{if(0===(n&r)){switch(jo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:yi(t.type)&&wi(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?$o(e,t,n):(fi(ja,1&ja.current),null!==(t=as(e,t,n))?t.sibling:null);fi(ja,1&ja.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(ja,ja.current),r)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,n)}return as(e,t,n)}jo=0!==(16384&e.flags)}else jo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ma(t,r,s,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Wu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===R)return 14}return 2}(i),e=Ji(i,e),a){case 0:t=Ho(null,t,i,e,n);break e;case 1:t=Wo(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Qr(t.stateNode.containerInfo.firstChild),Ua=t,a=qa=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Sa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Ha(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Hr(r,i)?s=null:null!==a&&Hr(r,a)&&(t.flags|=16),zo(e,t),Fo(e,t,s,n),t.child;case 6:return null===e&&Ha(t),null;case 13:return $o(e,t,n);case 4:return Oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ta(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(fi($i,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=lr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=la(-1,n&-n)).tag=2,fa(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ia(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return a=Ji(i=t.type,t.pendingProps),Vo(e,t,i,a=Ji(i.type,a),r,n);case 15:return qo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Bo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Oe=bu,De=function(e,t,n,r,i){var a=Rs;Rs|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Rs=a)&&(Gs(),Qi())}},Le=function(){0===(49&Rs)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,zi())}))}Qi()}(),Lu())},Me=function(e,t){var n=Rs;Rs|=2;try{return e(t)}finally{0===(Rs=n)&&(Gs(),Qi())}};var uc={Events:[ri,ii,ai,Pe,Re,Lu,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{_i=fc.inject(lc),Ei=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Rs;if(0!==(48&n))return e(t);Rs|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Rs=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(wu((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},592:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=o(n(791)),a=o(n(585));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c=function(e){function t(){return s(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){return i.default.createElement("input",this.props,this.props.children)}}]),t}(i.default.Component);t.default=(0,a.default)(c)},532:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(791)),o=u(n(671)),s=u(n(7));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=function(e){function t(){return c(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this,t=r({},this.props);return t.parentBindings&&delete t.parentBindings,a.default.createElement("div",r({},t,{ref:function(t){e.props.parentBindings.domNode=t}}),this.props.children)}}]),t}(a.default.Component);f.propTypes={name:s.default.string,id:s.default.string},t.default=(0,o.default)(f)},582:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(791)),i=a(n(585));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){var e,n,i;o(this,t);for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];return n=i=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),i.render=function(){return r.default.createElement("a",i.props,i.props.children)},s(i,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(r.default.Component);t.default=(0,i.default)(u)},667:function(e,t,n){"use strict";t.rU=void 0;var r=d(n(582)),i=d(n(592)),a=d(n(532)),o=d(n(338)),s=d(n(979)),u=d(n(688)),c=d(n(102)),l=d(n(585)),f=d(n(671)),h=d(n(719));function d(e){return e&&e.__esModule?e:{default:e}}t.rU=r.default,i.default,a.default,o.default,s.default,u.default,c.default,l.default,f.default,h.default,r.default,i.default,a.default,o.default,s.default,u.default,c.default,l.default,f.default,h.default},719:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(791),c=(n(164),n(183),n(688)),l=n(338),f=n(7),h=n(203),d={to:f.string.isRequired,containerId:f.string,container:f.object,activeClass:f.string,spy:f.bool,smooth:f.oneOfType([f.bool,f.string]),offset:f.number,delay:f.number,isDynamic:f.bool,onClick:f.func,duration:f.oneOfType([f.number,f.func]),absolute:f.bool,onSetActive:f.func,onSetInactive:f.func,ignoreCancelEvents:f.bool,hashSpy:f.bool,spyThrottle:f.number},p={Scroll:function(e,t){console.warn("Helpers.Scroll is deprecated since v1.7.0");var n=t||l,f=function(t){function l(e){a(this,l);var t=o(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,e));return p.call(t),t.state={active:!1},t}return s(l,t),i(l,[{key:"getScrollSpyContainer",value:function(){var e=this.props.containerId,t=this.props.container;return e?document.getElementById(e):t&&t.nodeType?t:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var e=this.getScrollSpyContainer();c.isMounted(e)||c.mount(e,this.props.spyThrottle),this.props.hashSpy&&(h.isMounted()||h.mount(n),h.mapContainer(this.props.to,e)),this.props.spy&&c.addStateHandler(this.stateHandler),c.addSpyHandler(this.spyHandler,e),this.setState({container:e})}}},{key:"componentWillUnmount",value:function(){c.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var t="";t=this.state&&this.state.active?((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():this.props.className;var n=r({},this.props);for(var i in d)n.hasOwnProperty(i)&&delete n[i];return n.className=t,n.onClick=this.handleClick,u.createElement(e,n)}}]),l}(u.Component),p=function(){var e=this;this.scrollTo=function(t,i){n.scrollTo(t,r({},e.state,i))},this.handleClick=function(t){e.props.onClick&&e.props.onClick(t),t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),e.scrollTo(e.props.to,e.props)},this.stateHandler=function(){n.getActiveLink()!==e.props.to&&(null!==e.state&&e.state.active&&e.props.onSetInactive&&e.props.onSetInactive(),e.setState({active:!1}))},this.spyHandler=function(t){var r=e.getScrollSpyContainer();if(!h.isMounted()||h.isInitialized()){var i=e.props.to,a=null,o=0,s=0,u=0;if(r.getBoundingClientRect)u=r.getBoundingClientRect().top;if(!a||e.props.isDynamic){if(!(a=n.get(i)))return;var l=a.getBoundingClientRect();s=(o=l.top-u+t)+l.height}var f=t-e.props.offset,d=f>=Math.floor(o)&&f<Math.floor(s),p=f<Math.floor(o)||f>=Math.floor(s),v=n.getActiveLink();return p?(i===v&&n.setActiveLink(void 0),e.props.hashSpy&&h.getHash()===i&&h.changeHash(),e.props.spy&&e.state.active&&(e.setState({active:!1}),e.props.onSetInactive&&e.props.onSetInactive()),c.updateStates()):d&&v!==i?(n.setActiveLink(i),e.props.hashSpy&&h.changeHash(i),e.props.spy&&(e.setState({active:!0}),e.props.onSetActive&&e.props.onSetActive(i)),c.updateStates()):void 0}}};return f.propTypes=d,f.defaultProps={offset:0},f},Element:function(e){console.warn("Helpers.Element is deprecated since v1.7.0");var t=function(t){function n(e){a(this,n);var t=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.childBindings={domNode:null},t}return s(n,t),i(n,[{key:"componentDidMount",value:function(){if("undefined"===typeof window)return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(e){this.props.name!==e.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if("undefined"===typeof window)return!1;l.unregister(this.props.name)}},{key:"registerElems",value:function(e){l.register(e,this.childBindings.domNode)}},{key:"render",value:function(){return u.createElement(e,r({},this.props,{parentBindings:this.childBindings}))}}]),n}(u.Component);return t.propTypes={name:f.string,id:f.string},t}};e.exports=p},102:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(s(n(183)),s(n(987))),a=s(n(616)),o=s(n(979));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){return i.default[e.smooth]||i.default.defaultEasing},c=function(){if("undefined"!==typeof window)return window.requestAnimationFrame||window.webkitRequestAnimationFrame}()||function(e,t,n){window.setTimeout(e,n||1e3/60,(new Date).getTime())},l=function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollLeft;var n=void 0!==window.pageXOffset,r="CSS1Compat"===(document.compatMode||"");return n?window.pageXOffset:r?document.documentElement.scrollLeft:document.body.scrollLeft},f=function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollTop;var n=void 0!==window.pageXOffset,r="CSS1Compat"===(document.compatMode||"");return n?window.pageYOffset:r?document.documentElement.scrollTop:document.body.scrollTop},h=function e(t,n,r){var i=n.data;if(n.ignoreCancelEvents||!i.cancel)if(i.delta=Math.round(i.targetPosition-i.startPosition),null===i.start&&(i.start=r),i.progress=r-i.start,i.percent=i.progress>=i.duration?1:t(i.progress/i.duration),i.currentPosition=i.startPosition+Math.ceil(i.delta*i.percent),i.containerElement&&i.containerElement!==document&&i.containerElement!==document.body?n.horizontal?i.containerElement.scrollLeft=i.currentPosition:i.containerElement.scrollTop=i.currentPosition:n.horizontal?window.scrollTo(i.currentPosition,0):window.scrollTo(0,i.currentPosition),i.percent<1){var a=e.bind(null,t,n);c.call(window,a)}else o.default.registered.end&&o.default.registered.end(i.to,i.target,i.currentPosition);else o.default.registered.end&&o.default.registered.end(i.to,i.target,i.currentPositionY)},d=function(e){e.data.containerElement=e?e.containerId?document.getElementById(e.containerId):e.container&&e.container.nodeType?e.container:document:null},p=function(e,t,n,r){if(t.data=t.data||{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null},window.clearTimeout(t.data.delayTimeout),a.default.subscribe((function(){t.data.cancel=!0})),d(t),t.data.start=null,t.data.cancel=!1,t.data.startPosition=t.horizontal?l(t):f(t),t.data.targetPosition=t.absolute?e:e+t.data.startPosition,t.data.startPosition!==t.data.targetPosition){var i;t.data.delta=Math.round(t.data.targetPosition-t.data.startPosition),t.data.duration=("function"===typeof(i=t.duration)?i:function(){return i})(t.data.delta),t.data.duration=isNaN(parseFloat(t.data.duration))?1e3:parseFloat(t.data.duration),t.data.to=n,t.data.target=r;var s=u(t),p=h.bind(null,s,t);t&&t.delay>0?t.data.delayTimeout=window.setTimeout((function(){o.default.registered.begin&&o.default.registered.begin(t.data.to,t.data.target),c.call(window,p)}),t.delay):(o.default.registered.begin&&o.default.registered.begin(t.data.to,t.data.target),c.call(window,p))}else o.default.registered.end&&o.default.registered.end(t.data.to,t.data.target,t.data.currentPosition)},v=function(e){return(e=r({},e)).data=e.data||{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null},e.absolute=!0,e};t.default={animateTopScroll:p,getAnimationType:u,scrollToTop:function(e){p(0,v(e))},scrollToBottom:function(e){e=v(e),d(e),p(e.horizontal?function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollWidth-t.offsetWidth;var n=document.body,r=document.documentElement;return Math.max(n.scrollWidth,n.offsetWidth,r.clientWidth,r.scrollWidth,r.offsetWidth)}(e):function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollHeight-t.offsetHeight;var n=document.body,r=document.documentElement;return Math.max(n.scrollHeight,n.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight)}(e),e)},scrollTo:function(e,t){p(e,v(t))},scrollMore:function(e,t){t=v(t),d(t);var n=t.horizontal?l(t):f(t);p(e+n,t)}}},616:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(360),i=["mousedown","mousewheel","touchmove","keydown"];t.default={subscribe:function(e){return"undefined"!==typeof document&&i.forEach((function(t){return(0,r.addPassiveEventListener)(document,t,e)}))}}},360:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.addPassiveEventListener=function(e,t,n){var r=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(n){}return e}();e.addEventListener(t,n,!!r&&{passive:!0})},t.removePassiveEventListener=function(e,t,n){e.removeEventListener(t,n)}},671:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(791)),o=(u(n(164)),u(n(338))),s=u(n(7));function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.childBindings={domNode:null},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),i(n,[{key:"componentDidMount",value:function(){if("undefined"===typeof window)return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(e){this.props.name!==e.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if("undefined"===typeof window)return!1;o.default.unregister(this.props.name)}},{key:"registerElems",value:function(e){o.default.register(e,this.childBindings.domNode)}},{key:"render",value:function(){return a.default.createElement(e,r({},this.props,{parentBindings:this.childBindings}))}}]),n}(a.default.Component);return t.propTypes={name:s.default.string,id:s.default.string},t}},979:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={registered:{},scrollEvent:{register:function(e,t){n.registered[e]=t},remove:function(e){n.registered[e]=null}}};t.default=n},203:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(360);var r,i=n(183),a=(r=i)&&r.__esModule?r:{default:r};var o={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(e){this.scroller=e,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(e,t){this.containers[e]=t},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var e=this,t=this.getHash();t?window.setTimeout((function(){e.scrollTo(t,!0),e.initialized=!0}),10):this.initialized=!0},scrollTo:function(e,t){var n=this.scroller;if(n.get(e)&&(t||e!==n.getActiveLink())){var r=this.containers[e]||document;n.scrollTo(e,{container:r})}},getHash:function(){return a.default.getHash()},changeHash:function(e,t){this.isInitialized()&&a.default.getHash()!==e&&a.default.updateHash(e,t)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};t.default=o},585:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(791)),o=l(n(688)),s=l(n(338)),u=l(n(7)),c=l(n(203));function l(e){return e&&e.__esModule?e:{default:e}}var f={to:u.default.string.isRequired,containerId:u.default.string,container:u.default.object,activeClass:u.default.string,spy:u.default.bool,horizontal:u.default.bool,smooth:u.default.oneOfType([u.default.bool,u.default.string]),offset:u.default.number,delay:u.default.number,isDynamic:u.default.bool,onClick:u.default.func,duration:u.default.oneOfType([u.default.number,u.default.func]),absolute:u.default.bool,onSetActive:u.default.func,onSetInactive:u.default.func,ignoreCancelEvents:u.default.bool,hashSpy:u.default.bool,saveHashHistory:u.default.bool,spyThrottle:u.default.number};t.default=function(e,t){var n=t||s.default,u=function(t){function s(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e));return l.call(t),t.state={active:!1},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,t),i(s,[{key:"getScrollSpyContainer",value:function(){var e=this.props.containerId,t=this.props.container;return e&&!t?document.getElementById(e):t&&t.nodeType?t:document}},{key:"componentDidMount",value:function(){if(this.props.spy||this.props.hashSpy){var e=this.getScrollSpyContainer();o.default.isMounted(e)||o.default.mount(e,this.props.spyThrottle),this.props.hashSpy&&(c.default.isMounted()||c.default.mount(n),c.default.mapContainer(this.props.to,e)),o.default.addSpyHandler(this.spyHandler,e),this.setState({container:e})}}},{key:"componentWillUnmount",value:function(){o.default.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var t="";t=this.state&&this.state.active?((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():this.props.className;var n=r({},this.props);for(var i in f)n.hasOwnProperty(i)&&delete n[i];return n.className=t,n.onClick=this.handleClick,a.default.createElement(e,n)}}]),s}(a.default.PureComponent),l=function(){var e=this;this.scrollTo=function(t,i){n.scrollTo(t,r({},e.state,i))},this.handleClick=function(t){e.props.onClick&&e.props.onClick(t),t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),e.scrollTo(e.props.to,e.props)},this.spyHandler=function(t,r){var i=e.getScrollSpyContainer();if(!c.default.isMounted()||c.default.isInitialized()){var a=e.props.horizontal,o=e.props.to,s=null,u=void 0,l=void 0;if(a){var f=0,h=0,d=0;if(i.getBoundingClientRect)d=i.getBoundingClientRect().left;if(!s||e.props.isDynamic){if(!(s=n.get(o)))return;var p=s.getBoundingClientRect();h=(f=p.left-d+t)+p.width}var v=t-e.props.offset;u=v>=Math.floor(f)&&v<Math.floor(h),l=v<Math.floor(f)||v>=Math.floor(h)}else{var m=0,y=0,g=0;if(i.getBoundingClientRect)g=i.getBoundingClientRect().top;if(!s||e.props.isDynamic){if(!(s=n.get(o)))return;var k=s.getBoundingClientRect();y=(m=k.top-g+r)+k.height}var b=r-e.props.offset;u=b>=Math.floor(m)&&b<Math.floor(y),l=b<Math.floor(m)||b>=Math.floor(y)}var w=n.getActiveLink();if(l){if(o===w&&n.setActiveLink(void 0),e.props.hashSpy&&c.default.getHash()===o){var x=e.props.saveHashHistory,_=void 0!==x&&x;c.default.changeHash("",_)}e.props.spy&&e.state.active&&(e.setState({active:!1}),e.props.onSetInactive&&e.props.onSetInactive(o,s))}if(u&&(w!==o||!1===e.state.active)){n.setActiveLink(o);var E=e.props.saveHashHistory,I=void 0!==E&&E;e.props.hashSpy&&c.default.changeHash(o,I),e.props.spy&&(e.setState({active:!0}),e.props.onSetActive&&e.props.onSetActive(o,s))}}}};return u.propTypes=f,u.defaultProps={offset:0},u}},688:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(881),a=(r=i)&&r.__esModule?r:{default:r},o=n(360);var s={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(e,t){if(e){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:66;return(0,a.default)(e,t)}((function(t){s.scrollHandler(e)}),t);s.scrollSpyContainers.push(e),(0,o.addPassiveEventListener)(e,"scroll",n)}},isMounted:function(e){return-1!==s.scrollSpyContainers.indexOf(e)},currentPositionX:function(e){if(e===document){var t=void 0!==window.pageYOffset,n="CSS1Compat"===(document.compatMode||"");return t?window.pageXOffset:n?document.documentElement.scrollLeft:document.body.scrollLeft}return e.scrollLeft},currentPositionY:function(e){if(e===document){var t=void 0!==window.pageXOffset,n="CSS1Compat"===(document.compatMode||"");return t?window.pageYOffset:n?document.documentElement.scrollTop:document.body.scrollTop}return e.scrollTop},scrollHandler:function(e){(s.scrollSpyContainers[s.scrollSpyContainers.indexOf(e)].spyCallbacks||[]).forEach((function(t){return t(s.currentPositionX(e),s.currentPositionY(e))}))},addStateHandler:function(e){s.spySetState.push(e)},addSpyHandler:function(e,t){var n=s.scrollSpyContainers[s.scrollSpyContainers.indexOf(t)];n.spyCallbacks||(n.spyCallbacks=[]),n.spyCallbacks.push(e),e(s.currentPositionX(t),s.currentPositionY(t))},updateStates:function(){s.spySetState.forEach((function(e){return e()}))},unmount:function(e,t){s.scrollSpyContainers.forEach((function(e){return e.spyCallbacks&&e.spyCallbacks.length&&e.spyCallbacks.splice(e.spyCallbacks.indexOf(t),1)})),s.spySetState&&s.spySetState.length&&s.spySetState.splice(s.spySetState.indexOf(e),1),document.removeEventListener("scroll",s.scrollHandler)},update:function(){return s.scrollSpyContainers.forEach((function(e){return s.scrollHandler(e)}))}};t.default=s},338:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(183)),a=s(n(102)),o=s(n(979));function s(e){return e&&e.__esModule?e:{default:e}}var u={},c=void 0;t.default={unmount:function(){u={}},register:function(e,t){u[e]=t},unregister:function(e){delete u[e]},get:function(e){return u[e]||document.getElementById(e)||document.getElementsByName(e)[0]||document.getElementsByClassName(e)[0]},setActiveLink:function(e){return c=e},getActiveLink:function(){return c},scrollTo:function(e,t){var n=this.get(e);if(n){var s=(t=r({},t,{absolute:!1})).containerId,u=t.container,c=void 0;c=s?document.getElementById(s):u&&u.nodeType?u:document,t.absolute=!0;var l=t.horizontal,f=i.default.scrollOffset(c,n,l)+(t.offset||0);if(!t.smooth)return o.default.registered.begin&&o.default.registered.begin(e,n),c===document?t.horizontal?window.scrollTo(f,0):window.scrollTo(0,f):c.scrollTop=f,void(o.default.registered.end&&o.default.registered.end(e,n));a.default.animateTopScroll(f,t,e,n)}else console.warn("target Element not found")}}},987:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={defaultEasing:function(e){return e<.5?Math.pow(2*e,2)/2:1-Math.pow(2*(1-e),2)/2},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}}},183:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){for(var n=e.offsetTop,r=e.offsetParent;r&&!t(r);)n+=r.offsetTop,r=r.offsetParent;return{offsetTop:n,offsetParent:r}};t.default={updateHash:function(e,t){var n=0===e.indexOf("#")?e.substring(1):e,r=n?"#"+n:"",i=window&&window.location,a=r?i.pathname+i.search+r:i.pathname+i.search;t?history.pushState(null,"",a):history.replaceState(null,"",a)},getHash:function(){return window.location.hash.replace(/^#/,"")},filterElementInContainer:function(e){return function(t){return e.contains?e!=t&&e.contains(t):!!(16&e.compareDocumentPosition(t))}},scrollOffset:function(e,t,r){if(r)return e===document?t.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):"static"!==getComputedStyle(e).position?t.offsetLeft:t.offsetLeft-e.offsetLeft;if(e===document)return t.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if("static"!==getComputedStyle(e).position){if(t.offsetParent!==e){var i=n(t,(function(t){return t===e||t===document})),a=i.offsetTop;if(i.offsetParent!==e)throw new Error("Seems containerElement is not an ancestor of the Element");return a}return t.offsetTop}if(t.offsetParent===e.offsetParent)return t.offsetTop-e.offsetTop;var o=function(e){return e===document};return n(t,o).offsetTop-n(e,o).offsetTop}}},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:b.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var I=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function S(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+T(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(I,"$&/")+"/"),S(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+T(s=e[c],c);u+=S(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=S(s=s.value,t,n,l=r+T(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return S(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function P(){var e=A.current;if(null===e)throw Error(d(321));return e}var R={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return P().useCallback(e,t)},t.useContext=function(e,t){return P().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return P().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return P().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return P().useLayoutEffect(e,t)},t.useMemo=function(e,t){return P().useMemo(e,t)},t.useReducer=function(e,t,n){return P().useReducer(e,t,n)},t.useRef=function(e){return P().useRef(e)},t.useState=function(e){return P().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(P){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=I(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};u(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(N([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=m.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return y.prototype=g,u(x,"constructor",g),u(g,"constructor",y),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(E.prototype),u(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),u(x,s,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>I(o,n))void 0!==u&&0>I(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>I(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],S=[],C=1,N=null,A=3,P=!1,R=!1,O=!1;function D(e){for(var t=_(S);null!==t;){if(null===t.callback)E(S);else{if(!(t.startTime<=e))break;E(S),t.sortIndex=t.expirationTime,x(T,t)}t=_(S)}}function L(e){if(O=!1,D(e),!R)if(null!==_(T))R=!0,n(M);else{var t=_(S);null!==t&&r(L,t.startTime-e)}}function M(e,n){R=!1,O&&(O=!1,i()),P=!0;var a=A;try{for(D(n),N=_(T);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,A=N.priorityLevel;var s=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?N.callback=s:N===_(T)&&E(T),D(n)}else E(T);N=_(T)}if(null!==N)var u=!0;else{var c=_(S);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{N=null,A=a,P=!1}}var j=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||P||(R=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return _(T)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,x(S,e),null===_(T)&&e===_(S)&&(O?i():O=!0,r(L,o-s))):(e.sortIndex=u,x(T,e),R||P||(R=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},391:function(e){"use strict";var t=function(){};e.exports=t}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Ir},SDK_VERSION:function(){return xi},_DEFAULT_ENTRY_NAME:function(){return si},_addComponent:function(){return fi},_addOrOverwriteComponent:function(){return hi},_apps:function(){return ci},_clearComponents:function(){return mi},_components:function(){return li},_getProvider:function(){return pi},_registerComponent:function(){return di},_removeServiceInstance:function(){return vi},deleteApp:function(){return Ti},getApp:function(){return Ei},getApps:function(){return Ii},initializeApp:function(){return _i},onLog:function(){return Ni},registerVersion:function(){return Ci},setLogLevel:function(){return Ai}});var t=n(791),r=n(164);function i(e){if(Array.isArray(e))return e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){return i(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||o(e,t)||s()}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var l,f=l||(l={});f.Pop="POP",f.Push="PUSH",f.Replace="REPLACE";var h=function(e){return e};function d(e){e.preventDefault(),e.returnValue=""}function p(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function v(){return Math.random().toString(36).substr(2,8)}function m(e){var t=e.pathname;t=void 0===t?"/":t;var n=e.search;return n=void 0===n?"":n,e=void 0===(e=e.hash)?"":e,n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function y(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function g(e,t){if(!e)throw new Error(t)}var k=(0,t.createContext)(null);var b=(0,t.createContext)(null);var w=(0,t.createContext)({outlet:null,matches:[]});function x(e){var n=e.to,r=e.replace,i=e.state;C()||g(!1);var a=A();return(0,t.useEffect)((function(){a(n,{replace:r,state:i})})),null}function _(e){return function(e){var n=(0,t.useContext)(w).outlet;if(n)return(0,t.createElement)(P.Provider,{value:e},n);return n}(e.context)}function E(e){g(!1)}function I(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,s=e.navigationType,u=void 0===s?l.Pop:s,c=e.navigator,f=e.static,h=void 0!==f&&f;C()&&g(!1);var d=H(r),p=(0,t.useMemo)((function(){return{basename:d,navigator:c,static:h}}),[d,c,h]);"string"===typeof o&&(o=y(o));var v=o,m=v.pathname,w=void 0===m?"/":m,x=v.search,_=void 0===x?"":x,E=v.hash,I=void 0===E?"":E,T=v.state,S=void 0===T?null:T,N=v.key,A=void 0===N?"default":N,P=(0,t.useMemo)((function(){var e=B(w,d);return null==e?null:{pathname:e,search:_,hash:I,state:S,key:A}}),[d,w,_,I,S,A]);return null==P?null:(0,t.createElement)(k.Provider,{value:p},(0,t.createElement)(b.Provider,{children:a,value:{location:P,navigationType:u}}))}function T(e){var n=e.children,r=e.location;return function(e,n){C()||g(!1);var r=(0,t.useContext)(w).matches,i=r[r.length-1],a=i?i.params:{},o=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;var s,u=N();if(n){var c,l="string"===typeof n?y(n):n;"/"===o||(null==(c=l.pathname)?void 0:c.startsWith(o))||g(!1),s=l}else s=u;var f=s.pathname||"/",h="/"===o?f:f.slice(o.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=B(("string"===typeof t?y(t):t).pathname||"/",n);if(null==r)return null;var i=D(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=F(i[o],r);return a}(e,{pathname:h});0;return U(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:z([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:z([o,e.pathnameBase])})})),r)}(O(n),r)}function S(e){C()||g(!1);var n=(0,t.useContext)(k),r=n.basename,i=n.navigator,a=R(e),o=a.hash,s=a.pathname,u=a.search,c=s;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?y(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===s?r+(f?"/":""):z([r,s])}return i.createHref({pathname:c,search:u,hash:o})}function C(){return null!=(0,t.useContext)(b)}function N(){return C()||g(!1),(0,t.useContext)(b).location}function A(){C()||g(!1);var e=(0,t.useContext)(k),n=e.basename,r=e.navigator,i=(0,t.useContext)(w).matches,a=N().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,t.useRef)(!1);(0,t.useEffect)((function(){s.current=!0}));var u=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=q(e,JSON.parse(o),a);"/"!==n&&(i.pathname=z([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return u}var P=(0,t.createContext)(null);function R(e){var n=(0,t.useContext)(w).matches,r=N().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,t.useMemo)((function(){return q(e,JSON.parse(i),r)}),[e,i,r])}function O(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==E&&g(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=O(e.props.children)),n.push(r)}else n.push.apply(n,O(e.props.children))})),n}function D(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||g(!1),a.relativePath=a.relativePath.slice(r.length));var o=z([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&g(!1),D(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:j(o,e.index),routesMeta:s})})),t}var L=/^:\w+$/,M=function(e){return"*"===e};function j(e,t){var n=e.split("/"),r=n.length;return n.some(M)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!M(e)})).reduce((function(e,t){return e+(L.test(t)?3:""===t?1:10)}),r)}function F(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=V({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:z([i,l.pathname]),pathnameBase:z([i,l.pathnameBase]),route:f}),"/"!==l.pathnameBase&&(i=z([i,l.pathnameBase]))}return a}function U(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,t.createElement)(w.Provider,{children:void 0!==i.route.element?i.route.element:(0,t.createElement)(_,null),value:{outlet:r,matches:n.concat(e.slice(0,a+1))}})}),null)}function V(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=u(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],c=s.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:s,pathnameBase:c,pattern:e}}function q(e,t,n){var r,i="string"===typeof e?y(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?y(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:W(a),hash:K(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function B(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var z=function(e){return e.join("/").replace(/\/\/+/g,"/")},H=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},W=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},K=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function G(){return G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}function Q(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Y=["onClick","reloadDocument","replace","state","target","to"];function X(e){var n=e.basename,r=e.children,i=e.window,a=(0,t.useRef)();null==a.current&&(a.current=function(e){function t(){var e=o.location,t=s.state||{};return[t.idx,h({pathname:e.pathname,search:e.search,hash:e.hash,state:t.usr||null,key:t.key||"default"})]}function n(e){return"string"===typeof e?e:m(e)}function r(e,t){return void 0===t&&(t=null),h(c({pathname:k.pathname,hash:"",search:""},"string"===typeof e?y(e):e,{state:t,key:v()}))}function i(e){f=e,e=t(),g=e[0],k=e[1],b.call({action:f,location:k})}function a(e){s.go(e)}void 0===e&&(e={});var o=void 0===(e=e.window)?document.defaultView:e,s=o.history,u=null;o.addEventListener("popstate",(function(){if(u)w.call(u),u=null;else{var e=l.Pop,n=t(),r=n[0];if(n=n[1],w.length){if(null!=r){var o=g-r;o&&(u={action:e,location:n,retry:function(){a(-1*o)}},a(o))}}else i(e)}}));var f=l.Pop,g=(e=t())[0],k=e[1],b=p(),w=p();return null==g&&(g=0,s.replaceState(c({},s.state,{idx:g}),"")),{get action(){return f},get location(){return k},createHref:n,push:function e(t,a){var u=l.Push,c=r(t,a);if(!w.length||(w.call({action:u,location:c,retry:function(){e(t,a)}}),0)){var f=[{usr:c.state,key:c.key,idx:g+1},n(c)];c=f[0],f=f[1];try{s.pushState(c,"",f)}catch(Cm){o.location.assign(f)}i(u)}},replace:function e(t,a){var o=l.Replace,u=r(t,a);w.length&&(w.call({action:o,location:u,retry:function(){e(t,a)}}),1)||(u=[{usr:u.state,key:u.key,idx:g},n(u)],s.replaceState(u[0],"",u[1]),i(o))},go:a,back:function(){a(-1)},forward:function(){a(1)},listen:function(e){return b.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&o.addEventListener("beforeunload",d),function(){t(),w.length||o.removeEventListener("beforeunload",d)}}}}({window:i}));var o=a.current,s=u((0,t.useState)({action:o.action,location:o.location}),2),f=s[0],g=s[1];return(0,t.useLayoutEffect)((function(){return o.listen(g)}),[o]),(0,t.createElement)(I,{basename:n,children:r,location:f.location,navigationType:f.action,navigator:o})}var J=(0,t.forwardRef)((function(e,n){var r=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,s=e.state,u=e.target,c=e.to,l=Q(e,Y),f=S(c),h=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=A(),u=N(),c=R(e);return(0,t.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||m(u)===m(c);s(e,{replace:n,state:o})}}),[u,s,c,a,o,i,e])}(c,{replace:o,state:s,target:u});return(0,t.createElement)("a",G({},l,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:u}))}));var $=n(184),Z=function(){return(0,$.jsxs)("div",{className:"main-header-topnav",children:[(0,$.jsx)("div",{className:"main-header-logo",children:"#NPOTW"}),(0,$.jsxs)("div",{className:"main-header-navigation",children:[(0,$.jsx)("a",{href:"#",children:"This week"}),(0,$.jsx)("a",{href:"#",children:"Past weeks"}),(0,$.jsx)("a",{href:"#",children:"Artists"}),(0,$.jsx)("a",{href:"#",children:"Streamers"}),(0,$.jsx)("a",{href:"#",children:"/"}),(0,$.jsx)(J,{to:"/dashboard",children:(0,$.jsx)("a",{children:"Dashboard"})})]})]})},ee=n(667),te=function(){return(0,$.jsxs)("div",{className:"main-header-headercontent",children:[(0,$.jsxs)("div",{className:"main-header-headercontentleft",children:[(0,$.jsx)("h1",{className:"main-header-headercontenth1",children:"Current character of the week..."}),(0,$.jsx)("div",{className:"main-header-headercontentleftcontent",children:"Randy Bullet is an OG member of Chang Gang, joining the gang in 2017. He is also a shadow master to the Puppets within the Underground racing scene."}),(0,$.jsxs)("div",{className:"main-header-headercontentleftbottom",children:[(0,$.jsx)("div",{className:"main-header-headercontentleftbottom-div bottom-div-first",children:"Other"}),(0,$.jsx)("div",{className:"main-header-headercontentleftbottom-div",children:"More details"}),(0,$.jsx)("div",{className:"main-header-headercontentleftbottom-div bottom-div-noborder",children:"Art references"}),(0,$.jsx)("div",{className:"main-header-headercontentleftbottom-div bottom-div-last",children:(0,$.jsx)(ee.rU,{activeClass:"active",to:"section1",spy:!0,smooth:!0,offset:-70,duration:500,children:"Current art"})})]})]}),(0,$.jsx)("div",{className:"main-header-headercontentright",children:(0,$.jsx)("div",{className:"main-header-headercontentrightcontent"})})]})},ne=function(){return(0,$.jsxs)("div",{className:"content-art",id:"section1",children:[(0,$.jsx)("div",{className:"art-h1",children:"This week's art"}),(0,$.jsxs)("div",{className:"gallery",children:[(0,$.jsxs)("div",{className:"column",children:[(0,$.jsxs)("div",{className:"item",children:[(0,$.jsx)("img",{src:"https://preview.redd.it/7oayrvrb85171.png?auto=webp&s=f357a038e33f301c98b38c378483d123e055c454",className:"img"}),(0,$.jsx)("div",{className:"imginfo",children:(0,$.jsxs)("div",{className:"imginfo-cont",children:[(0,$.jsx)("span",{className:"imgtitle",children:"Author"}),(0,$.jsx)("a",{className:"imgdesc",href:"https://twitter.com/elledee_art",children:"@author_name"})]})})]}),(0,$.jsxs)("div",{className:"item",children:[(0,$.jsx)("img",{src:"https://images-ext-2.discordapp.net/external/TeL2nulQAHoUmQEjjX55xuRPC9CwhJTnyhQFMOP6-PA/https/pbs.twimg.com/media/FJF7Iw7XoAU0JJ2.jpg%3Alarge?width=502&height=443",className:"img"}),(0,$.jsx)("div",{className:"imginfo",children:(0,$.jsxs)("div",{className:"imginfo-cont",children:[(0,$.jsx)("span",{className:"imgtitle",children:"Author"}),(0,$.jsx)("a",{className:"imgdesc",href:"https://twitter.com/elledee_art",children:"@author_name"})]})})]}),(0,$.jsxs)("div",{className:"item",children:[(0,$.jsx)("img",{src:"https://images-ext-2.discordapp.net/external/bjspM206Hbcji0e-5DkgMzKeDE6vzl7y0-Rnk9EXITg/https/pbs.twimg.com/media/FJCu9pWXoAE0i_a.jpg%3Alarge?width=383&height=442",className:"img"}),(0,$.jsx)("div",{className:"imginfo",children:(0,$.jsxs)("div",{className:"imginfo-cont",children:[(0,$.jsx)("span",{className:"imgtitle",children:"Author"}),(0,$.jsx)("a",{className:"imgdesc",href:"https://twitter.com/elledee_art",children:"@author_name"})]})})]}),(0,$.jsxs)("div",{className:"item",children:[(0,$.jsx)("img",{src:"https://media.discordapp.net/attachments/673755194026360833/932766238122319943/565l8u3clbc81.png?width=249&height=443",className:"img"}),(0,$.jsx)("div",{className:"imginfo",children:(0,$.jsxs)("div",{className:"imginfo-cont",children:[(0,$.jsx)("span",{className:"imgtitle",children:"Author"}),(0,$.jsx)("a",{className:"imgdesc",href:"https://twitter.com/elledee_art",children:"@author_name"})]})})]})]}),(0,$.jsxs)("div",{className:"column",children:[(0,$.jsxs)("div",{className:"item",children:[(0,$.jsx)("img",{src:"https://media.discordapp.net/attachments/673755194026360833/932766238122319943/565l8u3clbc81.png?width=249&height=443",className:"img"}),(0,$.jsx)("div",{className:"imginfo",children:(0,$.jsxs)("div",{className:"imginfo-cont",children:[(0,$.jsx)("span",{className:"imgtitle",children:"Author"}),(0,$.jsx)("a",{className:"imgdesc",href:"https://twitter.com/elledee_art",children:"@author_name"})]})})]}),(0,$.jsxs)("div",{className:"item",children:[(0,$.jsx)("img",{src:"https://media.discordapp.net/attachments/673755194026360833/930566598362824724/va5ta7jhg4b81.png?width=575&height=443",className:"img"}),(0,$.jsx)("div",{className:"imginfo",children:(0,$.jsxs)("div",{className:"imginfo-cont",children:[(0,$.jsx)("span",{className:"imgtitle",children:"Author"}),(0,$.jsx)("a",{className:"imgdesc",href:"https://twitter.com/elledee_art",children:"@author_name"})]})})]}),(0,$.jsxs)("div",{className:"item",children:[(0,$.jsx)("img",{src:"https://media.discordapp.net/attachments/673755194026360833/930566669913448478/b7bog7nha4b81.png?width=549&height=443",className:"img"}),(0,$.jsx)("div",{className:"imginfo",children:(0,$.jsxs)("div",{className:"imginfo-cont",children:[(0,$.jsx)("span",{className:"imgtitle",children:"Author"}),(0,$.jsx)("a",{className:"imgdesc",href:"https://twitter.com/elledee_art",children:"@author_name"})]})})]}),(0,$.jsxs)("div",{className:"item",children:[(0,$.jsx)("img",{src:"https://media.discordapp.net/attachments/673755194026360833/930566647905919046/ftju0nt394b81.png?width=576&height=443",className:"img"}),(0,$.jsx)("div",{className:"imginfo",children:(0,$.jsxs)("div",{className:"imginfo-cont",children:[(0,$.jsx)("span",{className:"imgtitle",children:"Author"}),(0,$.jsx)("a",{className:"imgdesc",href:"https://twitter.com/elledee_art",children:"@author_name"})]})})]})]}),(0,$.jsxs)("div",{className:"column",children:[(0,$.jsxs)("div",{className:"item",children:[(0,$.jsx)("a",{href:"https://zepto.scrolller.com/husband-made-me-a-pork-shoulder-done-on-the-2xzko3llwq-608x1080.jpg",className:"imglink",children:(0,$.jsx)("img",{src:"https://pbs.twimg.com/media/FIcXresXwAIR9kr?format=jpg&name=medium",className:"img"})}),(0,$.jsx)("div",{className:"imginfo",children:(0,$.jsxs)("div",{className:"imginfo-cont",children:[(0,$.jsx)("span",{className:"imgtitle",children:"Author"}),(0,$.jsx)("a",{className:"imgdesc",href:"https://twitter.com/elledee_art",children:"@author_name"})]})})]}),(0,$.jsxs)("div",{className:"item",children:[(0,$.jsx)("a",{href:"https://zepto.scrolller.com/sierpinski-dodecahedron-1366x768-4zpb2ye9pu-540x304.jpg",className:"imglink",children:(0,$.jsx)("img",{src:"https://media.discordapp.net/attachments/623720665748602890/932407342073544704/Untitled_Artwork.png?width=459&height=443",className:"img"})}),(0,$.jsx)("div",{className:"imginfo",children:(0,$.jsxs)("div",{className:"imginfo-cont",children:[(0,$.jsx)("span",{className:"imgtitle",children:"Author"}),(0,$.jsx)("a",{className:"imgdesc",href:"https://twitter.com/elledee_art",children:"@author_name"})]})})]}),(0,$.jsxs)("div",{className:"item",children:[(0,$.jsx)("a",{href:"https://zepto.scrolller.com/husband-made-me-a-pork-shoulder-done-on-the-2xzko3llwq-608x1080.jpg",className:"imglink",children:(0,$.jsx)("img",{src:"https://pbs.twimg.com/media/FH0Pxc4WQAMMYTd.jpg:large",className:"img"})}),(0,$.jsx)("div",{className:"imginfo",children:(0,$.jsxs)("div",{className:"imginfo-cont",children:[(0,$.jsx)("span",{className:"imgtitle",children:"Author"}),(0,$.jsx)("a",{className:"imgdesc",href:"https://twitter.com/elledee_art",children:"@author_name"})]})})]}),(0,$.jsxs)("div",{className:"item",children:[(0,$.jsx)("a",{href:"https://zepto.scrolller.com/sierpinski-dodecahedron-1366x768-4zpb2ye9pu-540x304.jpg",className:"imglink",children:(0,$.jsx)("img",{src:"https://images-ext-2.discordapp.net/external/yI0QnAAmi77Sc_Mvyn9pB2SWmsd141SL6VfUiCqy9Xw/https/media.discordapp.net/attachments/615300099471442049/926836564334628884/IMG_7377.jpg?width=820&height=443",className:"img"})}),(0,$.jsx)("div",{className:"imginfo",children:(0,$.jsxs)("div",{className:"imginfo-cont",children:[(0,$.jsx)("span",{className:"imgtitle",children:"Author"}),(0,$.jsx)("a",{className:"imgdesc",href:"https://twitter.com/elledee_art",children:"@author_name"})]})})]})]})]})]})};var re=function(){return(0,$.jsxs)("div",{className:"npotw-container",children:[(0,$.jsx)("div",{className:"main-header",children:(0,$.jsxs)("div",{className:"main-container",children:[(0,$.jsx)(Z,{}),(0,$.jsx)(te,{})]})}),(0,$.jsx)("div",{className:"main-container",children:(0,$.jsx)(ne,{})})]})};function ie(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function ae(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ie(a,r,i,o,s,"next",e)}function s(e){ie(a,r,i,o,s,"throw",e)}o(void 0)}))}}var oe=n(757),se=n.n(oe);function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function he(e,t){if(null==e)return{};var n,r,i=fe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var de=n(694),pe=n.n(de),ve=t.createContext({prefixes:{}});ve.Consumer,ve.Provider;function me(e,n){var r=(0,t.useContext)(ve).prefixes;return e||r[n]||n}var ye=/-(.)/g;var ge=["className","bsPrefix","as"],ke=function(e){return e[0].toUpperCase()+(t=e,t.replace(ye,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function be(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.displayName,i=void 0===r?ke(e):r,a=n.Component,o=n.defaultProps,s=t.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,o=t.as,s=void 0===o?a||"div":o,u=he(t,ge),c=me(i,e);return(0,$.jsx)(s,le({ref:n,className:pe()(r,c)},u))}));return s.defaultProps=o,s.displayName=i,s}var we=function(e){return t.forwardRef((function(t,n){return(0,$.jsx)("div",le(le({},t),{},{ref:n,className:pe()(t.className,e)}))}))},xe=["bsPrefix","className","variant","as"],_e=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.variant,a=e.as,o=void 0===a?"img":a,s=he(e,xe),u=me(n,"card-img");return(0,$.jsx)(o,le({ref:t,className:pe()(i?"".concat(u,"-").concat(i):u,r)},s))}));_e.displayName="CardImg";var Ee=_e,Ie=t.createContext(null);Ie.displayName="CardHeaderContext";var Te=Ie,Se=["bsPrefix","className","as"],Ce=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.as,o=void 0===a?"div":a,s=he(e,Se),u=me(r,"card-header"),c=(0,t.useMemo)((function(){return{cardHeaderBsPrefix:u}}),[u]);return(0,$.jsx)(Te.Provider,{value:c,children:(0,$.jsx)(o,le(le({ref:n},s),{},{className:pe()(i,u)}))})}));Ce.displayName="CardHeader";var Ne=Ce,Ae=["bsPrefix","className","bg","text","border","body","children","as"],Pe=we("h5"),Re=we("h6"),Oe=be("card-body"),De=be("card-title",{Component:Pe}),Le=be("card-subtitle",{Component:Re}),Me=be("card-link",{Component:"a"}),je=be("card-text",{Component:"p"}),Fe=be("card-footer"),Ue=be("card-img-overlay"),Ve=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.bg,a=e.text,o=e.border,s=e.body,u=e.children,c=e.as,l=void 0===c?"div":c,f=he(e,Ae),h=me(n,"card");return(0,$.jsx)(l,le(le({ref:t},f),{},{className:pe()(r,h,i&&"bg-".concat(i),a&&"text-".concat(a),o&&"border-".concat(o)),children:s?(0,$.jsx)(Oe,{children:u}):u}))}));Ve.displayName="Card",Ve.defaultProps={body:!1};var qe=Object.assign(Ve,{Img:Ee,Title:De,Subtitle:Le,Body:Oe,Link:Me,Text:je,Header:Ne,Footer:Fe,ImgOverlay:Ue});n(176);function Be(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function ze(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function He(e,n){return Object.keys(n).reduce((function(r,i){var a,o=r,s=o[Be(i)],u=o[i],l=fe(o,[Be(i),i].map(ze)),f=n[i],h=function(e,n,r){var i=(0,t.useRef)(void 0!==e),a=(0,t.useState)(n),o=a[0],s=a[1],u=void 0!==e,c=i.current;return i.current=u,!u&&c&&o!==n&&s(n),[u?e:o,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),s(e)}),[r])]}(u,s,e[f]),d=h[0],p=h[1];return c({},l,((a={})[i]=d,a[f]=p,a))}),e)}function We(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function Ke(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function Ge(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}We.__suppressDeprecationWarning=!0,Ke.__suppressDeprecationWarning=!0,Ge.__suppressDeprecationWarning=!0;var Qe=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n};function Ye(e){var n=Qe(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var Xe="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product;"undefined"!==typeof document||Xe?t.useLayoutEffect:t.useEffect,new WeakMap;var Je=["as","disabled"];function $e(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.onClick,s=e.tabIndex,u=void 0===s?0:s,c=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var l={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},l];var f=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==o||o(e)};return[{role:"button",disabled:void 0,tabIndex:n?void 0:u,href:"a"===t&&n?void 0:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:f,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),f(e))}},l]}var Ze=t.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Je),a=u($e(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],s=a[1].tagName;return(0,$.jsx)(s,Object.assign({},i,o,{ref:t}))}));Ze.displayName="Button";var et=["onKeyDown"];var tt=t.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,et),a=u($e(Object.assign({tagName:"a"},i)),1)[0],o=Ye((function(e){a.onKeyDown(e),null==r||r(e)}));return((n=i.href)&&"#"!==n.trim()||i.role)&&"button"!==i.role?(0,$.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,$.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));tt.displayName="Anchor";var nt=tt;function rt(e,t){return rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},rt(e,t)}var it=!1,at=t.createContext(null),ot="unmounted",st="exited",ut="entering",ct="entered",lt="exiting",ft=function(e){var n,i;function a(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=st,r.appearStatus=ut):i=ct:i=t.unmountOnExit||t.mountOnEnter?ot:st,r.state={status:i},r.nextCallback=null,r}i=e,(n=a).prototype=Object.create(i.prototype),n.prototype.constructor=n,rt(n,i),a.getDerivedStateFromProps=function(e,t){return e.in&&t.status===ot?{status:st}:null};var o=a.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==ut&&n!==ct&&(t=ut):n!==ut&&n!==ct||(t=lt)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},o.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===ut?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===st&&this.setState({status:ot})},o.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,a=this.props.nodeRef?[i]:[r.findDOMNode(this),i],o=a[0],s=a[1],u=this.getTimeouts(),c=i?u.appear:u.enter;!e&&!n||it?this.safeSetState({status:ct},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:ut},(function(){t.props.onEntering(o,s),t.onTransitionEnd(c,(function(){t.safeSetState({status:ct},(function(){t.props.onEntered(o,s)}))}))})))},o.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:r.findDOMNode(this);t&&!it?(this.props.onExit(i),this.safeSetState({status:lt},(function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:st},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:st},(function(){e.props.onExited(i)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:r.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=a[0],s=a[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===ot)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,fe(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(at.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},a}(t.Component);function ht(){}ft.contextType=at,ft.propTypes={},ft.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ht,onEntering:ht,onEntered:ht,onExit:ht,onExiting:ht,onExited:ht},ft.UNMOUNTED=ot,ft.EXITED=st,ft.ENTERING=ut,ft.ENTERED=ct,ft.EXITING=lt;var dt=ft;function pt(e){var t=function(e){return e&&e.ownerDocument||document}(e);return t&&t.defaultView||window}var vt=/([A-Z])/g;var mt=/^ms-/;function yt(e){return function(e){return e.replace(vt,"-$1").toLowerCase()}(e).replace(mt,"-ms-")}var gt=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var kt=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(yt(t))||function(e,t){return pt(e).getComputedStyle(e,t)}(e).getPropertyValue(yt(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!gt.test(e))}(i)?n+=yt(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(yt(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},bt=!("undefined"===typeof window||!window.document||!window.document.createElement),wt=!1,xt=!1;try{var _t={get passive(){return wt=!0},get once(){return xt=wt=!0}};bt&&(window.addEventListener("test",_t,_t),window.removeEventListener("test",_t,!0))}catch(GP){}var Et=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!xt){var i=r.once,a=r.capture,o=n;!xt&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,wt?r:a)}e.addEventListener(t,n,r)};var It=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var Tt=function(e,t,n,r){return Et(e,t,n,r),function(){It(e,t,n,r)}};function St(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=Tt(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function Ct(e,t,n,r){null==n&&(n=function(e){var t=kt(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=St(e,n,r),a=Tt(e,"transitionend",t);return function(){i(),a()}}function Nt(e,t){var n=kt(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function At(e,t){var n=Nt(e,"transitionDuration"),r=Nt(e,"transitionDelay"),i=Ct(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var Pt=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var Rt=function(e,n){return(0,t.useMemo)((function(){return function(e,t){var n=Pt(e),r=Pt(t);return function(e){n&&n(e),r&&r(e)}}(e,n)}),[e,n])};var Ot,Dt=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],Lt=t.forwardRef((function(e,n){var i=e.onEnter,a=e.onEntering,o=e.onEntered,s=e.onExit,u=e.onExiting,c=e.onExited,l=e.addEndListener,f=e.children,h=e.childRef,d=he(e,Dt),p=(0,t.useRef)(null),v=Rt(p,h),m=function(e){var t;v((t=e)&&"setState"in t?r.findDOMNode(t):null!=t?t:null)},y=function(e){return function(t){e&&p.current&&e(p.current,t)}},g=(0,t.useCallback)(y(i),[i]),k=(0,t.useCallback)(y(a),[a]),b=(0,t.useCallback)(y(o),[o]),w=(0,t.useCallback)(y(s),[s]),x=(0,t.useCallback)(y(u),[u]),_=(0,t.useCallback)(y(c),[c]),E=(0,t.useCallback)(y(l),[l]);return(0,$.jsx)(dt,le(le({ref:n},d),{},{onEnter:g,onEntered:b,onEntering:k,onExit:w,onExited:_,onExiting:x,addEndListener:E,nodeRef:p,children:"function"===typeof f?function(e,t){return f(e,le(le({},t),{},{ref:m}))}:t.cloneElement(f,{ref:m})}))})),Mt=Lt,jt=["className","children","transitionClasses"],Ft=(ue(Ot={},ut,"show"),ue(Ot,ct,"show"),Ot),Ut=t.forwardRef((function(e,n){var r=e.className,i=e.children,a=e.transitionClasses,o=void 0===a?{}:a,s=he(e,jt),u=(0,t.useCallback)((function(e,t){!function(e){e.offsetHeight}(e),null==s.onEnter||s.onEnter(e,t)}),[s]);return(0,$.jsx)(Mt,le(le({ref:n,addEndListener:At},s),{},{onEnter:u,childRef:i.ref,children:function(e,n){return t.cloneElement(i,le(le({},n),{},{className:pe()("fade",r,i.props.className,Ft[e],o[e])}))}}))}));Ut.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Ut.displayName="Fade";var Vt=Ut,qt=n(7),Bt=n.n(qt),zt=["className","variant"],Ht={"aria-label":Bt().string,onClick:Bt().func,variant:Bt().oneOf(["white"])},Wt=t.forwardRef((function(e,t){var n=e.className,r=e.variant,i=he(e,zt);return(0,$.jsx)("button",le({ref:t,type:"button",className:pe()("btn-close",r&&"btn-close-".concat(r),n)},i))}));Wt.displayName="CloseButton",Wt.propTypes=Ht,Wt.defaultProps={"aria-label":"Close"};var Kt=Wt,Gt=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],Qt=we("h4");Qt.displayName="DivStyledAsH4";var Yt=be("alert-heading",{Component:Qt}),Xt=be("alert-link",{Component:nt}),Jt={variant:"primary",show:!0,transition:Vt,closeLabel:"Close alert"},$t=t.forwardRef((function(e,t){var n=He(e,{show:"onClose"}),r=n.bsPrefix,i=n.show,a=n.closeLabel,o=n.closeVariant,s=n.className,u=n.children,c=n.variant,l=n.onClose,f=n.dismissible,h=n.transition,d=he(n,Gt),p=me(r,"alert"),v=Ye((function(e){l&&l(!1,e)})),m=!0===h?Vt:h,y=(0,$.jsxs)("div",le(le({role:"alert"},m?void 0:d),{},{ref:t,className:pe()(s,p,c&&"".concat(p,"-").concat(c),f&&"".concat(p,"-dismissible")),children:[f&&(0,$.jsx)(Kt,{onClick:v,"aria-label":a,variant:o}),u]}));return m?(0,$.jsx)(m,le(le({unmountOnExit:!0},d),{},{ref:void 0,in:i,children:y})):i?y:null}));$t.displayName="Alert",$t.defaultProps=Jt;var Zt=Object.assign($t,{Link:Xt,Heading:Yt}),en=["as","className","type","tooltip"],tn={type:Bt().string,tooltip:Bt().bool,as:Bt().elementType},nn=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.className,a=e.type,o=void 0===a?"valid":a,s=e.tooltip,u=void 0!==s&&s,c=he(e,en);return(0,$.jsx)(r,le(le({},c),{},{ref:t,className:pe()(i,"".concat(o,"-").concat(u?"tooltip":"feedback"))}))}));nn.displayName="Feedback",nn.propTypes=tn;var rn=nn,an=t.createContext({}),on=["id","bsPrefix","className","type","isValid","isInvalid","as"],sn=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,a=e.className,o=e.type,s=void 0===o?"checkbox":o,u=e.isValid,c=void 0!==u&&u,l=e.isInvalid,f=void 0!==l&&l,h=e.as,d=void 0===h?"input":h,p=he(e,on),v=(0,t.useContext)(an).controlId;return i=me(i,"form-check-input"),(0,$.jsx)(d,le(le({},p),{},{ref:n,type:s,id:r||v,className:pe()(a,i,c&&"is-valid",f&&"is-invalid")}))}));sn.displayName="FormCheckInput";var un=sn,cn=["bsPrefix","className","htmlFor"],ln=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.htmlFor,o=he(e,cn),s=(0,t.useContext)(an).controlId;return r=me(r,"form-check-label"),(0,$.jsx)("label",le(le({},o),{},{ref:n,htmlFor:a||s,className:pe()(i,r)}))}));ln.displayName="FormCheckLabel";var fn=ln;var hn=["id","bsPrefix","bsSwitchPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],dn=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,a=e.bsSwitchPrefix,o=e.inline,s=void 0!==o&&o,u=e.disabled,c=void 0!==u&&u,l=e.isValid,f=void 0!==l&&l,h=e.isInvalid,d=void 0!==h&&h,p=e.feedbackTooltip,v=void 0!==p&&p,m=e.feedback,y=e.feedbackType,g=e.className,k=e.style,b=e.title,w=void 0===b?"":b,x=e.type,_=void 0===x?"checkbox":x,E=e.label,I=e.children,T=e.as,S=void 0===T?"input":T,C=he(e,hn);i=me(i,"form-check"),a=me(a,"form-switch");var N=(0,t.useContext)(an).controlId,A=(0,t.useMemo)((function(){return{controlId:r||N}}),[N,r]),P=!I&&null!=E&&!1!==E||function(e,n){return t.Children.toArray(e).some((function(e){return t.isValidElement(e)&&e.type===n}))}(I,fn),R=(0,$.jsx)(un,le(le({},C),{},{type:"switch"===_?"checkbox":_,ref:n,isValid:f,isInvalid:d,disabled:c,as:S}));return(0,$.jsx)(an.Provider,{value:A,children:(0,$.jsx)("div",{style:k,className:pe()(g,P&&i,s&&"".concat(i,"-inline"),"switch"===_&&a),children:I||(0,$.jsxs)($.Fragment,{children:[R,P&&(0,$.jsx)(fn,{title:w,children:E}),m&&(0,$.jsx)(rn,{type:y,tooltip:v,children:m})]})})})}));dn.displayName="FormCheck";var pn=Object.assign(dn,{Input:un,Label:fn}),vn=(n(391),["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"]),mn=t.forwardRef((function(e,n){var r,i,a=e.bsPrefix,o=e.type,s=e.size,u=e.htmlSize,c=e.id,l=e.className,f=e.isValid,h=void 0!==f&&f,d=e.isInvalid,p=void 0!==d&&d,v=e.plaintext,m=e.readOnly,y=e.as,g=void 0===y?"input":y,k=he(e,vn),b=(0,t.useContext)(an).controlId;(a=me(a,"form-control"),v)?r=ue({},"".concat(a,"-plaintext"),!0):(ue(i={},a,!0),ue(i,"".concat(a,"-").concat(s),s),r=i);return(0,$.jsx)(g,le(le({},k),{},{type:o,size:u,ref:n,readOnly:m,id:c||b,className:pe()(l,r,h&&"is-valid",p&&"is-invalid","color"===o&&"".concat(a,"-color"))}))}));mn.displayName="FormControl";var yn=Object.assign(mn,{Feedback:rn}),gn=be("form-floating"),kn=["controlId","as"],bn=t.forwardRef((function(e,n){var r=e.controlId,i=e.as,a=void 0===i?"div":i,o=he(e,kn),s=(0,t.useMemo)((function(){return{controlId:r}}),[r]);return(0,$.jsx)(an.Provider,{value:s,children:(0,$.jsx)(a,le(le({},o),{},{ref:n}))})}));bn.displayName="FormGroup";var wn=bn,xn=["as","bsPrefix","className"],_n=["className"],En=["xxl","xl","lg","md","sm","xs"];var In=t.forwardRef((function(e,t){var n=function(e){var t=e.as,n=e.bsPrefix,r=e.className,i=he(e,xn);n=me(n,"col");var a=[],o=[];return En.forEach((function(e){var t,r,s,u=i[e];delete i[e],"object"===typeof u&&null!=u?(t=u.span,r=u.offset,s=u.order):t=u;var c="xs"!==e?"-".concat(e):"";t&&a.push(!0===t?"".concat(n).concat(c):"".concat(n).concat(c,"-").concat(t)),null!=s&&o.push("order".concat(c,"-").concat(s)),null!=r&&o.push("offset".concat(c,"-").concat(r))})),[le(le({},i),{},{className:pe().apply(void 0,[r].concat(a,o))}),{as:t,bsPrefix:n,spans:a}]}(e),r=u(n,2),i=r[0],a=i.className,o=he(i,_n),s=r[1],c=s.as,l=void 0===c?"div":c,f=s.bsPrefix,h=s.spans;return(0,$.jsx)(l,le(le({},o),{},{ref:t,className:pe()(a,!h.length&&f)}))}));In.displayName="Col";var Tn=In,Sn=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],Cn=t.forwardRef((function(e,n){var r=e.as,i=void 0===r?"label":r,a=e.bsPrefix,o=e.column,s=e.visuallyHidden,u=e.className,c=e.htmlFor,l=he(e,Sn),f=(0,t.useContext)(an).controlId;a=me(a,"form-label");var h="col-form-label";"string"===typeof o&&(h="".concat(h," ").concat(h,"-").concat(o));var d=pe()(u,a,s&&"visually-hidden",o&&h);return c=c||f,o?(0,$.jsx)(Tn,le({ref:n,as:"label",className:d,htmlFor:c},l)):(0,$.jsx)(i,le({ref:n,className:d,htmlFor:c},l))}));Cn.displayName="FormLabel",Cn.defaultProps={column:!1,visuallyHidden:!1};var Nn=Cn,An=["bsPrefix","className","id"],Pn=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.id,o=he(e,An),s=(0,t.useContext)(an).controlId;return r=me(r,"form-range"),(0,$.jsx)("input",le(le({},o),{},{type:"range",ref:n,className:pe()(i,r),id:a||s}))}));Pn.displayName="FormRange";var Rn=Pn,On=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],Dn=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.size,a=e.htmlSize,o=e.className,s=e.isValid,u=void 0!==s&&s,c=e.isInvalid,l=void 0!==c&&c,f=e.id,h=he(e,On),d=(0,t.useContext)(an).controlId;return r=me(r,"form-select"),(0,$.jsx)("select",le(le({},h),{},{size:a,ref:n,className:pe()(o,r,i&&"".concat(r,"-").concat(i),u&&"is-valid",l&&"is-invalid"),id:f||d}))}));Dn.displayName="FormSelect";var Ln=Dn,Mn=["bsPrefix","className","as","muted"],jn=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"small":i,o=e.muted,s=he(e,Mn);return n=me(n,"form-text"),(0,$.jsx)(a,le(le({},s),{},{ref:t,className:pe()(r,n,o&&"text-muted")}))}));jn.displayName="FormText";var Fn=jn,Un=t.forwardRef((function(e,t){return(0,$.jsx)(pn,le(le({},e),{},{ref:t,type:"switch"}))}));Un.displayName="Switch";var Vn=Object.assign(Un,{Input:pn.Input,Label:pn.Label}),qn=["bsPrefix","className","children","controlId","label"],Bn=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,a=e.controlId,o=e.label,s=he(e,qn);return n=me(n,"form-floating"),(0,$.jsxs)(wn,le(le({ref:t,className:pe()(r,n),controlId:a},s),{},{children:[i,(0,$.jsx)("label",{htmlFor:a,children:o})]}))}));Bn.displayName="FloatingLabel";var zn=Bn,Hn=["className","validated","as"],Wn={_ref:Bt().any,validated:Bt().bool,as:Bt().elementType},Kn=t.forwardRef((function(e,t){var n=e.className,r=e.validated,i=e.as,a=void 0===i?"form":i,o=he(e,Hn);return(0,$.jsx)(a,le(le({},o),{},{ref:t,className:pe()(n,r&&"was-validated")}))}));Kn.displayName="Form",Kn.propTypes=Wn;var Gn=Object.assign(Kn,{Group:wn,Control:yn,Floating:gn,Check:pn,Switch:Vn,Label:Nn,Text:Fn,Range:Rn,Select:Ln,FloatingLabel:zn}),Qn=["as","bsPrefix","variant","size","active","className"],Yn=t.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=e.size,o=e.active,s=e.className,c=he(e,Qn),l=me(r,"btn"),f=u($e(le({tagName:n},c)),2),h=f[0],d=f[1].tagName;return(0,$.jsx)(d,le(le(le({},c),h),{},{ref:t,className:pe()(s,l,o&&"active",i&&"".concat(l,"-").concat(i),a&&"".concat(l,"-").concat(a),c.href&&c.disabled&&"disabled")}))}));Yn.displayName="Button",Yn.defaultProps={variant:"primary",active:!1,disabled:!1};var Xn=Yn;function Jn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zn(e,t,n){return t&&$n(e.prototype,t),n&&$n(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function er(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function tr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nr(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rt(e,t)}function rr(e){return rr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},rr(e)}function ir(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(GP){return!1}}function ar(e){return ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ar(e)}function or(e,t){if(t&&("object"===ar(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return tr(e)}function sr(e){var t=ir();return function(){var n,r=rr(e);if(t){var i=rr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return or(this,n)}}function ur(e,t,n){return ur=ir()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&rt(i,n.prototype),i},ur.apply(null,arguments)}function cr(e){var t="function"===typeof Map?new Map:void 0;return cr=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ur(e,arguments,rr(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),rt(n,e)},cr(e)}var lr=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},fr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(lr(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},hr=function(e){return function(e){var t=lr(e);return fr.encodeByteArray(t,!0)}(e).replace(/\./g,"")},dr=function(e){try{return fr.decodeString(e,!0)}catch(GP){console.error("base64Decode failed: ",GP)}return null};function pr(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=pr(e[n],t[n]));return e}var vr=function(){function e(){var t=this;Jn(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Zn(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function mr(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[hr(JSON.stringify({alg:"none",type:"JWT"})),hr(JSON.stringify(a)),""].join(".")}function yr(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function gr(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yr())}function kr(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(GP){return!1}}function br(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function wr(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function xr(){var e=yr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function _r(){return"object"===typeof indexedDB}function Er(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}}))}var Ir=function(e){nr(n,e);var t=sr(n);function n(e,r,i){var a;return Jn(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(tr(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(tr(a),Tr.prototype.create),a}return Zn(n)}(cr(Error)),Tr=function(){function e(t,n,r){Jn(this,e),this.service=t,this.serviceName=n,this.errors=r}return Zn(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Sr(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Ir(n,a,t);return o}}]),e}();function Sr(e,t){return e.replace(Cr,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Cr=/\{\$([^}]+)}/g;function Nr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ar(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Pr(s)&&Pr(u)){if(!Ar(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Pr(e){return null!==e&&"object"===typeof e}function Rr(e){for(var t=[],n=function(){var e=u(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Or(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=u(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Dr(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Lr(e,t){var n=new Mr(e,t);return n.subscribe.bind(n)}var Mr=function(){function e(t,n){var r=this;Jn(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Zn(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=er(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=jr),void 0===r.error&&(r.error=jr),void 0===r.complete&&(r.complete=jr);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(GP){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(GP){"undefined"!==typeof console&&console.error&&console.error(GP)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function jr(){}var Fr=144e5;function Ur(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(Fr,r+i)}function Vr(e){return e&&e._delegate?e._delegate:e}function qr(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Br(e){return function(e){if(Array.isArray(e))return a(e)}(e)||qr(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var zr=function(){function e(t,n,r){Jn(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Zn(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Hr="[DEFAULT]",Wr=function(){function e(t,n){Jn(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Zn(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new vr;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(GP){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(GP){if(r)return null;throw GP}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Hr})}catch(GP){}var t,n=er(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=u(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(GP){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hr;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ae(oe.mark((function e(){var t;return oe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Br(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Br(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hr;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hr;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=er(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=u(i.value,2),c=s[0],l=s[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=er(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(wI){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Hr?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(wI){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hr;return this.component?this.component.multipleInstances?e:Hr:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Kr,Gr,Qr=function(){function e(t){Jn(this,e),this.name=t,this.providers=new Map}return Zn(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Wr(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Yr=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Gr||(Gr={}));var Xr,Jr,$r={debug:Gr.DEBUG,verbose:Gr.VERBOSE,info:Gr.INFO,warn:Gr.WARN,error:Gr.ERROR,silent:Gr.SILENT},Zr=Gr.INFO,ei=(ue(Kr={},Gr.DEBUG,"log"),ue(Kr,Gr.VERBOSE,"log"),ue(Kr,Gr.INFO,"info"),ue(Kr,Gr.WARN,"warn"),ue(Kr,Gr.ERROR,"error"),Kr),ti=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ei[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},ni=function(){function e(t){Jn(this,e),this.name=t,this._logLevel=Zr,this._logHandler=ti,this._userLogHandler=null,Yr.push(this)}return Zn(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Gr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?$r[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Gr.DEBUG].concat(t)),this._logHandler.apply(this,[this,Gr.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Gr.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Gr.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Gr.INFO].concat(t)),this._logHandler.apply(this,[this,Gr.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Gr.WARN].concat(t)),this._logHandler.apply(this,[this,Gr.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Gr.ERROR].concat(t)),this._logHandler.apply(this,[this,Gr.ERROR].concat(t))}}]),e}();var ri=function(){function e(t){Jn(this,e),this.container=t}return Zn(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ii="@firebase/app",ai="0.7.14",oi=new ni("@firebase/app"),si="[DEFAULT]",ui=(ue(Xr={},ii,"fire-core"),ue(Xr,"@firebase/app-compat","fire-core-compat"),ue(Xr,"@firebase/analytics","fire-analytics"),ue(Xr,"@firebase/analytics-compat","fire-analytics-compat"),ue(Xr,"@firebase/app-check","fire-app-check"),ue(Xr,"@firebase/app-check-compat","fire-app-check-compat"),ue(Xr,"@firebase/auth","fire-auth"),ue(Xr,"@firebase/auth-compat","fire-auth-compat"),ue(Xr,"@firebase/database","fire-rtdb"),ue(Xr,"@firebase/database-compat","fire-rtdb-compat"),ue(Xr,"@firebase/functions","fire-fn"),ue(Xr,"@firebase/functions-compat","fire-fn-compat"),ue(Xr,"@firebase/installations","fire-iid"),ue(Xr,"@firebase/installations-compat","fire-iid-compat"),ue(Xr,"@firebase/messaging","fire-fcm"),ue(Xr,"@firebase/messaging-compat","fire-fcm-compat"),ue(Xr,"@firebase/performance","fire-perf"),ue(Xr,"@firebase/performance-compat","fire-perf-compat"),ue(Xr,"@firebase/remote-config","fire-rc"),ue(Xr,"@firebase/remote-config-compat","fire-rc-compat"),ue(Xr,"@firebase/storage","fire-gcs"),ue(Xr,"@firebase/storage-compat","fire-gcs-compat"),ue(Xr,"@firebase/firestore","fire-fst"),ue(Xr,"@firebase/firestore-compat","fire-fst-compat"),ue(Xr,"fire-js","fire-js"),ue(Xr,"firebase","fire-js-all"),Xr),ci=new Map,li=new Map;function fi(e,t){try{e.container.addComponent(t)}catch(GP){oi.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),GP)}}function hi(e,t){e.container.addOrOverwriteComponent(t)}function di(e){var t=e.name;if(li.has(t))return oi.debug("There were multiple attempts to register component ".concat(t,".")),!1;li.set(t,e);var n,r=er(ci.values());try{for(r.s();!(n=r.n()).done;){fi(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function pi(e,t){return e.container.getProvider(t)}function vi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:si;pi(e,t).clearInstance(n)}function mi(){li.clear()}var yi,gi,ki=(ue(Jr={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ue(Jr,"bad-app-name","Illegal App name: '{$appName}"),ue(Jr,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ue(Jr,"app-deleted","Firebase App named '{$appName}' already deleted"),ue(Jr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ue(Jr,"invalid-log-argument","First argument to `onLog` must be null or a function."),Jr),bi=new Tr("app","Firebase",ki),wi=function(){function e(t,n,r){var i=this;Jn(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zr("app",(function(){return i}),"PUBLIC"))}return Zn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw bi.create("app-deleted",{appName:this._name})}}]),e}(),xi="9.6.4";function _i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:si,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw bi.create("bad-app-name",{appName:String(i)});var a=ci.get(i);if(a){if(Ar(e,a.options)&&Ar(r,a.config))return a;throw bi.create("duplicate-app",{appName:i})}var o,s=new Qr(i),u=er(li.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new wi(e,r,s);return ci.set(i,l),l}function Ei(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:si,t=ci.get(e);if(!t)throw bi.create("no-app",{appName:e});return t}function Ii(){return Array.from(ci.values())}function Ti(e){return Si.apply(this,arguments)}function Si(){return Si=ae(oe.mark((function e(t){var n;return oe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ci.has(n)){e.next=6;break}return ci.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Si.apply(this,arguments)}function Ci(e,t,n){var r,i=null!==(r=ui[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void oi.warn(s.join(" "))}di(new zr("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Ni(e,t){if(null!==e&&"function"!==typeof e)throw bi.create("invalid-log-argument");!function(e,t){var n,r=er(Yr);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=$r[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Gr[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Ai(e){var t;t=e,Yr.forEach((function(e){e.setLogLevel(t)}))}yi="",di(new zr("platform-logger",(function(e){return new ri(e)}),"PRIVATE")),Ci(ii,ai,yi),Ci(ii,ai,"esm2017"),Ci("fire-js","");var Pi=function(){function e(t,n){var r=this;Jn(this,e),this._delegate=t,this.firebase=n,fi(t,new zr("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Zn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Ti(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:si;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:si;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){fi(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){hi(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Ri=(ue(gi={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ue(gi,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),gi),Oi=new Tr("app-compat","Firebase",Ri);var Di=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=_i(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Nr(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Ci,setLogLevel:Ai,onLog:Ni,apps:null,SDK_VERSION:xi,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(di(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Oi.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&pr(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Nr(n,e=e||si))throw Oi.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Pi);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){pr(n,e)},createSubscribe:Lr,ErrorFactory:Tr,deepExtend:pr}),n}(),Li=new ni("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Li.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Mi=self.firebase.SDK_VERSION;Mi&&Mi.indexOf("LITE")>=0&&Li.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ji=Di;!function(e){Ci("@firebase/app-compat","0.1.15",e)}();function Fi(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=rr(e)););return e}function Ui(){return Ui="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Fi(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Ui.apply(this,arguments)}ji.registerVersion("firebase","9.6.4","app-compat");function Vi(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var qi;Object.create;var Bi="facebook.com",zi="github.com",Hi="google.com",Wi="password",Ki="twitter.com",Gi="EMAIL_SIGNIN",Qi="PASSWORD_RESET",Yi="RECOVER_EMAIL",Xi="REVERT_SECOND_FACTOR_ADDITION",Ji="VERIFY_AND_CHANGE_EMAIL",$i="VERIFY_EMAIL";function Zi(){return ue({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var ea=function(){var e;return ue(e={},"admin-restricted-operation","This operation is restricted to administrators only."),ue(e,"argument-error",""),ue(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),ue(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),ue(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),ue(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),ue(e,"cordova-not-ready","Cordova framework is not ready."),ue(e,"cors-unsupported","This browser is not supported."),ue(e,"credential-already-in-use","This credential is already associated with a different user account."),ue(e,"custom-token-mismatch","The custom token corresponds to a different audience."),ue(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),ue(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),ue(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),ue(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),ue(e,"email-already-in-use","The email address is already in use by another account."),ue(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),ue(e,"expired-action-code","The action code has expired."),ue(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),ue(e,"internal-error","An internal AuthError has occurred."),ue(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),ue(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),ue(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),ue(e,"invalid-auth-event","An internal AuthError has occurred."),ue(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),ue(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),ue(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),ue(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),ue(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),ue(e,"invalid-email","The email address is badly formatted."),ue(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),ue(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),ue(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),ue(e,"invalid-credential","The supplied auth credential is malformed or has expired."),ue(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),ue(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),ue(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),ue(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),ue(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),ue(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),ue(e,"wrong-password","The password is invalid or the user does not have a password."),ue(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),ue(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),ue(e,"invalid-provider-id","The specified provider ID is invalid."),ue(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),ue(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),ue(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),ue(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),ue(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),ue(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),ue(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),ue(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),ue(e,"missing-continue-uri","A continue URL must be provided in the request."),ue(e,"missing-iframe-start","An internal AuthError has occurred."),ue(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),ue(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),ue(e,"missing-multi-factor-info","No second factor identifier is provided."),ue(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),ue(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),ue(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),ue(e,"app-deleted","This instance of FirebaseApp has been deleted."),ue(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),ue(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),ue(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),ue(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),ue(e,"no-auth-event","An internal AuthError has occurred."),ue(e,"no-such-provider","User was not linked to an account with the given provider."),ue(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),ue(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),ue(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),ue(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),ue(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),ue(e,"provider-already-linked","User can only be linked to one identity for the given provider."),ue(e,"quota-exceeded","The project's quota for this operation has been exceeded."),ue(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),ue(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),ue(e,"rejected-credential","The request contains malformed or mismatching credentials."),ue(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),ue(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),ue(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),ue(e,"timeout","The operation has timed out."),ue(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),ue(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),ue(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),ue(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),ue(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),ue(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),ue(e,"unverified-email","The operation requires a verified email."),ue(e,"user-cancelled","The user did not grant your application the permissions it requested."),ue(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),ue(e,"user-disabled","The user account has been disabled by an administrator."),ue(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),ue(e,"user-signed-out",""),ue(e,"weak-password","The password must be 6 characters long or more."),ue(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),ue(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},ta=Zi,na=new Tr("auth","Firebase",Zi()),ra=new ni("@firebase/auth");function ia(e){if(ra.logLevel<=Gr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ra.error.apply(ra,["Auth (".concat(xi,"): ").concat(e)].concat(n))}}function aa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ca.apply(void 0,[e].concat(n))}function oa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ca.apply(void 0,[e].concat(n))}function sa(e,t,n){var r=Object.assign(Object.assign({},ta()),ue({},t,n));return new Tr("auth","Firebase",r).create(t,{appName:e.name})}function ua(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&aa(e,"argument-error"),sa(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function ca(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Br(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Br(o)))}return na.create.apply(na,[e].concat(n))}function la(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ca.apply(void 0,[t].concat(r))}}function fa(e){var t="INTERNAL ASSERTION FAILED: "+e;throw ia(t),new Error(t)}function ha(e,t){e||fa(t)}var da=new Map;function pa(e){ha(e instanceof Function,"Expected a class definition");var t=da.get(e);return t?(ha(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,da.set(e,t),t)}function va(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ma(){return"http:"===ya()||"https:"===ya()}function ya(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var ga=function(){function e(t,n){Jn(this,e),this.shortDelay=t,this.longDelay=n,ha(n>t,"Short delay should be less than long delay!"),this.isMobile=gr()||wr()}return Zn(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ma()||br()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function ka(e,t){ha(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var ba=function(){function e(){Jn(this,e)}return Zn(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void fa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void fa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void fa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),wa=(ue(qi={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),ue(qi,"MISSING_CUSTOM_TOKEN","internal-error"),ue(qi,"INVALID_IDENTIFIER","invalid-email"),ue(qi,"MISSING_CONTINUE_URI","internal-error"),ue(qi,"INVALID_PASSWORD","wrong-password"),ue(qi,"MISSING_PASSWORD","internal-error"),ue(qi,"EMAIL_EXISTS","email-already-in-use"),ue(qi,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),ue(qi,"INVALID_IDP_RESPONSE","invalid-credential"),ue(qi,"INVALID_PENDING_TOKEN","invalid-credential"),ue(qi,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),ue(qi,"MISSING_REQ_TYPE","internal-error"),ue(qi,"EMAIL_NOT_FOUND","user-not-found"),ue(qi,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),ue(qi,"EXPIRED_OOB_CODE","expired-action-code"),ue(qi,"INVALID_OOB_CODE","invalid-action-code"),ue(qi,"MISSING_OOB_CODE","internal-error"),ue(qi,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),ue(qi,"INVALID_ID_TOKEN","invalid-user-token"),ue(qi,"TOKEN_EXPIRED","user-token-expired"),ue(qi,"USER_NOT_FOUND","user-token-expired"),ue(qi,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),ue(qi,"INVALID_CODE","invalid-verification-code"),ue(qi,"INVALID_SESSION_INFO","invalid-verification-id"),ue(qi,"INVALID_TEMPORARY_PROOF","invalid-credential"),ue(qi,"MISSING_SESSION_INFO","missing-verification-id"),ue(qi,"SESSION_EXPIRED","code-expired"),ue(qi,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),ue(qi,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),ue(qi,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),ue(qi,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),ue(qi,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),ue(qi,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),ue(qi,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),ue(qi,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),ue(qi,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),ue(qi,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),ue(qi,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),qi),xa=new ga(3e4,6e4);function _a(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Ea(e,t,n,r){return Ia.apply(this,arguments)}function Ia(){return Ia=ae(se().mark((function e(t,n,r,i){var a,o=arguments;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Ta(t,a,ae(se().mark((function e(){var a,o,s,u;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Rr(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",ba.fetch()(Aa(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Ia.apply(this,arguments)}function Ta(e,t,n){return Sa.apply(this,arguments)}function Sa(){return Sa=ae(se().mark((function e(t,n,r){var i,a,o,s,c,l,f,h,d,p;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},wa),n),e.prev=2,a=new Pa(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Ra(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=o.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=u(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Ra(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw Ra(t,"email-already-in-use",s);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw sa(t,p,d);case 30:aa(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Ir)){e.next=37;break}throw e.t0;case 37:aa(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),Sa.apply(this,arguments)}function Ca(e,t,n,r){return Na.apply(this,arguments)}function Na(){return Na=ae(se().mark((function e(t,n,r,i){var a,o,s=arguments;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Ea(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&aa(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Na.apply(this,arguments)}function Aa(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ka(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Pa=function(){function e(t){var n=this;Jn(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(oa(n.auth,"network-request-failed"))}),xa.get())}))}return Zn(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Ra(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=oa(e,t,r);return i.customData._tokenResponse=n,i}function Oa(e,t){return Da.apply(this,arguments)}function Da(){return Da=ae(se().mark((function e(t,n){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ea(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Da.apply(this,arguments)}function La(e,t){return Ma.apply(this,arguments)}function Ma(){return Ma=ae(se().mark((function e(t,n){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ea(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ma.apply(this,arguments)}function ja(e,t){return Fa.apply(this,arguments)}function Fa(){return Fa=ae(se().mark((function e(t,n){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ea(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Fa.apply(this,arguments)}function Ua(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(GP){}}function Va(){return Va=ae(se().mark((function e(t){var n,r,i,a,o,s,u=arguments;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Vr(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,la((a=Ba(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Ua(qa(a.auth_time)),issuedAtTime:Ua(qa(a.iat)),expirationTime:Ua(qa(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Va.apply(this,arguments)}function qa(e){return 1e3*Number(e)}function Ba(e){var t=u(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return ia("JWT malformed, contained fewer than 3 sections"),null;try{var a=dr(r);return a?JSON.parse(a):(ia("Failed to decode base64 JWT payload"),null)}catch(GP){return ia("Caught error parsing JWT payload as JSON",GP),null}}function za(e,t){return Ha.apply(this,arguments)}function Ha(){return Ha=ae(se().mark((function e(t,n){var r=arguments;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Ir&&Wa(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ha.apply(this,arguments)}function Wa(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Ka=function(){function e(t){Jn(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Zn(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(ae(se().mark((function t(){return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=ae(se().mark((function e(){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ga=function(){function e(t,n){Jn(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Zn(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Ua(this.lastLoginAt),this.creationTime=Ua(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Qa(e){return Ya.apply(this,arguments)}function Ya(){return Ya=ae(se().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,za(t,ja(r,{idToken:i}));case 6:la(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?$a(o.providerUserInfo):[],u=Ja(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ga(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Ya.apply(this,arguments)}function Xa(){return(Xa=ae(se().mark((function e(t){var n;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Vr(t),e.next=3,Qa(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ja(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Br(n),Br(t))}function $a(e){return e.map((function(e){var t=e.providerId,n=Vi(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Za(e,t){return eo.apply(this,arguments)}function eo(){return eo=ae(se().mark((function e(t,n){var r;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ta(t,{},ae(se().mark((function e(){var r,i,a,o,s,u;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rr({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Aa(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",ba.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),eo.apply(this,arguments)}var to=function(){function e(){Jn(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Zn(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){la(e.idToken,"internal-error"),la("undefined"!==typeof e.idToken,"internal-error"),la("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Ba(e);return la(t,"internal-error"),la("undefined"!==typeof t.exp,"internal-error"),la("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=ae(se().mark((function e(t){var n,r=arguments;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],la(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=ae(se().mark((function e(t,n){var r,i,a,o;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Za(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return fa("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(la("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(la("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(la("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function no(e,t){la("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var ro=function(){function e(t){Jn(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Vi(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Ka(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.metadata=new Ga(a.createdAt||void 0,a.lastLoginAt||void 0)}return Zn(e,[{key:"getIdToken",value:function(){var e=ae(se().mark((function e(t){var n;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,za(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(la(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Va.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Xa.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(la(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){la(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=ae(se().mark((function e(t){var n,r,i=arguments;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Qa(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=ae(se().mark((function e(){var t;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,za(this,Oa(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;la(k&&_,t,"internal-error");var E=to.fromJSON(this.name,_);la("string"===typeof k,t,"internal-error"),no(f,t.name),no(h,t.name),la("boolean"===typeof b,t,"internal-error"),la("boolean"===typeof w,t,"internal-error"),no(d,t.name),no(p,t.name),no(v,t.name),no(m,t.name),no(y,t.name),no(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=ae(se().mark((function t(n,r){var i,a,o,s=arguments;return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new to).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Qa(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),io=function(){function e(){Jn(this,e),this.type="NONE",this.storage={}}return Zn(e,[{key:"_isAvailable",value:function(){var e=ae(se().mark((function e(){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ae(se().mark((function e(t,n){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ae(se().mark((function e(t){var n;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ae(se().mark((function e(t){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();io.type="NONE";var ao=io;function oo(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var so=function(){function e(t,n,r){Jn(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=oo(this.userKey,a.apiKey,o),this.fullPersistenceKey=oo("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Zn(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=ae(se().mark((function e(){var t;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?ro._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=ae(se().mark((function e(t){var n;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=ae(se().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(pa(ao),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=ae(se().mark((function e(t){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||pa(ao),s=oo(i,n.config.apiKey,n.name),u=null,c=er(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=ro._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=ae(se().mark((function e(t){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function uo(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ho(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(co(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(vo(t))return"Blackberry";if(mo(t))return"Webos";if(lo(t))return"Safari";if((t.includes("chrome/")||fo(t))&&!t.includes("edge/"))return"Chrome";if(po(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function co(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr();return/firefox\//i.test(e)}function lo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function fo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr();return/crios\//i.test(e)}function ho(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr();return/iemobile/i.test(e)}function po(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr();return/android/i.test(e)}function vo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr();return/blackberry/i.test(e)}function mo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr();return/webos/i.test(e)}function yo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr();return/iphone|ipad|ipod/i.test(e)}function go(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr();return yo(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function ko(){return xr()&&10===document.documentMode}function bo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr();return yo(e)||po(e)||mo(e)||vo(e)||/windows phone/i.test(e)||ho(e)}function wo(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=uo(yr());break;case"Worker":t="".concat(uo(yr()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(xi,"/").concat(r)}var xo=function(){function e(t,n){Jn(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Eo(this),this.idTokenSubscription=new Eo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=na,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return Zn(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=pa(t)),this._initializationPromise=this.queue(ae(se().mark((function r(){var i,a;return se().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,so.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=ae(se().mark((function e(){var t;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=ae(se().mark((function e(t){var n,r,i,a,o;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return la(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=ae(se().mark((function e(t){var n;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=ae(se().mark((function e(t){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qa(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=ae(se().mark((function e(){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=ae(se().mark((function e(t){var n;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Vr(t):null)&&la(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=ae(se().mark((function e(t){var n=this;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&la(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(ae(se().mark((function e(){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=ae(se().mark((function e(){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(ae(se().mark((function n(){return se().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(pa(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Tr("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=ae(se().mark((function e(t,n){var r;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=ae(se().mark((function e(t){var n;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return la(n=t&&pa(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,so.create(this,[pa(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=ae(se().mark((function e(t){var n,r;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(ae(se().mark((function e(){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=ae(se().mark((function e(t){var n=this;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(ae(se().mark((function e(){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return la(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=ae(se().mark((function e(t){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return la(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wo(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=ae(se().mark((function e(){var t;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ue({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function _o(e){return Vr(e)}var Eo=function(){function e(t){var n=this;Jn(this,e),this.auth=t,this.observer=null,this.addObserver=Lr((function(e){return n.observer=e}))}return Zn(e,[{key:"next",get:function(){return la(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Io(e,t,n){var r=_o(e);la(r._canInitEmulator,r,"emulator-config-failed"),la(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=To(t),o=function(e){var t=To(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:So(r.substr(a.length+1))}}var o=u(r.split(":"),2);return{host:o[0],port:So(o[1])}}(t),s=o.host,c=o.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function To(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function So(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Co=function(){function e(t,n){Jn(this,e),this.providerId=t,this.signInMethod=n}return Zn(e,[{key:"toJSON",value:function(){return fa("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return fa("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return fa("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return fa("not implemented")}}]),e}();function No(e,t){return Ao.apply(this,arguments)}function Ao(){return Ao=ae(se().mark((function e(t,n){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ea(t,"POST","/v1/accounts:resetPassword",_a(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ao.apply(this,arguments)}function Po(e,t){return Ro.apply(this,arguments)}function Ro(){return Ro=ae(se().mark((function e(t,n){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ea(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ro.apply(this,arguments)}function Oo(e,t){return Do.apply(this,arguments)}function Do(){return Do=ae(se().mark((function e(t,n){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ea(t,"POST","/v1/accounts:update",_a(t,n)));case 1:case"end":return e.stop()}}),e)}))),Do.apply(this,arguments)}function Lo(e,t){return Mo.apply(this,arguments)}function Mo(){return Mo=ae(se().mark((function e(t,n){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ca(t,"POST","/v1/accounts:signInWithPassword",_a(t,n)));case 1:case"end":return e.stop()}}),e)}))),Mo.apply(this,arguments)}function jo(e,t){return Fo.apply(this,arguments)}function Fo(){return Fo=ae(se().mark((function e(t,n){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ea(t,"POST","/v1/accounts:sendOobCode",_a(t,n)));case 1:case"end":return e.stop()}}),e)}))),Fo.apply(this,arguments)}function Uo(e,t){return Vo.apply(this,arguments)}function Vo(){return Vo=ae(se().mark((function e(t,n){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jo(t,n));case 1:case"end":return e.stop()}}),e)}))),Vo.apply(this,arguments)}function qo(e,t){return Bo.apply(this,arguments)}function Bo(){return Bo=ae(se().mark((function e(t,n){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jo(t,n));case 1:case"end":return e.stop()}}),e)}))),Bo.apply(this,arguments)}function zo(e,t){return Ho.apply(this,arguments)}function Ho(){return Ho=ae(se().mark((function e(t,n){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jo(t,n));case 1:case"end":return e.stop()}}),e)}))),Ho.apply(this,arguments)}function Wo(e,t){return Ko.apply(this,arguments)}function Ko(){return Ko=ae(se().mark((function e(t,n){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jo(t,n));case 1:case"end":return e.stop()}}),e)}))),Ko.apply(this,arguments)}function Go(e,t){return Qo.apply(this,arguments)}function Qo(){return Qo=ae(se().mark((function e(t,n){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ca(t,"POST","/v1/accounts:signInWithEmailLink",_a(t,n)));case 1:case"end":return e.stop()}}),e)}))),Qo.apply(this,arguments)}function Yo(e,t){return Xo.apply(this,arguments)}function Xo(){return Xo=ae(se().mark((function e(t,n){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ca(t,"POST","/v1/accounts:signInWithEmailLink",_a(t,n)));case 1:case"end":return e.stop()}}),e)}))),Xo.apply(this,arguments)}var Jo=function(e){nr(n,e);var t=sr(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Jn(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Zn(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=ae(se().mark((function e(t){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Lo(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Go(t,{email:this._email,oobCode:this._password}));case 5:aa(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=ae(se().mark((function e(t,n){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Po(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Yo(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:aa(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Co);function $o(e,t){return Zo.apply(this,arguments)}function Zo(){return Zo=ae(se().mark((function e(t,n){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ca(t,"POST","/v1/accounts:signInWithIdp",_a(t,n)));case 1:case"end":return e.stop()}}),e)}))),Zo.apply(this,arguments)}var es=function(e){nr(n,e);var t=sr(n);function n(){var e;return Jn(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Zn(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return $o(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,$o(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,$o(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Rr(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):aa("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Vi(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Co);function ts(e,t){return ns.apply(this,arguments)}function ns(){return ns=ae(se().mark((function e(t,n){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ea(t,"POST","/v1/accounts:sendVerificationCode",_a(t,n)));case 1:case"end":return e.stop()}}),e)}))),ns.apply(this,arguments)}function rs(){return rs=ae(se().mark((function e(t,n){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ca(t,"POST","/v1/accounts:signInWithPhoneNumber",_a(t,n)));case 1:case"end":return e.stop()}}),e)}))),rs.apply(this,arguments)}function is(){return is=ae(se().mark((function e(t,n){var r;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ca(t,"POST","/v1/accounts:signInWithPhoneNumber",_a(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Ra(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),is.apply(this,arguments)}var as=ue({},"USER_NOT_FOUND","user-not-found");function os(){return os=ae(se().mark((function e(t,n){var r;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Ca(t,"POST","/v1/accounts:signInWithPhoneNumber",_a(t,r),as));case 2:case"end":return e.stop()}}),e)}))),os.apply(this,arguments)}var ss=function(e){nr(n,e);var t=sr(n);function n(e){var r;return Jn(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Zn(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return rs.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return is.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return os.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Co);var us=function(){function e(t){var n,r,i,a,o,s;Jn(this,e);var u=Or(Dr(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);la(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return Zn(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Or(Dr(e)).link,n=t?Or(Dr(t)).deep_link_id:null,r=Or(Dr(e)).deep_link_id;return(r?Or(Dr(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(wI){return null}}}]),e}();var cs=function(){function e(){Jn(this,e),this.providerId=e.PROVIDER_ID}return Zn(e,null,[{key:"credential",value:function(e,t){return Jo._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=us.parseLink(t);return la(n,"argument-error"),Jo._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();cs.PROVIDER_ID="password",cs.EMAIL_PASSWORD_SIGN_IN_METHOD="password",cs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var ls=function(){function e(t){Jn(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Zn(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),fs=function(e){nr(n,e);var t=sr(n);function n(){var e;return Jn(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Zn(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Br(this.scopes)}}]),n}(ls),hs=function(e){nr(n,e);var t=sr(n);function n(){return Jn(this,n),t.apply(this,arguments)}return Zn(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return la(e.idToken||e.accessToken,"argument-error"),es._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return la("providerId"in t&&"signInMethod"in t,"argument-error"),es._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(GP){return null}}}]),n}(fs),ds=function(e){nr(n,e);var t=sr(n);function n(){return Jn(this,n),t.call(this,"facebook.com")}return Zn(n,null,[{key:"credential",value:function(e){return es._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(wI){return null}}}]),n}(fs);ds.FACEBOOK_SIGN_IN_METHOD="facebook.com",ds.PROVIDER_ID="facebook.com";var ps=function(e){nr(n,e);var t=sr(n);function n(){var e;return Jn(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Zn(n,null,[{key:"credential",value:function(e,t){return es._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(wI){return null}}}]),n}(fs);ps.GOOGLE_SIGN_IN_METHOD="google.com",ps.PROVIDER_ID="google.com";var vs=function(e){nr(n,e);var t=sr(n);function n(){return Jn(this,n),t.call(this,"github.com")}return Zn(n,null,[{key:"credential",value:function(e){return es._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(wI){return null}}}]),n}(fs);vs.GITHUB_SIGN_IN_METHOD="github.com",vs.PROVIDER_ID="github.com";var ms=function(e){nr(n,e);var t=sr(n);function n(e,r){var i;return Jn(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Zn(n,[{key:"_getIdTokenResponse",value:function(e){return $o(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,$o(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,$o(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Co),ys=function(e){nr(n,e);var t=sr(n);function n(e){return Jn(this,n),la(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Zn(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=ms.fromJSON(e);return la(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return ms._create(r,n)}catch(GP){return null}}}]),n}(ls),gs=function(e){nr(n,e);var t=sr(n);function n(){return Jn(this,n),t.call(this,"twitter.com")}return Zn(n,null,[{key:"credential",value:function(e,t){return es._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(wI){return null}}}]),n}(fs);function ks(e,t){return bs.apply(this,arguments)}function bs(){return bs=ae(se().mark((function e(t,n){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ca(t,"POST","/v1/accounts:signUp",_a(t,n)));case 1:case"end":return e.stop()}}),e)}))),bs.apply(this,arguments)}gs.TWITTER_SIGN_IN_METHOD="twitter.com",gs.PROVIDER_ID="twitter.com";var ws=function(){function e(t){Jn(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Zn(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=ae(se().mark((function t(n,r,i){var a,o,s,u,c=arguments;return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,ro._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=xs(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=ae(se().mark((function t(n,r,i){var a;return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=xs(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function xs(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function _s(){return _s=ae(se().mark((function e(t){var n,r,i,a;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_o(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new ws({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,ks(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,ws._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),_s.apply(this,arguments)}var Es=function(e){nr(n,e);var t=sr(n);function n(e,r,i,a){var o,s;return Jn(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(tr(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Zn(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Ir);function Is(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Es._fromErrorAndOperation(e,n,t,r);throw n}))}function Ts(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Ss(e,t){return Cs.apply(this,arguments)}function Cs(){return Cs=ae(se().mark((function e(t,n){var r,i,a,o;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vr(t),e.next=3,Ps(!0,r,n);case 3:return e.t0=La,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Ts(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Cs.apply(this,arguments)}function Ns(e,t){return As.apply(this,arguments)}function As(){return As=ae(se().mark((function e(t,n){var r,i,a=arguments;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=za,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",ws._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),As.apply(this,arguments)}function Ps(e,t,n){return Rs.apply(this,arguments)}function Rs(){return(Rs=ae(se().mark((function e(t,n,r){var i,a;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qa(n);case 2:i=Ts(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",la(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Os(e,t){return Ds.apply(this,arguments)}function Ds(){return Ds=ae(se().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,za(t,Is(i,a,n,t),r);case 6:return la((o=e.sent).idToken,i,"internal-error"),la(s=Ba(o.idToken),i,"internal-error"),u=s.sub,la(t.uid===u,i,"user-mismatch"),e.abrupt("return",ws._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&aa(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Ds.apply(this,arguments)}function Ls(e,t){return Ms.apply(this,arguments)}function Ms(){return Ms=ae(se().mark((function e(t,n){var r,i,a,o,s=arguments;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Is(t,i,n);case 4:return a=e.sent,e.next=7,ws._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Ms.apply(this,arguments)}function js(e,t){return Fs.apply(this,arguments)}function Fs(){return Fs=ae(se().mark((function e(t,n){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ls(_o(t),n));case 1:case"end":return e.stop()}}),e)}))),Fs.apply(this,arguments)}function Us(e,t){return Vs.apply(this,arguments)}function Vs(){return(Vs=ae(se().mark((function e(t,n){var r;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vr(t),e.next=3,Ps(!1,r,n.providerId);case 3:return e.abrupt("return",Ns(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qs(e,t){return Bs.apply(this,arguments)}function Bs(){return(Bs=ae(se().mark((function e(t,n){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Os(Vr(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zs(e,t){return Hs.apply(this,arguments)}function Hs(){return Hs=ae(se().mark((function e(t,n){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ca(t,"POST","/v1/accounts:signInWithCustomToken",_a(t,n)));case 1:case"end":return e.stop()}}),e)}))),Hs.apply(this,arguments)}function Ws(){return Ws=ae(se().mark((function e(t,n){var r,i,a;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_o(t),e.next=3,zs(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,ws._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Ws.apply(this,arguments)}var Ks=function(){function e(t,n){Jn(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Zn(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Gs._fromServerResponse(e,t):aa(e,"internal-error")}}]),e}(),Gs=function(e){nr(n,e);var t=sr(n);function n(e){var r;return Jn(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Zn(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Ks);function Qs(e,t,n){var r;la((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),la("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(la(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(la(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Ys(){return Ys=ae(se().mark((function e(t,n,r){var i,a;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Vr(t),a={requestType:"PASSWORD_RESET",email:n},r&&Qs(i,a,r),e.next=5,qo(i,a);case 5:case"end":return e.stop()}}),e)}))),Ys.apply(this,arguments)}function Xs(){return Xs=ae(se().mark((function e(t,n,r){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,No(Vr(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Xs.apply(this,arguments)}function Js(){return Js=ae(se().mark((function e(t,n){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oo(Vr(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Js.apply(this,arguments)}function $s(e,t){return Zs.apply(this,arguments)}function Zs(){return Zs=ae(se().mark((function e(t,n){var r,i,a,o;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vr(t),e.next=3,No(r,{oobCode:n});case 3:i=e.sent,la(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return la(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:la(i.mfaInfo,r,"internal-error");case 13:la(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Ks._fromServerResponse(_o(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Zs.apply(this,arguments)}function eu(){return eu=ae(se().mark((function e(t,n){var r,i;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$s(Vr(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),eu.apply(this,arguments)}function tu(e,t,n){return nu.apply(this,arguments)}function nu(){return nu=ae(se().mark((function e(t,n,r){var i,a,o;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_o(t),e.next=3,ks(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,ws._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),nu.apply(this,arguments)}function ru(){return ru=ae(se().mark((function e(t,n,r){var i,a;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Vr(t),a={requestType:"EMAIL_SIGNIN",email:n},la(r.handleCodeInApp,i,"argument-error"),r&&Qs(i,a,r),e.next=6,zo(i,a);case 6:case"end":return e.stop()}}),e)}))),ru.apply(this,arguments)}function iu(){return iu=ae(se().mark((function e(t,n,r){var i,a;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Vr(t),la((a=cs.credentialWithLink(n,r||va()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",js(i,a));case 4:case"end":return e.stop()}}),e)}))),iu.apply(this,arguments)}function au(e,t){return ou.apply(this,arguments)}function ou(){return ou=ae(se().mark((function e(t,n){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ea(t,"POST","/v1/accounts:createAuthUri",_a(t,n)));case 1:case"end":return e.stop()}}),e)}))),ou.apply(this,arguments)}function su(){return su=ae(se().mark((function e(t,n){var r,i,a,o;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ma()?va():"http://localhost",i={identifier:n,continueUri:r},e.next=4,au(Vr(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),su.apply(this,arguments)}function uu(){return(uu=ae(se().mark((function e(t,n){var r,i,a,o;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vr(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Qs(r.auth,a,n),e.next=8,Uo(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cu(){return(cu=ae(se().mark((function e(t,n,r){var i,a,o,s;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Vr(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Qs(i.auth,o,r),e.next=8,Wo(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lu(e,t){return fu.apply(this,arguments)}function fu(){return fu=ae(se().mark((function e(t,n){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ea(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),fu.apply(this,arguments)}function hu(){return(hu=ae(se().mark((function e(t,n){var r,i,a,o,s,u,c;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Vr(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,za(a,lu(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function du(e,t,n){return pu.apply(this,arguments)}function pu(){return pu=ae(se().mark((function e(t,n,r){var i,a,o,s;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,za(t,Po(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),pu.apply(this,arguments)}var vu=Zn((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Jn(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),mu=function(e){nr(n,e);var t=sr(n);function n(e,r,i,a){var o;return Jn(this,n),(o=t.call(this,e,r,i)).username=a,o}return Zn(n)}(vu),yu=function(e){nr(n,e);var t=sr(n);function n(e,r){return Jn(this,n),t.call(this,e,"facebook.com",r)}return Zn(n)}(vu),gu=function(e){nr(n,e);var t=sr(n);function n(e,r){return Jn(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Zn(n)}(mu),ku=function(e){nr(n,e);var t=sr(n);function n(e,r){return Jn(this,n),t.call(this,e,"google.com",r)}return Zn(n)}(vu),bu=function(e){nr(n,e);var t=sr(n);function n(e,r,i){return Jn(this,n),t.call(this,e,"twitter.com",r,i)}return Zn(n)}(mu);function wu(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Ba(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new vu(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new yu(a,i);case"github.com":return new gu(a,i);case"google.com":return new ku(a,i);case"twitter.com":return new bu(a,i,e.screenName||null);case"custom":case"anonymous":return new vu(a,null);default:return new vu(a,r,i)}}(n)}var xu=function(){function e(t,n){Jn(this,e),this.type=t,this.credential=n}return Zn(e,[{key:"toJSON",value:function(){return{multiFactorSession:ue({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),_u=function(){function e(t,n,r){Jn(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Zn(e,[{key:"resolveSignIn",value:function(){var e=ae(se().mark((function e(t){var n;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=_o(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Ks._fromServerResponse(r,e)}));la(i.mfaPendingCredential,r,"internal-error");var o=xu._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=ae(se().mark((function e(t){var a,s,u;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,ws._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return la(n.user,r,"internal-error"),e.abrupt("return",ws._forOperation(n.user,n.operationType,s));case 17:aa(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Eu(e,t){return Ea(e,"POST","/v2/accounts/mfaEnrollment:start",_a(e,t))}function Iu(e,t){return Ea(e,"POST","/v2/accounts/mfaEnrollment:withdraw",_a(e,t))}var Tu=function(){function e(t){var n=this;Jn(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Ks._fromServerResponse(t.auth,e)})))}))}return Zn(e,[{key:"getSession",value:function(){var e=ae(se().mark((function e(){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=xu,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=ae(se().mark((function e(t,n){var r,i,a;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,za(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=ae(se().mark((function e(t){var n,r,i;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,za(this.user,Iu(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Su=new WeakMap;var Cu="__sak",Nu=function(){function e(t,n){Jn(this,e),this.storageRetriever=t,this.type=n}return Zn(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Cu,"1"),this.storage.removeItem(Cu),Promise.resolve(!0)):Promise.resolve(!1)}catch(wI){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Au=function(e){nr(n,e);var t=sr(n);function n(){var e;return Jn(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=yr();return lo(e)||yo(e)}()&&function(){try{return!(!window||window===window.top)}catch(GP){return!1}}(),e.fallbackToPolling=bo(),e._shouldAllowMigration=!0,e}return Zn(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);ko()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=ae(se().mark((function e(t,r){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ui(rr(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ae(se().mark((function e(t){var r;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ui(rr(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ae(se().mark((function e(t){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ui(rr(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Nu);Au.type="LOCAL";var Pu=Au,Ru=function(e){nr(n,e);var t=sr(n);function n(){return Jn(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Zn(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Nu);Ru.type="SESSION";var Ou=Ru;function Du(e){return Promise.all(e.map(function(){var e=ae(se().mark((function e(t){var n;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Lu=function(){function e(t){Jn(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Zn(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=ae(se().mark((function e(t){var n,r,i,a,o,s,u,c;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=ae(se().mark((function e(t){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Du(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Mu(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Lu.receivers=[];var ju=function(){function e(t){Jn(this,e),this.target=t,this.handlers=new Set}return Zn(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=ae(se().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Mu("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Fu(){return window}function Uu(){return"undefined"!==typeof Fu().WorkerGlobalScope&&"function"===typeof Fu().importScripts}function Vu(){return qu.apply(this,arguments)}function qu(){return(qu=ae(se().mark((function e(){var t;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Bu(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var zu="firebaseLocalStorageDb",Hu="firebaseLocalStorage",Wu="fbase_key",Ku=function(){function e(t){Jn(this,e),this.request=t}return Zn(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Gu(e,t){return e.transaction([Hu],t?"readwrite":"readonly").objectStore(Hu)}function Qu(){var e=indexedDB.deleteDatabase(zu);return new Ku(e).toPromise()}function Yu(){var e=indexedDB.open(zu,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Hu,{keyPath:Wu})}catch(GP){n(GP)}})),e.addEventListener("success",ae(se().mark((function n(){var r;return se().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Hu)){n.next=12;break}return r.close(),n.next=5,Qu();case 5:return n.t0=t,n.next=8,Yu();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Xu(e,t,n){return Ju.apply(this,arguments)}function Ju(){return Ju=ae(se().mark((function e(t,n,r){var i,a;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Gu(t,!0).put((ue(i={},Wu,n),ue(i,"value",r),i)),e.abrupt("return",new Ku(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Ju.apply(this,arguments)}function $u(e,t){return Zu.apply(this,arguments)}function Zu(){return Zu=ae(se().mark((function e(t,n){var r,i;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gu(t,!1).get(n),e.next=3,new Ku(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Zu.apply(this,arguments)}function ec(e,t){var n=Gu(e,!0).delete(t);return new Ku(n).toPromise()}var tc=function(){function e(){Jn(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Zn(e,[{key:"_openDb",value:function(){var e=ae(se().mark((function e(){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Yu();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=ae(se().mark((function e(t){var n,r;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=ae(se().mark((function e(){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uu()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=ae(se().mark((function e(){var t=this;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Lu._getInstance(Uu()?self:null),this.receiver._subscribe("keyChanged",function(){var e=ae(se().mark((function e(n,r){var i;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=ae(se().mark((function e(t,n){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=ae(se().mark((function e(){var t,n,r;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vu();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new ju(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=ae(se().mark((function e(t){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Bu()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=ae(se().mark((function e(){var t;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Yu();case 5:return t=e.sent,e.next=8,Xu(t,Cu,"1");case 8:return e.next=10,ec(t,Cu);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=ae(se().mark((function e(t){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ae(se().mark((function e(t,n){var r=this;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ae(se().mark((function e(){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Xu(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ae(se().mark((function e(t){var n;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return $u(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ae(se().mark((function e(t){var n=this;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ae(se().mark((function e(){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return ec(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=ae(se().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Gu(e,!1).getAll();return new Ku(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=er(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(ae(se().mark((function t(){return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();tc.type="LOCAL";var nc=tc;function rc(e,t){return Ea(e,"POST","/v2/accounts/mfaSignIn:start",_a(e,t))}function ic(e){return ac.apply(this,arguments)}function ac(){return ac=ae(se().mark((function e(t){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ea(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),ac.apply(this,arguments)}function oc(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=oa("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function sc(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var uc=1e12,cc=function(){function e(t){Jn(this,e),this.auth=t,this.counter=uc,this._widgets=new Map}return Zn(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new lc(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||uc;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||uc;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=ae(se().mark((function e(t){var n,r;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||uc,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),lc=function(){function e(t,n,r){var i=this;Jn(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;la(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Zn(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(GP){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(GP){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var fc=sc("rcb"),hc=new ga(3e4,6e4),dc="https://www.google.com/recaptcha/api.js?",pc=function(){function e(){Jn(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Fu().grecaptcha}return Zn(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return la(vc(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Fu().grecaptcha):new Promise((function(r,i){var a=Fu().setTimeout((function(){i(oa(e,"network-request-failed"))}),hc.get());Fu()[fc]=function(){Fu().clearTimeout(a),delete Fu()[fc];var o=Fu().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(oa(e,"internal-error"))},oc("".concat(dc,"?").concat(Rr({onload:fc,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(oa(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Fu().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function vc(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var mc=function(){function e(){Jn(this,e)}return Zn(e,[{key:"load",value:function(){var e=ae(se().mark((function e(t){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new cc(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),yc="recaptcha",gc={theme:"light",type:"image"},kc=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},gc),r=arguments.length>2?arguments[2]:void 0;Jn(this,e),this.parameters=n,this.type=yc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=_o(r),this.isInvisible="invisible"===this.parameters.size,la("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;la(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new mc:new pc,this.validateStartingState()}return Zn(e,[{key:"verify",value:function(){var e=ae(se().mark((function e(){var t,n,r,i=this;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(GP){return Promise.reject(GP)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){la(!this.parameters.sitekey,this.auth,"argument-error"),la(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),la("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Fu()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){la(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=ae(se().mark((function e(){var t,n;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=ae(se().mark((function e(){var t;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return la(ma()&&!Uu(),this.auth,"internal-error"),e.next=3,bc();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,ic(this.auth);case 8:la(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return la(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function bc(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var wc=function(){function e(t,n){Jn(this,e),this.verificationId=t,this.onConfirmation=n}return Zn(e,[{key:"confirm",value:function(e){var t=ss._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function xc(){return xc=ae(se().mark((function e(t,n,r){var i,a;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_o(t),e.next=3,Tc(i,n,Vr(r));case 3:return a=e.sent,e.abrupt("return",new wc(a,(function(e){return js(i,e)})));case 5:case"end":return e.stop()}}),e)}))),xc.apply(this,arguments)}function _c(e,t,n){return Ec.apply(this,arguments)}function Ec(){return(Ec=ae(se().mark((function e(t,n,r){var i,a;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Vr(t),e.next=3,Ps(!1,i,"phone");case 3:return e.next=5,Tc(i.auth,n,Vr(r));case 5:return a=e.sent,e.abrupt("return",new wc(a,(function(e){return Us(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ic(){return(Ic=ae(se().mark((function e(t,n,r){var i,a;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Vr(t),e.next=3,Tc(i.auth,n,Vr(r));case 3:return a=e.sent,e.abrupt("return",new wc(a,(function(e){return qs(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tc(e,t,n){return Sc.apply(this,arguments)}function Sc(){return Sc=ae(se().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,la("string"===typeof a,t,"argument-error"),la(r.type===yc,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return la("enroll"===s.type,t,"internal-error"),e.next=13,Eu(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return la("signin"===s.type,t,"internal-error"),la(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,rc(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,ts(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Sc.apply(this,arguments)}function Cc(){return(Cc=ae(se().mark((function e(t,n){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ns(Vr(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Nc=function(){function e(t){Jn(this,e),this.providerId=e.PROVIDER_ID,this.auth=_o(t)}return Zn(e,[{key:"verifyPhoneNumber",value:function(e,t){return Tc(this.auth,e,Vr(t))}}],[{key:"credential",value:function(e,t){return ss._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?ss._fromTokenResponse(n,r):null}}]),e}();function Ac(e,t){return t?pa(t):(la(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Nc.PROVIDER_ID="phone",Nc.PHONE_SIGN_IN_METHOD="phone";var Pc=function(e){nr(n,e);var t=sr(n);function n(e){var r;return Jn(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Zn(n,[{key:"_getIdTokenResponse",value:function(e){return $o(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return $o(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return $o(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Co);function Rc(e){return Ls(e.auth,new Pc(e),e.bypassAuthState)}function Oc(e){var t=e.auth,n=e.user;return la(n,t,"internal-error"),Os(n,new Pc(e),e.bypassAuthState)}function Dc(e){return Lc.apply(this,arguments)}function Lc(){return Lc=ae(se().mark((function e(t){var n,r;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,la(r=t.user,n,"internal-error"),e.abrupt("return",Ns(r,new Pc(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Lc.apply(this,arguments)}var Mc=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Jn(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Zn(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=ae(se().mark((function t(n,r){return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=ae(se().mark((function e(t){var n,r,i,a,o,s,u;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Rc;case"linkViaPopup":case"linkViaRedirect":return Dc;case"reauthViaPopup":case"reauthViaRedirect":return Oc;default:aa(this.auth,"internal-error")}}},{key:"resolve",value:function(e){ha(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){ha(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),jc=new ga(2e3,1e4);function Fc(e,t,n){return Uc.apply(this,arguments)}function Uc(){return Uc=ae(se().mark((function e(t,n,r){var i,a,o;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_o(t),ua(t,n,ls),a=Ac(i,r),o=new zc(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Uc.apply(this,arguments)}function Vc(){return(Vc=ae(se().mark((function e(t,n,r){var i,a,o;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ua((i=Vr(t)).auth,n,ls),a=Ac(i.auth,r),o=new zc(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qc(e,t,n){return Bc.apply(this,arguments)}function Bc(){return(Bc=ae(se().mark((function e(t,n,r){var i,a,o;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ua((i=Vr(t)).auth,n,ls),a=Ac(i.auth,r),o=new zc(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zc=function(e){nr(n,e);var t=sr(n);function n(e,r,i,a,o){var s;return Jn(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=tr(s),s}return Zn(n,[{key:"executeNotNull",value:function(){var e=ae(se().mark((function e(){var t;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return la(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ae(se().mark((function e(){var t,n=this;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ha(1===this.filter.length,"Popup operations only handle one event"),t=Mu(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(oa(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(oa(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(oa(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,jc.get())}()}}]),n}(Mc);zc.currentPopupAction=null;var Hc=new Map,Wc=function(e){nr(n,e);var t=sr(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Jn(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Zn(n,[{key:"execute",value:function(){var e=ae(se().mark((function e(){var t,r;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Hc.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Kc(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Ui(rr(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Hc.set(this.auth._key(),t);case 21:return this.bypassAuthState||Hc.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=ae(se().mark((function e(t){var r;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Ui(rr(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Ui(rr(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ae(se().mark((function e(){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Mc);function Kc(e,t){return Gc.apply(this,arguments)}function Gc(){return Gc=ae(se().mark((function e(t,n){var r,i,a;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jc(n),i=Xc(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Gc.apply(this,arguments)}function Qc(e,t){return Yc.apply(this,arguments)}function Yc(){return Yc=ae(se().mark((function e(t,n){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xc(t)._set(Jc(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Yc.apply(this,arguments)}function Xc(e){return pa(e._redirectPersistence)}function Jc(e){return oo("pendingRedirect",e.config.apiKey,e.name)}function $c(e,t,n){return function(e,t,n){return Zc.apply(this,arguments)}(e,t,n)}function Zc(){return Zc=ae(se().mark((function e(t,n,r){var i,a;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_o(t),ua(t,n,ls),a=Ac(i,r),e.next=5,Qc(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),Zc.apply(this,arguments)}function el(e,t,n){return function(e,t,n){return tl.apply(this,arguments)}(e,t,n)}function tl(){return(tl=ae(se().mark((function e(t,n,r){var i,a,o;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ua((i=Vr(t)).auth,n,ls),a=Ac(i.auth,r),e.next=5,Qc(a,i.auth);case 5:return e.next=7,ul(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nl(e,t,n){return function(e,t,n){return rl.apply(this,arguments)}(e,t,n)}function rl(){return(rl=ae(se().mark((function e(t,n,r){var i,a,o;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ua((i=Vr(t)).auth,n,ls),a=Ac(i.auth,r),e.next=5,Ps(!1,i,n.providerId);case 5:return e.next=7,Qc(a,i.auth);case 7:return e.next=9,ul(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function il(e,t){return al.apply(this,arguments)}function al(){return al=ae(se().mark((function e(t,n){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_o(t)._initializationPromise;case 2:return e.abrupt("return",ol(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),al.apply(this,arguments)}function ol(e,t){return sl.apply(this,arguments)}function sl(){return sl=ae(se().mark((function e(t,n){var r,i,a,o,s,u=arguments;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=_o(t),a=Ac(i,n),o=new Wc(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),sl.apply(this,arguments)}function ul(e){return cl.apply(this,arguments)}function cl(){return(cl=ae(se().mark((function e(t){var n;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Mu("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ll=function(){function e(t){Jn(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Zn(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hl(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!hl(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(oa(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fl(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(fl(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function fl(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function hl(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function dl(e){return pl.apply(this,arguments)}function pl(){return pl=ae(se().mark((function e(t){var n,r=arguments;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Ea(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),pl.apply(this,arguments)}var vl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ml=/^https?/;function yl(){return yl=ae(se().mark((function e(t){var n,r,i,a,o;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,dl(t);case 4:n=e.sent,r=n.authorizedDomains,i=er(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!gl(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:aa(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),yl.apply(this,arguments)}function gl(e){var t=va(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!ml.test(r))return!1;if(vl.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var kl=new ga(3e4,6e4);function bl(){var e=Fu().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Br(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var wl=null;function xl(e){return wl=wl||function(e){return new Promise((function(t,n){var r,i,a;function o(){bl(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){bl(),n(oa(e,"network-request-failed"))},timeout:kl.get()})}if(null===(i=null===(r=Fu().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Fu().gapi)||void 0===a?void 0:a.load)){var s=sc("iframefcb");return Fu()[s]=function(){gapi.load?o():n(oa(e,"network-request-failed"))},oc("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw wl=null,e}))}(e),wl}var _l=new ga(5e3,15e3),El={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Il=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tl(e){var t=e.config;la(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?ka(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:xi},i=Il.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Rr(r).slice(1))}function Sl(e){return Cl.apply(this,arguments)}function Cl(){return Cl=ae(se().mark((function e(t){var n,r;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xl(t);case 2:return n=e.sent,la(r=Fu().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Tl(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:El,dontclear:!0},(function(e){return new Promise(function(){var n=ae(se().mark((function n(r,i){var a,o,s;return se().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Fu().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=oa(t,"network-request-failed"),o=Fu().setTimeout((function(){i(a)}),_l.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Cl.apply(this,arguments)}var Nl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Al="_blank",Pl="http://localhost",Rl=function(){function e(t){Jn(this,e),this.window=t,this.associatedEvent=null}return Zn(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(GP){}}}]),e}();function Ol(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},Nl),{width:r.toString(),height:i.toString(),top:a,left:o}),l=yr().toLowerCase();n&&(s=fo(l)?Al:n),co(l)&&(t=t||Pl,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=u(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(go(l)&&"_self"!==s)return Dl(t||"",s),new Rl(null);var h=window.open(t||"",s,f);la(h,e,"popup-blocked");try{h.focus()}catch(GP){}return new Rl(h)}function Dl(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Ll="__/auth/handler",Ml="emulator/auth/handler";function jl(e,t,n,r,i,a){la(e.config.authDomain,e,"auth-domain-config-required"),la(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:xi,eventId:i};if(t instanceof ls){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,c=Object.entries(a||{});s<c.length;s++){var l=u(c[s],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof fs){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ll);return ka(t,Ml)}(e),"?").concat(Rr(p).slice(1))}var Fl="webStorageSupport",Ul=function(){function e(){Jn(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ou,this._completeRedirectFn=ol}return Zn(e,[{key:"_openPopup",value:function(){var e=ae(se().mark((function e(t,n,r,i){var a,o;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ha(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=jl(t,n,r,va(),i),e.abrupt("return",Ol(t,o,Mu()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ae(se().mark((function e(t,n,r,i){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=jl(t,n,r,va(),i),Fu().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(ha(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=ae(se().mark((function e(t){var n,r;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sl(t);case 2:return n=e.sent,r=new ll(t),n.register("authEvent",(function(e){return la(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Fl,{type:Fl},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),aa(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return yl.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return bo()||lo()||yo()}}]),e}(),Vl=Ul,ql=function(){function e(t){Jn(this,e),this.factorId=t}return Zn(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return fa("unexpected MultiFactorSessionType")}}}]),e}(),Bl=function(e){nr(n,e);var t=sr(n);function n(e){var r;return Jn(this,n),(r=t.call(this,"phone")).credential=e,r}return Zn(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Ea(e,"POST","/v2/accounts/mfaEnrollment:finalize",_a(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Ea(e,"POST","/v2/accounts/mfaSignIn:finalize",_a(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(ql),zl=function(){function e(){Jn(this,e)}return Zn(e,null,[{key:"assertion",value:function(e){return Bl._fromCredential(e)}}]),e}();zl.FACTOR_ID="phone";var Hl,Wl="@firebase/auth",Kl="0.19.6",Gl=function(){function e(t){Jn(this,e),this.auth=t,this.internalListeners=new Map}return Zn(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=ae(se().mark((function e(t){var n;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){la(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Ql(){return window}Hl="Browser",di(new zr("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){la(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),la(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:Hl,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wo(Hl)},r=new xo(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(pa);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),di(new zr("auth-internal",(function(e){return function(e){return new Gl(e)}(_o(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ci(Wl,Kl,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Hl)),Ci(Wl,Kl,"esm2017");function Yl(e,t,n){return Xl.apply(this,arguments)}function Xl(){return Xl=ae(se().mark((function e(t,n,r){var i,a,o,s,u;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ql(),o=a.BuildInfo,ha(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,nf(n.sessionId);case 4:return s=e.sent,u={},yo()?u.ibi=o.packageName:po()?u.apn=o.packageName:aa(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",jl(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),Xl.apply(this,arguments)}function Jl(){return Jl=ae(se().mark((function e(t){var n,r,i;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ql(),r=n.BuildInfo,i={},yo()?i.iosBundleId=r.packageName:po()?i.androidPackageName=r.packageName:aa(t,"operation-not-supported-in-this-environment"),e.next=5,dl(t,i);case 5:case"end":return e.stop()}}),e)}))),Jl.apply(this,arguments)}function $l(e){var t=Ql().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Zl(e,t,n){return ef.apply(this,arguments)}function ef(){return ef=ae(se().mark((function e(t,n,r){var i,a,o;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ql(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(oa(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),po()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),ef.apply(this,arguments)}function tf(e){var t,n,r,i,a,o,s,u,c,l,f=Ql();la("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),la("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),la("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),la("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),la("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function nf(e){return rf.apply(this,arguments)}function rf(){return(rf=ae(se().mark((function e(t){var n,r,i;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=af(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function af(e){if(ha(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var of=function(e){nr(n,e);var t=sr(n);function n(){var e;return Jn(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Zn(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Ui(rr(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=ae(se().mark((function e(){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ll);function sf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:hf(),postBody:null,tenantId:e.tenantId,error:oa(e,"no-auth-event")}}function uf(e,t){return df()._set(pf(e),t)}function cf(e){return lf.apply(this,arguments)}function lf(){return lf=ae(se().mark((function e(t){var n;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,df()._get(pf(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,df()._remove(pf(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),lf.apply(this,arguments)}function ff(e,t){var n,r,i=function(e){var t=vf(e),n=t.link?decodeURIComponent(t.link):void 0,r=vf(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return vf(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=vf(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(GP){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?oa(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function hf(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function df(){return pa(Pu)}function pf(e){return oo("authEvent",e.config.apiKey,e.name)}function vf(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=i(t=n)||qr(t)||o(t)||s();r[0];return Or(r.slice(1).join("?"))}var mf=function(){function e(){Jn(this,e),this._redirectPersistence=Ou,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ol}return Zn(e,[{key:"_initialize",value:function(){var e=ae(se().mark((function e(t){var n,r;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new of(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){aa(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=ae(se().mark((function e(t,n,r,i){var a,o,s,u;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tf(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Hc.clear(),e.next=10,this._originValidation(t);case 10:return o=sf(t,r,i),e.next=13,uf(t,o);case 13:return e.next=15,Yl(t,o,n);case 15:return s=e.sent,e.next=18,$l(s);case 18:return u=e.sent,e.abrupt("return",Zl(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Jl.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Ql(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(ae(se().mark((function n(){return se().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,cf(e);case 2:t.onEvent(gf());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=ae(se().mark((function n(r){var i,a;return se().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,cf(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=ff(i,r.url)),t.onEvent(a||gf());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");Ql().handleOpenURL=function(){var e=ae(se().mark((function e(t){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(GP){console.error(GP)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),yf=mf;function gf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:oa("no-auth-event")}}function kf(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function bf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr();return!("file:"!==kf()&&"ionic:"!==kf()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function wf(){return xr()&&11===(null===document||void 0===document?void 0:document.documentMode)}function xf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr();return/Edge\/\d+/.test(e)}function _f(){try{var e=self.localStorage,t=Mu();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr();return wf()||xf(e)}()||_r()}catch(GP){return Ef()&&_r()}return!1}function Ef(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function If(){return("http:"===kf()||"https:"===kf()||br()||bf())&&!(wr()||kr())&&_f()&&!Ef()}function Tf(){return bf()&&"undefined"!==typeof document}function Sf(){return Cf.apply(this,arguments)}function Cf(){return(Cf=ae(se().mark((function e(){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Tf()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Nf={LOCAL:"local",NONE:"none",SESSION:"session"},Af=la,Pf="persistence";function Rf(e,t){Af(Object.values(Nf).includes(t),e,"invalid-persistence-type"),wr()?Af(t!==Nf.SESSION,e,"unsupported-persistence-type"):kr()?Af(t===Nf.NONE,e,"unsupported-persistence-type"):Ef()?Af(t===Nf.NONE||t===Nf.LOCAL&&_r(),e,"unsupported-persistence-type"):Af(t===Nf.NONE||_f(),e,"unsupported-persistence-type")}function Of(e){return Df.apply(this,arguments)}function Df(){return Df=ae(se().mark((function e(t){var n,r;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Lf(),r=oo(Pf,t.config.apiKey,t.name),(null===n||void 0===n?void 0:n.sessionStorage)&&n.sessionStorage.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Df.apply(this,arguments)}function Lf(){return"undefined"!==typeof window?window:null}var Mf=la,jf=function(){function e(){Jn(this,e),this.browserResolver=pa(Vl),this.cordovaResolver=pa(yf),this.underlyingResolver=null,this._redirectPersistence=Ou,this._completeRedirectFn=ol}return Zn(e,[{key:"_initialize",value:function(){var e=ae(se().mark((function e(t){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=ae(se().mark((function e(t,n,r,i){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ae(se().mark((function e(t,n,r,i){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Tf()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Mf(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=ae(se().mark((function e(){var t;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Sf();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ff(e){return e.unwrap()}function Uf(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Hf(e,function(e,t){var n,r=Vr(e),i=t;return la(t.customData.operationType,r,"argument-error"),la(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),_u._fromError(r,i)}(e,t));else if(r){var i=Vf(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Vf(e){var t=(e instanceof Ir?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Ir)&&"temporaryProof"in t&&"phoneNumber"in t)return Nc.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Wi)return null;switch(r){case Hi:n=ps;break;case Bi:n=ds;break;case zi:n=vs;break;case Ki:n=gs;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?ms._create(r,s):es._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new hs(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof Ir?n.credentialFromError(e):n.credentialFromResult(e)}function qf(e,t){return t.catch((function(t){throw t instanceof Ir&&Uf(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Vf(t)),additionalUserInfo:wu(e),user:Wf.getOrCreate(r)}}))}function Bf(e,t){return zf.apply(this,arguments)}function zf(){return zf=ae(se().mark((function e(t,n){var r;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return qf(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),zf.apply(this,arguments)}var Hf=function(){function e(t,n){Jn(this,e),this.resolver=n,this.auth=t.wrapped()}return Zn(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return qf(Ff(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Wf=function(){function e(t){Jn(this,e),this._delegate=t,this.multiFactor=function(e){var t=Vr(e);return Su.has(t)||Su.set(t,Tu._fromUser(t)),Su.get(t)}(t)}return Zn(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=ae(se().mark((function e(t){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qf(this.auth,Us(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=ae(se().mark((function e(t,n){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bf(this.auth,_c(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=ae(se().mark((function e(t){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qf(this.auth,qc(this._delegate,t,jf)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=ae(se().mark((function e(t){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Of(_o(this.auth));case 2:return e.abrupt("return",nl(this._delegate,t,jf));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=ae(se().mark((function e(t){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qf(this.auth,qs(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Bf(this.auth,function(e,t,n){return Ic.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return qf(this.auth,function(e,t,n){return Vc.apply(this,arguments)}(this._delegate,e,jf))}},{key:"reauthenticateWithRedirect",value:function(){var e=ae(se().mark((function e(t){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Of(_o(this.auth));case 2:return e.abrupt("return",el(this._delegate,t,jf));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return uu.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=ae(se().mark((function e(t){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ss(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return du(Vr(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return du(Vr(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Cc.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return hu.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return cu.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Wf.USER_MAP=new WeakMap;var Kf=la,Gf=function(){function e(t,n){if(Jn(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Kf(r,"invalid-api-key",{appName:t.name}),Kf(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?jf:void 0;this._delegate=n.initialize({options:{persistence:Yf(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(ea),this.linkUnderlyingAuth()}return Zn(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Wf.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Io(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Js.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return $s(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Xs.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=ae(se().mark((function e(t,n){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qf(this._delegate,tu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return su.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=us.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=ae(se().mark((function e(){var t;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Kf(If(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,il(this._delegate,jf);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",qf(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){_o(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Qf(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Qf(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return ru.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Ys.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=ae(se().mark((function e(t){var n,r;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Rf(this._delegate,t),e.t0=t,e.next=e.t0===Nf.SESSION?4:e.t0===Nf.LOCAL?6:e.t0===Nf.NONE?11:13;break;case 4:return n=Ou,e.abrupt("break",14);case 6:return e.next=8,pa(nc)._isAvailable();case 8:return r=e.sent,n=r?nc:Pu,e.abrupt("break",14);case 11:return n=ao,e.abrupt("break",14);case 13:return e.abrupt("return",aa("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return qf(this._delegate,function(e){return _s.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return qf(this._delegate,js(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return qf(this._delegate,function(e,t){return Ws.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return qf(this._delegate,function(e,t,n){return js(Vr(e),cs.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return qf(this._delegate,function(e,t,n){return iu.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Bf(this._delegate,function(e,t,n){return xc.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=ae(se().mark((function e(t){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Kf(If(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",qf(this._delegate,Fc(this._delegate,t,jf)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=ae(se().mark((function e(t){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Kf(If(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Of(this._delegate);case 3:return e.abrupt("return",$c(this._delegate,t,jf));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return eu.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Qf(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Wf.getOrCreate(e))},error:t,complete:n}}function Yf(e,t){var n=function(e,t){var n=Lf();if(!(null===n||void 0===n?void 0:n.sessionStorage))return[];var r=oo(Pf,e,t);switch(n.sessionStorage.getItem(r)){case Nf.NONE:return[ao];case Nf.LOCAL:return[nc,Ou];case Nf.SESSION:return[Ou];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(nc)||n.push(nc),"undefined"!==typeof window)for(var r=0,i=[Pu,Ou];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(ao)||n.push(ao),n}Gf.Persistence=Nf;var Xf=function(){function e(){Jn(this,e),this.providerId="phone",this._delegate=new Nc(Ff(ji.auth()))}return Zn(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Nc.credential(e,t)}}]),e}();Xf.PHONE_SIGN_IN_METHOD=Nc.PHONE_SIGN_IN_METHOD,Xf.PROVIDER_ID=Nc.PROVIDER_ID;var Jf,$f=la,Zf=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ji.app();Jn(this,e),$f(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new kc(t,n,i.auth()),this.type=this._delegate.type}return Zn(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Jf=ji).INTERNAL.registerComponent(new zr("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Gf(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Gi,PASSWORD_RESET:Qi,RECOVER_EMAIL:Yi,REVERT_SECOND_FACTOR_ADDITION:Xi,VERIFY_AND_CHANGE_EMAIL:Ji,VERIFY_EMAIL:$i}},EmailAuthProvider:cs,FacebookAuthProvider:ds,GithubAuthProvider:vs,GoogleAuthProvider:ps,OAuthProvider:hs,SAMLAuthProvider:ys,PhoneAuthProvider:Xf,PhoneMultiFactorGenerator:zl,RecaptchaVerifier:Zf,TwitterAuthProvider:gs,Auth:Gf,AuthCredential:Co,Error:Ir}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Jf.registerVersion("@firebase/auth-compat","0.2.6");var eh,th="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},nh={},rh=rh||{},ih=th||self;function ah(){}function oh(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function sh(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var uh="closure_uid_"+(1e9*Math.random()>>>0),ch=0;function lh(e,t,n){return e.call.apply(e.bind,arguments)}function fh(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function hh(e,t,n){return(hh=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?lh:fh).apply(null,arguments)}function dh(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ph(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function vh(){this.s=this.s,this.o=this.o}var mh={};vh.prototype.s=!1,vh.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,uh)&&e[uh]||(e[uh]=++ch)}(this);delete mh[e]}},vh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var yh=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},gh=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function kh(e){return Array.prototype.concat.apply([],arguments)}function bh(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function wh(e){return/^[\s\xa0]*$/.test(e)}var xh,_h=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Eh(e,t){return-1!=e.indexOf(t)}function Ih(e,t){return e<t?-1:e>t?1:0}e:{var Th=ih.navigator;if(Th){var Sh=Th.userAgent;if(Sh){xh=Sh;break e}}xh=""}function Ch(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Nh(e){var t={};for(var n in e)t[n]=e[n];return t}var Ah="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ph(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Ah.length;a++)n=Ah[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Rh(e){return Rh[" "](e),e}Rh[" "]=ah;var Oh,Dh=Eh(xh,"Opera"),Lh=Eh(xh,"Trident")||Eh(xh,"MSIE"),Mh=Eh(xh,"Edge"),jh=Mh||Lh,Fh=Eh(xh,"Gecko")&&!(Eh(xh.toLowerCase(),"webkit")&&!Eh(xh,"Edge"))&&!(Eh(xh,"Trident")||Eh(xh,"MSIE"))&&!Eh(xh,"Edge"),Uh=Eh(xh.toLowerCase(),"webkit")&&!Eh(xh,"Edge");function Vh(){var e=ih.document;return e?e.documentMode:void 0}e:{var qh="",Bh=function(){var e=xh;return Fh?/rv:([^\);]+)(\)|;)/.exec(e):Mh?/Edge\/([\d\.]+)/.exec(e):Lh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Uh?/WebKit\/(\S+)/.exec(e):Dh?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Bh&&(qh=Bh?Bh[1]:""),Lh){var zh=Vh();if(null!=zh&&zh>parseFloat(qh)){Oh=String(zh);break e}}Oh=qh}var Hh,Wh={};function Kh(){return function(e){var t=Wh;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=_h(String(Oh)).split("."),n=_h("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Ih(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Ih(0==a[2].length,0==o[2].length)||Ih(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(ih.document&&Lh){var Gh=Vh();Hh=Gh||(parseInt(Oh,10)||void 0)}else Hh=void 0;var Qh=Hh,Yh=function(){if(!ih.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ih.addEventListener("test",ah,t),ih.removeEventListener("test",ah,t)}catch(n){}return e}();function Xh(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Jh(e,t){if(Xh.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Fh){e:{try{Rh(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:$h[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Jh.Z.h.call(this)}}Xh.prototype.h=function(){this.defaultPrevented=!0},ph(Jh,Xh);var $h={2:"touch",3:"pen",4:"mouse"};Jh.prototype.h=function(){Jh.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Zh="closure_listenable_"+(1e6*Math.random()|0),ed=0;function td(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++ed,this.ca=this.fa=!1}function nd(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function rd(e){this.src=e,this.g={},this.h=0}function id(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=yh(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(nd(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ad(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}rd.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ad(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new td(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var od="closure_lm_"+(1e6*Math.random()|0),sd={};function ud(e,t,n,r,i){if(r&&r.once)return ld(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ud(e,t[a],n,r,i);return null}return n=yd(n),e&&e[Zh]?e.N(t,n,sh(r)?!!r.capture:!!r,i):cd(e,t,n,!1,r,i)}function cd(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=sh(i)?!!i.capture:!!i,s=vd(e);if(s||(e[od]=s=new rd(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=pd;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Yh||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(dd(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ld(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ld(e,t[a],n,r,i);return null}return n=yd(n),e&&e[Zh]?e.O(t,n,sh(r)?!!r.capture:!!r,i):cd(e,t,n,!0,r,i)}function fd(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)fd(e,t[a],n,r,i);else r=sh(r)?!!r.capture:!!r,n=yd(n),e&&e[Zh]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ad(a=e.g[t],n,r,i))&&(nd(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=vd(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ad(t,n,r,i)),(n=-1<e?t[e]:null)&&hd(n))}function hd(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Zh])id(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(dd(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=vd(t))?(id(n,e),0==n.h&&(n.src=null,t[od]=null)):nd(e)}}}function dd(e){return e in sd?sd[e]:sd[e]="on"+e}function pd(e,t){if(e.ca)e=!0;else{t=new Jh(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&hd(e),e=n.call(r,t)}return e}function vd(e){return(e=e[od])instanceof rd?e:null}var md="__closure_events_fn_"+(1e9*Math.random()>>>0);function yd(e){return"function"===typeof e?e:(e[md]||(e[md]=function(t){return e.handleEvent(t)}),e[md])}function gd(){vh.call(this),this.i=new rd(this),this.P=this,this.I=null}function kd(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Xh(t,e);else if(t instanceof Xh)t.target=t.target||e;else{var i=t;Ph(t=new Xh(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=bd(o,r,!0,t)&&i}if(i=bd(o=t.g=e,r,!0,t)&&i,i=bd(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=bd(o=t.g=n[a],r,!1,t)&&i}function bd(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&id(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}ph(gd,vh),gd.prototype[Zh]=!0,gd.prototype.removeEventListener=function(e,t,n,r){fd(this,e,t,n,r)},gd.prototype.M=function(){if(gd.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)nd(n[r]);delete t.g[e],t.h--}}this.I=null},gd.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},gd.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var wd=ih.JSON.stringify;function xd(){var e=Ad,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var _d,Ed=function(){function e(){Jn(this,e),this.h=this.g=null}return Zn(e,[{key:"add",value:function(e,t){var n=Id.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Id=new(function(){function e(t,n){Jn(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Zn(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Td}),(function(e){return e.reset()})),Td=function(){function e(){Jn(this,e),this.next=this.g=this.h=null}return Zn(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Sd(e){ih.setTimeout((function(){throw e}),0)}function Cd(e,t){_d||function(){var e=ih.Promise.resolve(void 0);_d=function(){e.then(Pd)}}(),Nd||(_d(),Nd=!0),Ad.add(e,t)}var Nd=!1,Ad=new Ed;function Pd(){for(var e;e=xd();){try{e.h.call(e.g)}catch(n){Sd(n)}var t=Id;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Nd=!1}function Rd(e,t){gd.call(this),this.h=e||1,this.g=t||ih,this.j=hh(this.kb,this),this.l=Date.now()}function Od(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Dd(e,t,n){if("function"===typeof e)n&&(e=hh(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=hh(e.handleEvent,e)}return 2147483647<Number(t)?-1:ih.setTimeout(e,t||0)}function Ld(e){e.g=Dd((function(){e.g=null,e.i&&(e.i=!1,Ld(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}ph(Rd,gd),(eh=Rd.prototype).da=!1,eh.S=null,eh.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),kd(this,"tick"),this.da&&(Od(this),this.start()))}},eh.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},eh.M=function(){Rd.Z.M.call(this),Od(this),delete this.g};var Md=function(e){nr(n,e);var t=sr(n);function n(e,r){var i;return Jn(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Zn(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Ld(this)}},{key:"M",value:function(){Ui(rr(n.prototype),"M",this).call(this),this.g&&(ih.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(vh);function jd(e){vh.call(this),this.h=e,this.g={}}ph(jd,vh);var Fd=[];function Ud(e,t,n,r){Array.isArray(n)||(n&&(Fd[0]=n.toString()),n=Fd);for(var i=0;i<n.length;i++){var a=ud(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Vd(e){Ch(e.g,(function(e,t){this.g.hasOwnProperty(t)&&hd(e)}),e),e.g={}}function qd(){this.g=!0}function Bd(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return wd(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}jd.prototype.M=function(){jd.Z.M.call(this),Vd(this)},jd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qd.prototype.Aa=function(){this.g=!1},qd.prototype.info=function(){};var zd={},Hd=null;function Wd(){return Hd=Hd||new gd}function Kd(e){Xh.call(this,zd.Ma,e)}function Gd(e){var t=Wd();kd(t,new Kd(t,e))}function Qd(e,t){Xh.call(this,zd.STAT_EVENT,e),this.stat=t}function Yd(e){var t=Wd();kd(t,new Qd(t,e))}function Xd(e,t){Xh.call(this,zd.Na,e),this.size=t}function Jd(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ih.setTimeout((function(){e()}),t)}zd.Ma="serverreachability",ph(Kd,Xh),zd.STAT_EVENT="statevent",ph(Qd,Xh),zd.Na="timingevent",ph(Xd,Xh);var $d={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Zd={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ep(){}function tp(e){return e.h||(e.h=e.i())}function np(){}ep.prototype.h=null;var rp,ip={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ap(){Xh.call(this,"d")}function op(){Xh.call(this,"c")}function sp(){}function up(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new jd(this),this.P=lp,e=jh?125:void 0,this.W=new Rd(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new cp}function cp(){this.i=null,this.g="",this.h=!1}ph(ap,Xh),ph(op,Xh),ph(sp,ep),sp.prototype.g=function(){return new XMLHttpRequest},sp.prototype.i=function(){return{}},rp=new sp;var lp=45e3,fp={},hp={};function dp(e,t,n){e.K=1,e.v=Mp(Ap(t)),e.s=n,e.U=!0,pp(e,null)}function pp(e,t){e.F=Date.now(),gp(e),e.A=Ap(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Yp(n.h,"t",r),e.C=0,n=e.l.H,e.h=new cp,e.g=Jv(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Md(hh(e.Ia,e,e.g),e.O)),Ud(e.V,e.g,"readystatechange",e.gb),t=e.H?Nh(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Gd(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function vp(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function mp(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=yp(e,n))==hp){4==t&&(e.o=4,Yd(14),i=!1),Bd(e.j,e.m,null,"[Incomplete Response]");break}if(r==fp){e.o=4,Yd(15),Bd(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Bd(e.j,e.m,r,null),_p(e,r)}vp(e)&&r!=hp&&r!=fp&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Yd(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),zv(t),t.L=!0,Yd(11))):(Bd(e.j,e.m,n,"[Invalid Chunked Response]"),xp(e),wp(e))}function yp(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?hp:(n=Number(t.substring(n,r)),isNaN(n)?fp:(r+=1)+n>t.length?hp:(t=t.substr(r,n),e.C=r+n,t))}function gp(e){e.Y=Date.now()+e.P,kp(e,e.P)}function kp(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Jd(hh(e.eb,e),t)}function bp(e){e.B&&(ih.clearTimeout(e.B),e.B=null)}function wp(e){0==e.l.G||e.I||Kv(e.l,e)}function xp(e){bp(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Od(e.W),Vd(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function _p(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||rv(n.i,e)))if(n.I=e.N,!e.J&&rv(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Wv(n),Dv(n)}Bv(n),Yd(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Jd(hh(n.ab,n),6e3));if(1>=nv(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Qv(n,11)}else if((e.J||n.g==e)&&Wv(n),!wh(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Eh(l,"spdy")||Eh(l,"quic")||Eh(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(iv(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Lp(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Xv(r,r.H?r.la:null,r.W),d.J){av(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(bp(p),gp(p)),r.g=d}else qv(r);0<n.l.length&&jv(n)}else"stop"!=a[0]&&"close"!=a[0]||Qv(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Qv(n,7):Ov(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Gd(4)}catch(a){}}function Ep(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(oh(e)||"string"===typeof e)gh(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(oh(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(oh(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Ip(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Ip)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Tp(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Sp(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Sp(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Sp(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(eh=up.prototype).setTimeout=function(e){this.P=e},eh.gb=function(e){e=e.target;var t=this.L;t&&3==Cv(e)?t.l():this.Ia(e)},eh.Ia=function(e){try{if(e==this.g)e:{var t=Cv(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||jh||this.g&&(this.h.h||this.g.ga()||Nv(this.g)))){this.I||4!=t||7==n||Gd(8==n||0>=r?3:2),bp(this);var i=this.g.ba();this.N=i;t:if(vp(this)){var a=Nv(this.g);e="";var o=a.length,s=4==Cv(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){xp(this),wp(this);var u="";break t}this.h.i=new ih.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wh(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Yd(12),xp(this),wp(this);break e}Bd(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,_p(this,i)}this.U?(mp(this,t,u),jh&&this.i&&3==t&&(Ud(this.V,this.W,"tick",this.fb),this.W.start())):(Bd(this.j,this.m,u,null),_p(this,u)),4==t&&xp(this),this.i&&!this.I&&(4==t?Kv(this.l,this):(this.i=!1,gp(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Yd(12)):(this.o=0,Yd(13)),xp(this),wp(this)}}}catch(t){}},eh.fb=function(){if(this.g){var e=Cv(this.g),t=this.g.ga();this.C<t.length&&(bp(this),mp(this,e,t),this.i&&4!=e&&gp(this))}},eh.cancel=function(){this.I=!0,xp(this)},eh.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Gd(3),Yd(17)),xp(this),this.o=2,wp(this)):kp(this,this.Y-e)},(eh=Ip.prototype).R=function(){Tp(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},eh.T=function(){return Tp(this),this.g.concat()},eh.get=function(e,t){return Sp(this.h,e)?this.h[e]:t},eh.set=function(e,t){Sp(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},eh.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Cp=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Np(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Np){this.g=void 0!==t?t:e.g,Pp(this,e.j),this.s=e.s,Rp(this,e.i),Op(this,e.m),this.l=e.l,t=e.h;var n=new Wp;n.i=t.i,t.g&&(n.g=new Ip(t.g),n.h=t.h),Dp(this,n),this.o=e.o}else e&&(n=String(e).match(Cp))?(this.g=!!t,Pp(this,n[1]||"",!0),this.s=jp(n[2]||""),Rp(this,n[3]||"",!0),Op(this,n[4]),this.l=jp(n[5]||"",!0),Dp(this,n[6]||"",!0),this.o=jp(n[7]||"")):(this.g=!!t,this.h=new Wp(null,this.g))}function Ap(e){return new Np(e)}function Pp(e,t,n){e.j=n?jp(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Rp(e,t,n){e.i=n?jp(t,!0):t}function Op(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Dp(e,t,n){t instanceof Wp?(e.h=t,function(e,t){t&&!e.j&&(Kp(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Gp(this,t),Yp(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Fp(t,zp)),e.h=new Wp(t,e.g))}function Lp(e,t,n){e.h.set(t,n)}function Mp(e){return Lp(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function jp(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Fp(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Up),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Up(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Np.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Fp(t,Vp,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Fp(t,Vp,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Fp(n,"/"==n.charAt(0)?Bp:qp,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Fp(n,Hp)),e.join("")};var Vp=/[#\/\?@]/g,qp=/[#\?:]/g,Bp=/[#\?]/g,zp=/[#\?@]/g,Hp=/#/g;function Wp(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Kp(e){e.g||(e.g=new Ip,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Gp(e,t){Kp(e),t=Xp(e,t),Sp(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Sp((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Tp(e)))}function Qp(e,t){return Kp(e),t=Xp(e,t),Sp(e.g.h,t)}function Yp(e,t,n){Gp(e,t),0<n.length&&(e.i=null,e.g.set(Xp(e,t),bh(n)),e.h+=n.length)}function Xp(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(eh=Wp.prototype).add=function(e,t){Kp(this),this.i=null,e=Xp(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},eh.forEach=function(e,t){Kp(this),this.g.forEach((function(n,r){gh(n,(function(n){e.call(t,n,r,this)}),this)}),this)},eh.T=function(){Kp(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},eh.R=function(e){Kp(this);var t=[];if("string"===typeof e)Qp(this,e)&&(t=kh(t,this.g.get(Xp(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=kh(t,e[n])}return t},eh.set=function(e,t){return Kp(this),this.i=null,Qp(this,e=Xp(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},eh.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},eh.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Jp=Zn((function e(t,n){Jn(this,e),this.h=t,this.g=n}));function $p(e){this.l=e||ev,ih.PerformanceNavigationTiming?e=0<(e=ih.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ih.g&&ih.g.Ea&&ih.g.Ea()&&ih.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Zp,ev=10;function tv(e){return!!e.h||!!e.g&&e.g.size>=e.j}function nv(e){return e.h?1:e.g?e.g.size:0}function rv(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function iv(e,t){e.g?e.g.add(t):e.h=t}function av(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ov(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=er(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return bh(e.i)}function sv(){}function uv(){this.g=new sv}function cv(e,t,n){var r=n||"";try{Ep(e,(function(e,n){var i=e;sh(e)&&(i=wd(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(GP){throw t.push(r+"type="+encodeURIComponent("_badmap")),GP}}function lv(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function fv(e){this.l=e.$b||null,this.j=e.ib||!1}function hv(e,t){gd.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=dv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}$p.prototype.cancel=function(){if(this.i=ov(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=er(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},sv.prototype.stringify=function(e){return ih.JSON.stringify(e,void 0)},sv.prototype.parse=function(e){return ih.JSON.parse(e,void 0)},ph(fv,ep),fv.prototype.g=function(){return new hv(this.l,this.j)},fv.prototype.i=(Zp={},function(){return Zp}),ph(hv,gd);var dv=0;function pv(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function vv(e){e.readyState=4,e.l=null,e.j=null,e.A=null,mv(e)}function mv(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(eh=hv.prototype).open=function(e,t){if(this.readyState!=dv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,mv(this)},eh.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ih).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},eh.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,vv(this)),this.readyState=dv},eh.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,mv(this)),this.g&&(this.readyState=3,mv(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof ih.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;pv(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},eh.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?vv(this):mv(this),3==this.readyState&&pv(this)}},eh.Ua=function(e){this.g&&(this.response=this.responseText=e,vv(this))},eh.Ta=function(e){this.g&&(this.response=e,vv(this))},eh.ha=function(){this.g&&vv(this)},eh.setRequestHeader=function(e,t){this.v.append(e,t)},eh.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},eh.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(hv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var yv=ih.JSON.parse;function gv(e){gd.call(this),this.headers=new Ip,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=kv,this.K=this.L=!1}ph(gv,gd);var kv="",bv=/^https?$/i,wv=["POST","PUT"];function xv(e){return"content-type"==e.toLowerCase()}function _v(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ev(e),Tv(e)}function Ev(e){e.D||(e.D=!0,kd(e,"complete"),kd(e,"error"))}function Iv(e){if(e.h&&"undefined"!=typeof rh&&(!e.C[1]||4!=Cv(e)||2!=e.ba()))if(e.v&&4==Cv(e))Dd(e.Fa,0,e);else if(kd(e,"readystatechange"),4==Cv(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Cp)[1]||null;if(!a&&ih.self&&ih.self.location){var o=ih.self.location.protocol;a=o.substr(0,o.length-1)}i=!bv.test(a?a.toLowerCase():"")}t=i}if(t)kd(e,"complete"),kd(e,"success");else{e.m=6;try{var s=2<Cv(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",Ev(e)}}finally{Tv(e)}}}function Tv(e,t){if(e.g){Sv(e);var n=e.g,r=e.C[0]?ah:null;e.g=null,e.C=null,t||kd(e,"ready");try{n.onreadystatechange=r}catch(GP){}}}function Sv(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ih.clearTimeout(e.A),e.A=null)}function Cv(e){return e.g?e.g.readyState:0}function Nv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case kv:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Av(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Ch(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Lp(e,t,n))}function Pv(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Rv(e){this.za=0,this.l=[],this.h=new qd,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Pv("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Pv("baseRetryDelayMs",5e3,e),this.$a=Pv("retryDelaySeedMs",1e4,e),this.Ya=Pv("forwardChannelMaxRetries",2,e),this.ra=Pv("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new $p(e&&e.concurrentRequestLimit),this.Ca=new uv,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Ov(e){if(Lv(e),3==e.G){var t=e.V++,n=Ap(e.F);Lp(n,"SID",e.J),Lp(n,"RID",t),Lp(n,"TYPE","terminate"),Uv(e,n),(t=new up(e,e.h,t,void 0)).K=2,t.v=Mp(Ap(n)),n=!1,ih.navigator&&ih.navigator.sendBeacon&&(n=ih.navigator.sendBeacon(t.v.toString(),"")),!n&&ih.Image&&((new Image).src=t.v,n=!0),n||(t.g=Jv(t.l,null),t.g.ea(t.v)),t.F=Date.now(),gp(t)}Yv(e)}function Dv(e){e.g&&(zv(e),e.g.cancel(),e.g=null)}function Lv(e){Dv(e),e.u&&(ih.clearTimeout(e.u),e.u=null),Wv(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ih.clearTimeout(e.m),e.m=null)}function Mv(e,t){e.l.push(new Jp(e.Za++,t)),3==e.G&&jv(e)}function jv(e){tv(e.i)||e.m||(e.m=!0,Cd(e.Ha,e),e.C=0)}function Fv(e,t){var n;n=t?t.m:e.V++;var r=Ap(e.F);Lp(r,"SID",e.J),Lp(r,"RID",n),Lp(r,"AID",e.U),Uv(e,r),e.o&&e.s&&Av(r,e.o,e.s),n=new up(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Vv(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),iv(e.i,n),dp(n,r,t)}function Uv(e,t){e.j&&Ep({},(function(e,n){Lp(t,n,e)}))}function Vv(e,t,n){n=Math.min(e.l.length,n);var r=e.j?hh(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{cv(l,o,"req"+c+"_")}catch(Cm){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function qv(e){e.g||e.u||(e.Y=1,Cd(e.Ga,e),e.A=0)}function Bv(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Jd(hh(e.Ga,e),Gv(e,e.A)),e.A++,!0)}function zv(e){null!=e.B&&(ih.clearTimeout(e.B),e.B=null)}function Hv(e){e.g=new up(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ap(e.oa);Lp(t,"RID","rpc"),Lp(t,"SID",e.J),Lp(t,"CI",e.N?"0":"1"),Lp(t,"AID",e.U),Uv(e,t),Lp(t,"TYPE","xmlhttp"),e.o&&e.s&&Av(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Mp(Ap(t)),n.s=null,n.U=!0,pp(n,e)}function Wv(e){null!=e.v&&(ih.clearTimeout(e.v),e.v=null)}function Kv(e,t){var n=null;if(e.g==t){Wv(e),zv(e),e.g=null;var r=2}else{if(!rv(e.i,t))return;n=t.D,av(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;kd(r=Wd(),new Xd(r,n,t,i)),jv(e)}else qv(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(nv(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Jd(hh(e.Ha,e,t),Gv(e,e.C)),e.C++,!0))}(e,t)||2==r&&Bv(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Qv(e,5);break;case 4:Qv(e,10);break;case 3:Qv(e,6);break;default:Qv(e,2)}}function Gv(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Qv(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=hh(e.jb,e);n||(n=new Np("//www.google.com/images/cleardot.gif"),ih.location&&"http"==ih.location.protocol||Pp(n,"https"),Mp(n)),function(e,t){var n=new qd;if(ih.Image){var r=new Image;r.onload=dh(lv,n,r,"TestLoadImage: loaded",!0,t),r.onerror=dh(lv,n,r,"TestLoadImage: error",!1,t),r.onabort=dh(lv,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=dh(lv,n,r,"TestLoadImage: timeout",!1,t),ih.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Yd(2);e.G=0,e.j&&e.j.va(t),Yv(e),Lv(e)}function Yv(e){e.G=0,e.I=-1,e.j&&(0==ov(e.i).length&&0==e.l.length||(e.i.i.length=0,bh(e.l),e.l.length=0),e.j.ua())}function Xv(e,t,n){var r=function(e){return e instanceof Np?Ap(e):new Np(e,void 0)}(n);if(""!=r.i)t&&Rp(r,t+"."+r.i),Op(r,r.m);else{var i=ih.location;r=function(e,t,n,r){var i=new Np(null,void 0);return e&&Pp(i,e),t&&Rp(i,t),n&&Op(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Ch(e.aa,(function(e,t){Lp(r,t,e)})),t=e.D,n=e.sa,t&&n&&Lp(r,t,n),Lp(r,"VER",e.ma),Uv(e,r),r}function Jv(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new gv(new fv({ib:!0})):new gv(e.qa)).L=e.H,t}function $v(){}function Zv(){if(Lh&&!(10<=Number(Qh)))throw Error("Environmental error: no available transport.")}function em(e,t){gd.call(this),this.g=new Rv(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!wh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!wh(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new rm(this)}function tm(e){ap.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function nm(){op.call(this),this.status=1}function rm(e){this.g=e}(eh=gv.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():rp.g(),this.C=this.u?tp(this.u):tp(rp),this.g.onreadystatechange=hh(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void _v(this,a)}e=n||"";var i=new Ip(this.headers);r&&Ep(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=xv,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=ih.FormData&&e instanceof ih.FormData,!(0<=yh(wv,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Sv(this),0<this.B&&((this.K=function(e){return Lh&&Kh()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=hh(this.pa,this)):this.A=Dd(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){_v(this,a)}},eh.pa=function(){"undefined"!=typeof rh&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,kd(this,"timeout"),this.abort(8))},eh.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,kd(this,"complete"),kd(this,"abort"),Tv(this))},eh.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Tv(this,!0)),gv.Z.M.call(this)},eh.Fa=function(){this.s||(this.F||this.v||this.l?Iv(this):this.cb())},eh.cb=function(){Iv(this)},eh.ba=function(){try{return 2<Cv(this)?this.g.status:-1}catch(Zp){return-1}},eh.ga=function(){try{return this.g?this.g.responseText:""}catch(Zp){return""}},eh.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),yv(t)}},eh.Da=function(){return this.m},eh.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(eh=Rv.prototype).ma=8,eh.G=1,eh.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},eh.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new up(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Ph(n=Nh(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Vv(this,t,r),Lp(i=Ap(this.F),"RID",e),Lp(i,"CVER",22),this.D&&Lp(i,"X-HTTP-Session-Id",this.D),Uv(this,i),this.o&&n&&Av(i,this.o,n),iv(this.i,t),this.Ra&&Lp(i,"TYPE","init"),this.ja?(Lp(i,"$req",r),Lp(i,"SID","null"),t.$=!0,dp(t,i,null)):dp(t,i,r),this.G=2}}else 3==this.G&&(e?Fv(this,e):0==this.l.length||tv(this.i)||Fv(this))},eh.Ga=function(){if(this.u=null,Hv(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Jd(hh(this.bb,this),e)}},eh.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Yd(10),Dv(this),Hv(this))},eh.ab=function(){null!=this.v&&(this.v=null,Dv(this),Bv(this),Yd(19))},eh.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Yd(2)):(this.h.info("Failed to ping google.com"),Yd(1))},(eh=$v.prototype).xa=function(){},eh.wa=function(){},eh.va=function(){},eh.ua=function(){},eh.Oa=function(){},Zv.prototype.g=function(e,t){return new em(e,t)},ph(em,gd),em.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Cd(hh(e.hb,e,t))),Yd(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Xv(e,null,e.W),jv(e)},em.prototype.close=function(){Ov(this.g)},em.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Mv(this.g,t)}else this.v?((t={}).__data__=wd(e),Mv(this.g,t)):Mv(this.g,e)},em.prototype.M=function(){this.g.j=null,delete this.j,Ov(this.g),delete this.g,em.Z.M.call(this)},ph(tm,ap),ph(nm,op),ph(rm,$v),rm.prototype.xa=function(){kd(this.g,"a")},rm.prototype.wa=function(e){kd(this.g,new tm(e))},rm.prototype.va=function(e){kd(this.g,new nm(e))},rm.prototype.ua=function(){kd(this.g,"b")},Zv.prototype.createWebChannel=Zv.prototype.g,em.prototype.send=em.prototype.u,em.prototype.open=em.prototype.m,em.prototype.close=em.prototype.close,$d.NO_ERROR=0,$d.TIMEOUT=8,$d.HTTP_ERROR=6,Zd.COMPLETE="complete",np.EventType=ip,ip.OPEN="a",ip.CLOSE="b",ip.ERROR="c",ip.MESSAGE="d",gd.prototype.listen=gd.prototype.N,gv.prototype.listenOnce=gv.prototype.O,gv.prototype.getLastError=gv.prototype.La,gv.prototype.getLastErrorCode=gv.prototype.Da,gv.prototype.getStatus=gv.prototype.ba,gv.prototype.getResponseJson=gv.prototype.Qa,gv.prototype.getResponseText=gv.prototype.ga,gv.prototype.send=gv.prototype.ea;var im=nh.createWebChannelTransport=function(){return new Zv},am=nh.getStatEventTarget=function(){return Wd()},om=nh.ErrorCode=$d,sm=nh.EventType=Zd,um=nh.Event=zd,cm=nh.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},lm=nh.FetchXmlHttpFactory=fv,fm=nh.WebChannel=np,hm=nh.XhrIo=gv,dm="@firebase/firestore",pm=function(){function e(t){Jn(this,e),this.uid=t}return Zn(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();pm.UNAUTHENTICATED=new pm(null),pm.GOOGLE_CREDENTIALS=new pm("google-credentials-uid"),pm.FIRST_PARTY=new pm("first-party-uid"),pm.MOCK_USER=new pm("mock-user");var vm="9.6.3",mm=new ni("@firebase/firestore");function ym(){return mm.logLevel}function gm(e){if(mm.logLevel<=Gr.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(wm);mm.debug.apply(mm,["Firestore (".concat(vm,"): ").concat(e)].concat(Br(i)))}}function km(e){if(mm.logLevel<=Gr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(wm);mm.error.apply(mm,["Firestore (".concat(vm,"): ").concat(e)].concat(Br(i)))}}function bm(e){if(mm.logLevel<=Gr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(wm);mm.warn.apply(mm,["Firestore (".concat(vm,"): ").concat(e)].concat(Br(i)))}}function wm(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function xm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(vm,") INTERNAL ASSERTION FAILED: ")+e;throw km(t),new Error(t)}function _m(e,t){e||xm()}function Em(e,t){return e}var Im={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Tm=function(e){nr(n,e);var t=sr(n);function n(e,r){var i;return Jn(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Zn(n)}(Ir),Sm=Zn((function e(){var t=this;Jn(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Cm=Zn((function e(t,n){Jn(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Nm=function(){function e(){Jn(this,e)}return Zn(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(pm.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Am=function(){function e(t){Jn(this,e),this.token=t,this.changeListener=null}return Zn(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Pm=function(){function e(t){Jn(this,e),this.t=t,this.currentUser=pm.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Zn(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Sm;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Sm,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(ae(se().mark((function e(){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){gm("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(gm("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Sm)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(gm("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(_m("string"==typeof n.accessToken),new Cm(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return _m(null===e||"string"==typeof e),new pm(e)}}]),e}(),Rm=Zn((function e(t,n,r){Jn(this,e),this.type="FirstParty",this.user=pm.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Om=function(){function e(t,n,r){Jn(this,e),this.h=t,this.l=n,this.m=r}return Zn(e,[{key:"getToken",value:function(){return Promise.resolve(new Rm(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(pm.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Dm=Zn((function e(t){Jn(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Lm=function(){function e(t){Jn(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return Zn(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&gm("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){gm("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):gm("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(_m("string"==typeof e.token),new Dm(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Mm=function(){function e(t,n){var r=this;Jn(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Zn(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function jm(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Mm.I=-1;var Fm=function(){function e(){Jn(this,e)}return Zn(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=jm(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Um(e,t){return e<t?-1:e>t?1:0}function Vm(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function qm(e){return e+"\0"}var Bm=function(){function e(t,n){if(Jn(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Tm(Im.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Tm(Im.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Tm(Im.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Tm(Im.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Zn(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Um(this.nanoseconds,e.nanoseconds):Um(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),zm=function(){function e(t){Jn(this,e),this.timestamp=t}return Zn(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Bm(0,0))}}]),e}();function Hm(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Wm(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Km(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Gm=function(){function e(t,n,r){Jn(this,e),void 0===n?n=0:n>t.length&&xm(),void 0===r?r=t.length-n:r>t.length-n&&xm(),this.segments=t,this.offset=n,this.len=r}return Zn(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Qm=function(e){nr(n,e);var t=sr(n);function n(){return Jn(this,n),t.apply(this,arguments)}return Zn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Tm(Im.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,Br(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Gm),Ym=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Xm=function(e){nr(n,e);var t=sr(n);function n(){return Jn(this,n),t.apply(this,arguments)}return Zn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Ym.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Tm(Im.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Tm(Im.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Tm(Im.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Tm(Im.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Gm),Jm=function(){function e(t){Jn(this,e),this.fields=t,t.sort(Xm.comparator)}return Zn(e,[{key:"covers",value:function(e){var t,n=er(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Vm(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var $m=function(e){function t(e){Jn(this,t),this.binaryString=e}return Zn(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Um(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();$m.EMPTY_BYTE_STRING=new $m("");var Zm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ey(e){if(_m(!!e),"string"==typeof e){var t=0,n=Zm.exec(e);if(_m(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ty(e.seconds),nanos:ty(e.nanos)}}function ty(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ny(e){return"string"==typeof e?$m.fromBase64String(e):$m.fromUint8Array(e)}function ry(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function iy(e){var t=e.mapValue.fields.__previous_value__;return ry(t)?iy(t):t}function ay(e){var t=ey(e.mapValue.fields.__local_write_time__.timestampValue);return new Bm(t.seconds,t.nanos)}function oy(e){return null==e}function sy(e){return 0===e&&1/e==-1/0}function uy(e){return"number"==typeof e&&Number.isInteger(e)&&!sy(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var cy=function(){function e(t){Jn(this,e),this.path=t}return Zn(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===Qm.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Qm.fromString(t))}},{key:"fromName",value:function(t){return new e(Qm.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return Qm.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Qm(t.slice()))}}]),e}();function ly(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ry(e)?4:10:xm()}function fy(e,t){if(e===t)return!0;var n=ly(e);if(n!==ly(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ay(e).isEqual(ay(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ey(e.timestampValue),r=ey(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ny(e.bytesValue).isEqual(ny(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ty(e.geoPointValue.latitude)===ty(t.geoPointValue.latitude)&&ty(e.geoPointValue.longitude)===ty(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ty(e.integerValue)===ty(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=ty(e.doubleValue),r=ty(t.doubleValue);return n===r?sy(n)===sy(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Vm(e.arrayValue.values||[],t.arrayValue.values||[],fy);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Hm(n)!==Hm(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!fy(n[i],r[i])))return!1;return!0}(e,t);default:return xm()}}function hy(e,t){return void 0!==(e.values||[]).find((function(e){return fy(e,t)}))}function dy(e,t){if(e===t)return 0;var n=ly(e),r=ly(t);if(n!==r)return Um(n,r);switch(n){case 0:return 0;case 1:return Um(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=ty(e.integerValue||e.doubleValue),r=ty(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return py(e.timestampValue,t.timestampValue);case 4:return py(ay(e),ay(t));case 5:return Um(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ny(e),r=ny(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Um(n[i],r[i]);if(0!==a)return a}return Um(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Um(ty(e.latitude),ty(t.latitude));return 0!==n?n:Um(ty(e.longitude),ty(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=dy(n[i],r[i]);if(a)return a}return Um(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Um(r[o],a[o]);if(0!==s)return s;var u=dy(n[r[o]],i[a[o]]);if(0!==u)return u}return Um(r.length,a.length)}(e.mapValue,t.mapValue);default:throw xm()}}function py(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Um(e,t);var n=ey(e),r=ey(t),i=Um(n.seconds,r.seconds);return 0!==i?i:Um(n.nanos,r.nanos)}function vy(e){return my(e)}function my(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=ey(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ny(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,cy.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=er(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=my(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=er(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(my(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):xm();var t,n}function yy(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function gy(e){return!!e&&"integerValue"in e}function ky(e){return!!e&&"arrayValue"in e}function by(e){return!!e&&"nullValue"in e}function wy(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function xy(e){return!!e&&"mapValue"in e}function _y(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Wm(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=_y(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=_y(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Ey=function(){function e(t){Jn(this,e),this.value=t}return Zn(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!xy(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_y(t)}},{key:"setAll",value:function(e){var t=this,n=Xm.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=_y(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());xy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return fy(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];xy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Wm(t,(function(t,n){return e[t]=n}));var r,i=er(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(_y(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Iy(e){var t=[];return Wm(e.fields,(function(e,n){var r=new Xm([e]);if(xy(n)){var i=Iy(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=er(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Jm(t)}var Ty=function(){function e(t,n,r,i,a){Jn(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return Zn(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Ey.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Ey.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,zm.min(),Ey.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Ey.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Ey.empty(),2)}}]),e}(),Sy=Zn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Jn(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.R=null}));function Cy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Sy(e,t,n,r,i,a,o)}function Ny(e){var t=Em(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+vy(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),oy(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=By(t.startAt)),t.endAt&&(n+="|ub:",n+=By(t.endAt)),t.R=n}return t.R}function Ay(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Hy(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!fy(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ky(e.startAt,t.startAt)&&Ky(e.endAt,t.endAt)}function Py(e){return cy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Ry=function(e){nr(n,e);var t=sr(n);function n(e,r,i){var a;return Jn(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Zn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(dy(t,this.value)):null!==t&&ly(this.value)===ly(t)&&this.v(dy(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return xm()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new Oy(e,t,r):"array-contains"===t?new jy(e,r):"in"===t?new Fy(e,r):"not-in"===t?new Uy(e,r):"array-contains-any"===t?new Vy(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new Dy(e,n):new Ly(e,n)}}]),n}(function(){return Zn((function e(){Jn(this,e)}))}());var Oy=function(e){nr(n,e);var t=sr(n);function n(e,r,i){var a;return Jn(this,n),(a=t.call(this,e,r,i)).key=cy.fromName(i.referenceValue),a}return Zn(n,[{key:"matches",value:function(e){var t=cy.comparator(e.key,this.key);return this.v(t)}}]),n}(Ry),Dy=function(e){nr(n,e);var t=sr(n);function n(e,r){var i;return Jn(this,n),(i=t.call(this,e,"in",r)).keys=My("in",r),i}return Zn(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ry),Ly=function(e){nr(n,e);var t=sr(n);function n(e,r){var i;return Jn(this,n),(i=t.call(this,e,"not-in",r)).keys=My("not-in",r),i}return Zn(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ry);function My(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return cy.fromName(e.referenceValue)}))}var jy=function(e){nr(n,e);var t=sr(n);function n(e,r){return Jn(this,n),t.call(this,e,"array-contains",r)}return Zn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return ky(t)&&hy(t.arrayValue,this.value)}}]),n}(Ry),Fy=function(e){nr(n,e);var t=sr(n);function n(e,r){return Jn(this,n),t.call(this,e,"in",r)}return Zn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&hy(this.value.arrayValue,t)}}]),n}(Ry),Uy=function(e){nr(n,e);var t=sr(n);function n(e,r){return Jn(this,n),t.call(this,e,"not-in",r)}return Zn(n,[{key:"matches",value:function(e){if(hy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!hy(this.value.arrayValue,t)}}]),n}(Ry),Vy=function(e){nr(n,e);var t=sr(n);function n(e,r){return Jn(this,n),t.call(this,e,"array-contains-any",r)}return Zn(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!ky(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return hy(t.value.arrayValue,e)}))}}]),n}(Ry),qy=Zn((function e(t,n){Jn(this,e),this.position=t,this.before=n}));function By(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return vy(e)})).join(","))}var zy=Zn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Jn(this,e),this.field=t,this.dir=n}));function Hy(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Wy(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?cy.comparator(cy.fromName(o.referenceValue),n.key):dy(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Ky(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!fy(e.position[n],t.position[n]))return!1;return!0}var Gy=Zn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Jn(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.S=null,this.D=null,this.startAt,this.endAt}));function Qy(e,t,n,r,i,a,o,s){return new Gy(e,t,n,r,i,a,o,s)}function Yy(e){return new Gy(e)}function Xy(e){return!oy(e.limit)&&"F"===e.limitType}function Jy(e){return!oy(e.limit)&&"L"===e.limitType}function $y(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Zy(e){var t,n=er(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function eg(e){return null!==e.collectionGroup}function tg(e){var t=Em(e);if(null===t.S){t.S=[];var n=Zy(t),r=$y(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new zy(n)),t.S.push(new zy(Xm.keyField(),"asc"));else{var i,a=!1,o=er(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.S.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new zy(Xm.keyField(),u))}}}return t.S}function ng(e){var t=Em(e);if(!t.D)if("F"===t.limitType)t.D=Cy(t.path,t.collectionGroup,tg(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=er(tg(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new zy(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new qy(t.endAt.position,!t.endAt.before):null,u=t.startAt?new qy(t.startAt.position,!t.startAt.before):null;t.D=Cy(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.D}function rg(e,t,n){return new Gy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ig(e,t){return Ay(ng(e),ng(t))&&e.limitType===t.limitType}function ag(e){return"".concat(Ny(ng(e)),"|lt:").concat(e.limitType)}function og(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(vy(t.value));var t})).join(", "),"]")),oy(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+By(e.startAt)),e.endAt&&(t+=", endAt: "+By(e.endAt)),"Target(".concat(t,")")}(ng(e)),"; limitType=").concat(e.limitType,")")}function sg(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):cy.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=er(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=er(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!Wy(e.startAt,tg(e),t))&&(!e.endAt||!Wy(e.endAt,tg(e),t))}(e,t)}function ug(e){return function(t,n){var r,i=!1,a=er(tg(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=cg(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function cg(e,t,n){var r=e.field.isKeyField()?cy.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?dy(r,i):xm()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return xm()}}function lg(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sy(t)?"-0":t}}function fg(e){return{integerValue:""+e}}function hg(e,t){return uy(t)?fg(t):lg(e,t)}var dg=Zn((function e(){Jn(this,e),this._=void 0}));function pg(e,t,n){return e instanceof yg?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof gg?kg(e,t):e instanceof bg?wg(e,t):function(e,t){var n=mg(e,t),r=_g(n)+_g(e.N);return gy(n)&&gy(e.N)?fg(r):lg(e.k,r)}(e,t)}function vg(e,t,n){return e instanceof gg?kg(e,t):e instanceof bg?wg(e,t):n}function mg(e,t){return e instanceof xg?gy(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var yg=function(e){nr(n,e);var t=sr(n);function n(){return Jn(this,n),t.apply(this,arguments)}return Zn(n)}(dg),gg=function(e){nr(n,e);var t=sr(n);function n(e){var r;return Jn(this,n),(r=t.call(this)).elements=e,r}return Zn(n)}(dg);function kg(e,t){var n,r=Eg(t),i=er(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return fy(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var bg=function(e){nr(n,e);var t=sr(n);function n(e){var r;return Jn(this,n),(r=t.call(this)).elements=e,r}return Zn(n)}(dg);function wg(e,t){var n,r=Eg(t),i=er(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!fy(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var xg=function(e){nr(n,e);var t=sr(n);function n(e,r){var i;return Jn(this,n),(i=t.call(this)).k=e,i.N=r,i}return Zn(n)}(dg);function _g(e){return ty(e.integerValue||e.doubleValue)}function Eg(e){return ky(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Ig=Zn((function e(t,n){Jn(this,e),this.field=t,this.transform=n}));var Tg=Zn((function e(t,n){Jn(this,e),this.version=t,this.transformResults=n})),Sg=function(){function e(t,n){Jn(this,e),this.updateTime=t,this.exists=n}return Zn(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Cg(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Ng=Zn((function e(){Jn(this,e)}));function Ag(e,t,n){e instanceof Lg?function(e,t,n){var r=e.value.clone(),i=Fg(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Mg?function(e,t,n){if(Cg(e.precondition,t)){var r=Fg(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(jg(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Pg(e,t,n){e instanceof Lg?function(e,t,n){if(Cg(e.precondition,t)){var r=e.value.clone(),i=Ug(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Dg(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Mg?function(e,t,n){if(Cg(e.precondition,t)){var r=Ug(e.fieldTransforms,n,t),i=t.data;i.setAll(jg(e)),i.setAll(r),t.convertToFoundDocument(Dg(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Cg(e.precondition,t)&&t.convertToNoDocument(zm.min())}(e,t)}function Rg(e,t){var n,r=null,i=er(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=mg(a.transform,o||null);null!=s&&(null==r&&(r=Ey.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Og(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Vm(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof gg&&t instanceof gg||e instanceof bg&&t instanceof bg?Vm(e.elements,t.elements,fy):e instanceof xg&&t instanceof xg?fy(e.N,t.N):e instanceof yg&&t instanceof yg}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Dg(e){return e.isFoundDocument()?e.version:zm.min()}var Lg=function(e){nr(n,e);var t=sr(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Jn(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Zn(n)}(Ng),Mg=function(e){nr(n,e);var t=sr(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Jn(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return Zn(n)}(Ng);function jg(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Fg(e,t,n){var r=new Map;_m(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,vg(o,s,n[i]))}return r}function Ug(e,t,n){var r,i=new Map,a=er(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,pg(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Vg,qg,Bg=function(e){nr(n,e);var t=sr(n);function n(e,r){var i;return Jn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Zn(n)}(Ng),zg=function(e){nr(n,e);var t=sr(n);function n(e,r){var i;return Jn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Zn(n)}(Ng),Hg=Zn((function e(t){Jn(this,e),this.count=t}));function Wg(e){switch(e){default:return xm();case Im.CANCELLED:case Im.UNKNOWN:case Im.DEADLINE_EXCEEDED:case Im.RESOURCE_EXHAUSTED:case Im.INTERNAL:case Im.UNAVAILABLE:case Im.UNAUTHENTICATED:return!1;case Im.INVALID_ARGUMENT:case Im.NOT_FOUND:case Im.ALREADY_EXISTS:case Im.PERMISSION_DENIED:case Im.FAILED_PRECONDITION:case Im.ABORTED:case Im.OUT_OF_RANGE:case Im.UNIMPLEMENTED:case Im.DATA_LOSS:return!0}}function Kg(e){if(void 0===e)return km("GRPC error has no .code"),Im.UNKNOWN;switch(e){case Vg.OK:return Im.OK;case Vg.CANCELLED:return Im.CANCELLED;case Vg.UNKNOWN:return Im.UNKNOWN;case Vg.DEADLINE_EXCEEDED:return Im.DEADLINE_EXCEEDED;case Vg.RESOURCE_EXHAUSTED:return Im.RESOURCE_EXHAUSTED;case Vg.INTERNAL:return Im.INTERNAL;case Vg.UNAVAILABLE:return Im.UNAVAILABLE;case Vg.UNAUTHENTICATED:return Im.UNAUTHENTICATED;case Vg.INVALID_ARGUMENT:return Im.INVALID_ARGUMENT;case Vg.NOT_FOUND:return Im.NOT_FOUND;case Vg.ALREADY_EXISTS:return Im.ALREADY_EXISTS;case Vg.PERMISSION_DENIED:return Im.PERMISSION_DENIED;case Vg.FAILED_PRECONDITION:return Im.FAILED_PRECONDITION;case Vg.ABORTED:return Im.ABORTED;case Vg.OUT_OF_RANGE:return Im.OUT_OF_RANGE;case Vg.UNIMPLEMENTED:return Im.UNIMPLEMENTED;case Vg.DATA_LOSS:return Im.DATA_LOSS;default:return xm()}}(qg=Vg||(Vg={}))[qg.OK=0]="OK",qg[qg.CANCELLED=1]="CANCELLED",qg[qg.UNKNOWN=2]="UNKNOWN",qg[qg.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qg[qg.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qg[qg.NOT_FOUND=5]="NOT_FOUND",qg[qg.ALREADY_EXISTS=6]="ALREADY_EXISTS",qg[qg.PERMISSION_DENIED=7]="PERMISSION_DENIED",qg[qg.UNAUTHENTICATED=16]="UNAUTHENTICATED",qg[qg.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qg[qg.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qg[qg.ABORTED=10]="ABORTED",qg[qg.OUT_OF_RANGE=11]="OUT_OF_RANGE",qg[qg.UNIMPLEMENTED=12]="UNIMPLEMENTED",qg[qg.INTERNAL=13]="INTERNAL",qg[qg.UNAVAILABLE=14]="UNAVAILABLE",qg[qg.DATA_LOSS=15]="DATA_LOSS";var Gg=function(){function e(t,n){Jn(this,e),this.comparator=t,this.root=n||Yg.EMPTY}return Zn(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Yg.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Yg.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Qg(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Qg(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Qg(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Qg(this.root,e,this.comparator,!0)}}]),e}(),Qg=function(){function e(t,n,r,i){Jn(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Zn(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Yg=function(){function e(t,n,r,i,a){Jn(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Zn(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw xm();if(this.right.isRed())throw xm();var e=this.left.check();if(e!==this.right.check())throw xm();return e+(this.isRed()?0:1)}}]),e}();Yg.EMPTY=null,Yg.RED=!0,Yg.BLACK=!1,Yg.EMPTY=new(function(){function e(){Jn(this,e),this.size=0}return Zn(e,[{key:"key",get:function(){throw xm()}},{key:"value",get:function(){throw xm()}},{key:"color",get:function(){throw xm()}},{key:"left",get:function(){throw xm()}},{key:"right",get:function(){throw xm()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Yg(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Xg=function(){function e(t){Jn(this,e),this.comparator=t,this.data=new Gg(this.comparator)}return Zn(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Jg(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Jg(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Jg=function(){function e(t){Jn(this,e),this.iter=t}return Zn(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),$g=new Gg(cy.comparator);function Zg(){return $g}var ek=new Gg(cy.comparator);function tk(){return ek}var nk=new Gg(cy.comparator);function rk(){return nk}var ik=new Xg(cy.comparator);function ak(){for(var e=ik,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var ok=new Xg(Um);function sk(){return ok}var uk=function(){function e(t,n,r,i,a){Jn(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Zn(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,ck.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(zm.min(),r,sk(),Zg(),ak())}}]),e}(),ck=function(){function e(t,n,r,i,a){Jn(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Zn(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e($m.EMPTY_BYTE_STRING,n,ak(),ak(),ak())}}]),e}(),lk=Zn((function e(t,n,r,i){Jn(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.O=i})),fk=Zn((function e(t,n){Jn(this,e),this.targetId=t,this.M=n})),hk=Zn((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$m.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Jn(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),dk=function(){function e(){Jn(this,e),this.F=0,this.L=mk(),this.B=$m.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return Zn(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.F}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=ak(),t=ak(),n=ak();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:xm()}})),new ck(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=mk()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.F+=1}},{key:"Z",value:function(){this.F-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),pk=function(){function e(t){Jn(this,e),this.et=t,this.nt=new Map,this.st=Zg(),this.it=vk(),this.rt=new Xg(Um)}return Zn(e,[{key:"ot",value:function(e){var t,n=er(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.O&&e.O.isFoundDocument()?this.ct(r,e.O):this.at(r,e.key,e.O)}}catch(s){n.e(s)}finally{n.f()}var i,a=er(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.at(o,e.key,e.O)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:xm()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.M.count,r=this.wt(t);if(r){var i=r.target;if(Py(i))if(0===n){var a=new cy(i.path);this.at(t,a,Ty.newNoDocument(a,zm.min()))}else _m(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Py(a.target)){var o=new cy(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.at(i,o,Ty.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=ak();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new uk(e,n,this.rt,this.st,r);return this.st=Zg(),this.it=vk(),this.rt=new Xg(Um),i}},{key:"ct",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new dk,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new Xg(Um),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||gm("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new dk),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.at(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function vk(){return new Gg(cy.comparator)}function mk(){return new Gg(cy.comparator)}var yk={asc:"ASCENDING",desc:"DESCENDING"},gk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kk=Zn((function e(t,n){Jn(this,e),this.databaseId=t,this.C=n}));function bk(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function wk(e,t){return e.C?t.toBase64():t.toUint8Array()}function xk(e,t){return bk(e,t.toTimestamp())}function _k(e){return _m(!!e),zm.fromTimestamp(function(e){var t=ey(e);return new Bm(t.seconds,t.nanos)}(e))}function Ek(e,t){return function(e){return new Qm(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ik(e){var t=Qm.fromString(e);return _m(Xk(t)),t}function Tk(e,t){return Ek(e.databaseId,t.path)}function Sk(e,t){var n=Ik(t);if(n.get(1)!==e.databaseId.projectId)throw new Tm(Im.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Tm(Im.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new cy(Pk(n))}function Ck(e,t){return Ek(e.databaseId,t)}function Nk(e){var t=Ik(e);return 4===t.length?Qm.emptyPath():Pk(t)}function Ak(e){return new Qm(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Pk(e){return _m(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Rk(e,t,n){return{name:Tk(e,t),fields:n.value.mapValue.fields}}function Ok(e,t,n){var r=Sk(e,t.name),i=_k(t.updateTime),a=new Ey({mapValue:{fields:t.fields}}),o=Ty.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Dk(e,t){return"found"in t?function(e,t){_m(!!t.found),t.found.name,t.found.updateTime;var n=Sk(e,t.found.name),r=_k(t.found.updateTime),i=new Ey({mapValue:{fields:t.found.fields}});return Ty.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){_m(!!t.missing),_m(!!t.readTime);var n=Sk(e,t.missing),r=_k(t.readTime);return Ty.newNoDocument(n,r)}(e,t):xm()}function Lk(e,t){var n;if(t instanceof Lg)n={update:Rk(e,t.key,t.value)};else if(t instanceof Bg)n={delete:Tk(e,t.key)};else if(t instanceof Mg)n={update:Rk(e,t.key,t.data),updateMask:Yk(t.fieldMask)};else{if(!(t instanceof zg))return xm();n={verify:Tk(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof yg)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof gg)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof bg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof xg)return{fieldPath:t.field.canonicalString(),increment:n.N};throw xm()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:xk(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:xm()}(e,t.precondition)),n}function Mk(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Sg.updateTime(_k(e.updateTime)):void 0!==e.exists?Sg.exists(e.exists):Sg.none()}(t.currentDocument):Sg.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)_m("REQUEST_TIME"===t.setToServerValue),n=new yg;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new gg(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new bg(i)}else"increment"in t?n=new xg(e,t.increment):xm();var a=Xm.fromServerFormat(t.fieldPath);return new Ig(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Sk(e,t.update.name),a=new Ey({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Jm(t.map((function(e){return Xm.fromServerFormat(e)})))}(t.updateMask);return new Mg(i,a,o,n,r)}return new Lg(i,a,n,r)}if(t.delete){var s=Sk(e,t.delete);return new Bg(s,n)}if(t.verify){var u=Sk(e,t.verify);return new zg(u,n)}return xm()}function jk(e,t){return{documents:[Ck(e,t.path)]}}function Fk(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Ck(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ck(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(wy(e.value))return{unaryFilter:{field:Wk(e.field),op:"IS_NAN"}};if(by(e.value))return{unaryFilter:{field:Wk(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(wy(e.value))return{unaryFilter:{field:Wk(e.field),op:"IS_NOT_NAN"}};if(by(e.value))return{unaryFilter:{field:Wk(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wk(e.field),op:Hk(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Wk(e.field),direction:zk(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||oy(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=qk(t.startAt)),t.endAt&&(n.structuredQuery.endAt=qk(t.endAt)),n}function Uk(e){var t=Nk(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_m(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Vk(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new zy(Kk(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return oy(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Bk(n.startAt));var l=null;return n.endAt&&(l=Bk(n.endAt)),Qy(t,i,s,o,u,"F",c,l)}function Vk(e){return e?void 0!==e.unaryFilter?[Qk(e)]:void 0!==e.fieldFilter?[Gk(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Vk(e)})).reduce((function(e,t){return e.concat(t)})):xm():[]}function qk(e){return{before:e.before,values:e.position}}function Bk(e){var t=!!e.before,n=e.values||[];return new qy(n,t)}function zk(e){return yk[e]}function Hk(e){return gk[e]}function Wk(e){return{fieldPath:e.canonicalString()}}function Kk(e){return Xm.fromServerFormat(e.fieldPath)}function Gk(e){return Ry.create(Kk(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xm()}}(e.fieldFilter.op),e.fieldFilter.value)}function Qk(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Kk(e.unaryFilter.field);return Ry.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Kk(e.unaryFilter.field);return Ry.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Kk(e.unaryFilter.field);return Ry.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Kk(e.unaryFilter.field);return Ry.create(i,"!=",{nullValue:"NULL_VALUE"});default:return xm()}}function Yk(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Xk(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Jk(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Zk(t)),t=$k(e.get(n),t);return Zk(t)}function $k(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Zk(e){return e+"\x01\x01"}function eb(e){var t=e.length;if(_m(t>=2),2===t)return _m("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Qm.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&xm(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:xm()}a=o+2}return new Qm(r)}var tb=Zn((function e(t,n){Jn(this,e),this.seconds=t,this.nanoseconds=n})),nb=Zn((function e(t,n,r){Jn(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));nb.store="owner",nb.key="owner";var rb=Zn((function e(t,n,r){Jn(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));rb.store="mutationQueues",rb.keyPath="userId";var ib=Zn((function e(t,n,r,i,a){Jn(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));ib.store="mutations",ib.keyPath="batchId",ib.userMutationsIndex="userMutationsIndex",ib.userMutationsKeyPath=["userId","batchId"];var ab=function(){function e(){Jn(this,e)}return Zn(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,Jk(t)]}},{key:"key",value:function(e,t,n){return[e,Jk(t),n]}}]),e}();ab.store="documentMutations",ab.PLACEHOLDER=new ab;var ob=Zn((function e(t,n){Jn(this,e),this.path=t,this.readTime=n})),sb=Zn((function e(t,n){Jn(this,e),this.path=t,this.version=n})),ub=Zn((function e(t,n,r,i,a,o){Jn(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));ub.store="remoteDocuments",ub.readTimeIndex="readTimeIndex",ub.readTimeIndexPath="readTime",ub.collectionReadTimeIndex="collectionReadTimeIndex",ub.collectionReadTimeIndexPath=["parentPath","readTime"];var cb=Zn((function e(t){Jn(this,e),this.byteSize=t}));cb.store="remoteDocumentGlobal",cb.key="remoteDocumentGlobalKey";var lb=Zn((function e(t,n,r,i,a,o,s){Jn(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=s}));lb.store="targets",lb.keyPath="targetId",lb.queryTargetsIndexName="queryTargetsIndex",lb.queryTargetsKeyPath=["canonicalId","targetId"];var fb=Zn((function e(t,n,r){Jn(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));fb.store="targetDocuments",fb.keyPath=["targetId","path"],fb.documentTargetsIndex="documentTargetsIndex",fb.documentTargetsKeyPath=["path","targetId"];var hb=Zn((function e(t,n,r,i){Jn(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));hb.key="targetGlobalKey",hb.store="targetGlobal";var db=Zn((function e(t,n){Jn(this,e),this.collectionId=t,this.parent=n}));db.store="collectionParents",db.keyPath=["collectionId","parent"];var pb=Zn((function e(t,n,r,i){Jn(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));pb.store="clientMetadata",pb.keyPath="clientId";var vb=Zn((function e(t,n,r){Jn(this,e),this.bundleId=t,this.createTime=n,this.version=r}));vb.store="bundles",vb.keyPath="bundleId";var mb=Zn((function e(t,n,r){Jn(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));mb.store="namedQueries",mb.keyPath="name";var yb=[rb.store,ib.store,ab.store,ub.store,lb.store,nb.store,hb.store,fb.store].concat([pb.store]).concat([cb.store]).concat([db.store]).concat([vb.store,mb.store]),gb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",kb=function(){function e(){Jn(this,e),this.onCommittedListeners=[]}return Zn(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),bb=function(){function e(t){var n=this;Jn(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Zn(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&xm(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=er(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),wb=function(){function e(t,n){var r=this;Jn(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.It=new Sm,this.transaction.oncomplete=function(){r.It.resolve()},this.transaction.onabort=function(){n.error?r.It.reject(new Eb(t,n.error)):r.It.resolve()},this.transaction.onerror=function(e){var n=Nb(e.target.error);r.It.reject(new Eb(t,n))}}return Zn(e,[{key:"At",get:function(){return this.It.promise}},{key:"abort",value:function(e){e&&this.It.reject(e),this.aborted||(gm("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Tb(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Eb(n,t)}}}]),e}(),xb=function(){function e(t,n,r){Jn(this,e),this.name=t,this.version=n,this.Rt=r,12.2===e.bt(yr())&&km("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Zn(e,[{key:"Ct",value:function(){var e=ae(se().mark((function e(t){var n=this;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return gm("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Eb(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Tm(Im.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Tm(Im.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Eb(t,n))},i.onupgradeneeded=function(e){gm("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Rt.Nt(t,i.transaction,e.oldVersion,n.version).next((function(){gm("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.kt&&(this.db.onversionchange=function(e){return n.kt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){this.kt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=ae(se().mark((function e(t,n,r,i){var a,o,s,u,c=this;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(se().mark((function e(){var n,o;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Ct(t);case 2:return c.db=e.sent,n=wb.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).catch((function(e){return n.abort(e),bb.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.At;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u="FirebaseError"!==e.t1.name&&o<3,gm("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",u),this.close(),u){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return gm("SimpleDb","Removing database:",e),Sb(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"Pt",value:function(){if(!_r())return!1;if(e.vt())return!0;var t=yr(),n=e.bt(t),r=0<n&&n<10,i=e.Vt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"vt",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/otw",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.St)}},{key:"Dt",value:function(e,t){return e.store(t)}},{key:"bt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),_b=function(){function e(t){Jn(this,e),this.$t=t,this.Ot=!1,this.Mt=null}return Zn(e,[{key:"isDone",get:function(){return this.Ot}},{key:"Ft",get:function(){return this.Mt}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ot=!0}},{key:"Lt",value:function(e){this.Mt=e}},{key:"delete",value:function(){return Sb(this.$t.delete())}}]),e}(),Eb=function(e){nr(n,e);var t=sr(n);function n(e,r){var i;return Jn(this,n),(i=t.call(this,Im.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Zn(n)}(Tm);function Ib(e){return"IndexedDbTransactionError"===e.name}var Tb=function(){function e(t){Jn(this,e),this.store=t}return Zn(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(gm("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(gm("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Sb(n)}},{key:"add",value:function(e){return gm("SimpleDb","ADD",this.store.name,e,e),Sb(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Sb(this.store.get(e)).next((function(n){return void 0===n&&(n=null),gm("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return gm("SimpleDb","DELETE",this.store.name,e),Sb(this.store.delete(e))}},{key:"count",value:function(){return gm("SimpleDb","COUNT",this.store.name),Sb(this.store.count())}},{key:"Bt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,(function(e,t){r.push(t)})).next((function(){return r}))}},{key:"qt",value:function(e,t){gm("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Kt=!1;var r=this.cursor(n);return this.Ut(r,(function(e,t,n){return n.delete()}))}},{key:"jt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Ut(r,t)}},{key:"Qt",value:function(e){var t=this.cursor({});return new bb((function(n,r){t.onerror=function(e){var t=Nb(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Ut",value:function(e,t){var n=[];return new bb((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new _b(i),o=t(i.primaryKey,i.value,a);if(o instanceof bb){var s=o.catch((function(e){return a.done(),bb.reject(e)}));n.push(s)}a.isDone?r():null===a.Ft?i.continue():i.continue(a.Ft)}else r()}})).next((function(){return bb.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Sb(e){return new bb((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Nb(e.target.error);n(t)}}))}var Cb=!1;function Nb(e){var t=xb.bt(yr());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Tm("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Cb||(Cb=!0,setTimeout((function(){throw r}),0)),r}}return e}var Ab=function(e){nr(n,e);var t=sr(n);function n(e,r){var i;return Jn(this,n),(i=t.call(this)).Wt=e,i.currentSequenceNumber=r,i}return Zn(n)}(kb);function Pb(e,t){var n=Em(e);return xb.Dt(n.Wt,t)}var Rb=function(){function e(t,n,r,i){Jn(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Zn(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Ag(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=er(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Pg(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=er(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Pg(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(zm.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),ak())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Vm(this.mutations,e.mutations,(function(e,t){return Og(e,t)}))&&Vm(this.baseMutations,e.baseMutations,(function(e,t){return Og(e,t)}))}}]),e}(),Ob=function(){function e(t,n,r,i){Jn(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Zn(e,null,[{key:"from",value:function(t,n,r){_m(t.mutations.length===r.length);for(var i=rk(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Db=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:zm.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:zm.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:$m.EMPTY_BYTE_STRING;Jn(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return Zn(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Lb=Zn((function e(t){Jn(this,e),this.Gt=t}));function Mb(e,t){if(t.document)return Ok(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=cy.fromSegments(t.noDocument.path),r=qb(t.noDocument.readTime),i=Ty.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=cy.fromSegments(t.unknownDocument.path),o=qb(t.unknownDocument.version);return Ty.newUnknownDocument(a,o)}return xm()}function jb(e,t,n){var r=Fb(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(e,t){return{name:Tk(e,t.key),fields:t.data.value.mapValue.fields,updateTime:bk(e,t.version.toTimestamp())}}(e.Gt,t),o=t.hasCommittedMutations;return new ub(null,null,a,o,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=Vb(t.version),c=t.hasCommittedMutations;return new ub(null,new ob(s,u),null,c,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=Vb(t.version);return new ub(new sb(l,f),null,null,!0,r,i)}return xm()}function Fb(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Ub(e){var t=new Bm(e[0],e[1]);return zm.fromTimestamp(t)}function Vb(e){var t=e.toTimestamp();return new tb(t.seconds,t.nanoseconds)}function qb(e){var t=new Bm(e.seconds,e.nanoseconds);return zm.fromTimestamp(t)}function Bb(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Mk(e.Gt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Mk(e.Gt,t)})),s=Bm.fromMillis(t.localWriteTimeMs);return new Rb(t.batchId,s,n,o)}function zb(e){var t,n,r=qb(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?qb(e.lastLimboFreeSnapshotVersion):zm.min();return void 0!==e.query.documents?(_m(1===(n=e.query).documents.length),t=ng(Yy(Nk(n.documents[0])))):t=function(e){return ng(Uk(e))}(e.query),new Db(t,e.targetId,0,e.lastListenSequenceNumber,r,i,$m.fromBase64String(e.resumeToken))}function Hb(e,t){var n,r=Vb(t.snapshotVersion),i=Vb(t.lastLimboFreeSnapshotVersion);n=Py(t.target)?jk(e.Gt,t.target):Fk(e.Gt,t.target);var a=t.resumeToken.toBase64();return new lb(t.targetId,Ny(t.target),r,a,t.sequenceNumber,i,n)}function Wb(e){var t=Uk({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?rg(t,t.limit,"L"):t}var Kb=function(){function e(){Jn(this,e)}return Zn(e,[{key:"getBundleMetadata",value:function(e,t){return Gb(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:qb(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Gb(e).put({bundleId:(n=t).id,createTime:Vb(_k(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Qb(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Wb(t.bundledQuery),readTime:qb(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Qb(e).put(function(e){return{name:e.name,readTime:Vb(_k(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Gb(e){return Pb(e,vb.store)}function Qb(e){return Pb(e,mb.store)}var Yb=function(){function e(){Jn(this,e),this.zt=new Xb}return Zn(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),bb.resolve()}},{key:"getCollectionParents",value:function(e,t){return bb.resolve(this.zt.getEntries(t))}}]),e}(),Xb=function(){function e(){Jn(this,e),this.index={}}return Zn(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Xg(Qm.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Xg(Qm.comparator)).toArray()}}]),e}(),Jb=function(){function e(){Jn(this,e),this.Ht=new Xb}return Zn(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ht.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ht.add(t)}));var a={collectionId:r,parent:Jk(i)};return $b(e).put(a)}return bb.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[qm(t),""],!1,!0);return $b(e).Bt(r).next((function(e){var r,i=er(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(eb(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}}]),e}();function $b(e){return Pb(e,db.store)}var Zb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ew=function(){function e(t,n,r){Jn(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Zn(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function tw(e,t,n){var r=e.store(ib.store),i=e.store(ab.store),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.jt({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){_m(1===s)})));var c,l=[],f=er(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=ab.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return bb.waitFor(a).next((function(){return l}))}function nw(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw xm();t=e.noDocument}return JSON.stringify(t).length}ew.DEFAULT_COLLECTION_PERCENTILE=10,ew.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ew.DEFAULT=new ew(41943040,ew.DEFAULT_COLLECTION_PERCENTILE,ew.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ew.DISABLED=new ew(-1,0,0);var rw=function(){function e(t,n,r,i){Jn(this,e),this.userId=t,this.k=n,this.Jt=r,this.referenceDelegate=i,this.Yt={}}return Zn(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return aw(e).jt({index:ib.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=ow(e),o=aw(e);return o.add({}).next((function(s){_m("number"==typeof s);var u,c=new Rb(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Lk(e.Gt,t)})),i=n.mutations.map((function(t){return Lk(e.Gt,t)}));return new ib(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.k,i.userId,c),f=[],h=new Xg((function(e,t){return Um(e.canonicalString(),t.canonicalString())})),d=er(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=ab.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,ab.PLACEHOLDER))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Yt[s]=c.keys()})),bb.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return aw(e).get(t).next((function(e){return e?(_m(e.userId===n.userId),Bb(n.k,e)):null}))}},{key:"Zt",value:function(e,t){var n=this;return this.Yt[t]?bb.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Yt[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return aw(e).jt({index:ib.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(_m(t.batchId>=r),a=Bb(n.k,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return aw(e).jt({index:ib.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return aw(e).Bt(ib.userMutationsIndex,n).next((function(e){return e.map((function(e){return Bb(t.k,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=ab.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return ow(e).jt({range:i},(function(r,i,o){var s=u(r,3),c=s[0],l=s[1],f=s[2],h=eb(l);if(c===n.userId&&t.path.isEqual(h))return aw(e).get(f).next((function(e){if(!e)throw xm();_m(e.userId===n.userId),a.push(Bb(n.k,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Xg(Um),i=[];return t.forEach((function(t){var a=ab.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=ow(e).jt({range:o},(function(e,i,a){var o=u(e,3),s=o[0],c=o[1],l=o[2],f=eb(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(s)})),bb.waitFor(i).next((function(){return n.te(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=ab.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Xg(Um);return ow(e).jt({range:o},(function(e,t,a){var o=u(e,3),c=o[0],l=o[1],f=o[2],h=eb(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.te(e,s)}))}},{key:"te",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(aw(e).get(t).next((function(e){if(null===e)throw xm();_m(e.userId===n.userId),r.push(Bb(n.k,e))})))})),bb.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return tw(e.Wt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.ee(t.batchId)})),bb.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"ee",value:function(e){delete this.Yt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return bb.resolve();var r=IDBKeyRange.lowerBound(ab.prefixForUser(t.userId)),i=[];return ow(e).jt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=eb(e[1]);i.push(a)}else r.done()})).next((function(){_m(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return iw(e,this.userId,t)}},{key:"ne",value:function(e){var t=this;return sw(e).get(this.userId).next((function(e){return e||new rb(t.userId,-1,"")}))}}],[{key:"Xt",value:function(t,n,r,i){return _m(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function iw(e,t,n){var r=ab.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return ow(e).jt({range:a,Kt:!0},(function(e,n,r){var a=u(e,3),s=a[0],c=a[1];a[2];s===t&&c===i&&(o=!0),r.done()})).next((function(){return o}))}function aw(e){return Pb(e,ib.store)}function ow(e){return Pb(e,ab.store)}function sw(e){return Pb(e,rb.store)}var uw=function(){function e(t){Jn(this,e),this.se=t}return Zn(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}(),cw=function(){function e(t,n){Jn(this,e),this.referenceDelegate=t,this.k=n}return Zn(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.oe(e).next((function(n){var r=new uw(n.highestTargetId);return n.highestTargetId=r.next(),t.ce(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.oe(e).next((function(e){return zm.fromTimestamp(new Bm(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.oe(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.oe(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ce(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.ae(e,t).next((function(){return n.oe(e).next((function(r){return r.targetCount+=1,n.ue(t,r),n.ce(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.ae(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return lw(e).delete(t.targetId)})).next((function(){return n.oe(e)})).next((function(t){return _m(t.targetCount>0),t.targetCount-=1,n.ce(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return lw(e).jt((function(o,s){var u=zb(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return bb.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return lw(e).jt((function(e,n){var r=zb(n);t(r)}))}},{key:"oe",value:function(e){return fw(e).get(hb.key).next((function(e){return _m(null!==e),e}))}},{key:"ce",value:function(e,t){return fw(e).put(hb.key,t)}},{key:"ae",value:function(e,t){return lw(e).put(Hb(this.k,t))}},{key:"ue",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.oe(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Ny(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return lw(e).jt({range:r,index:lb.queryTargetsIndexName},(function(e,n,r){var a=zb(n);Ay(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=hw(e);return t.forEach((function(t){var o=Jk(t.path);i.push(a.put(new fb(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),bb.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=hw(e);return bb.forEach(t,(function(t){var a=Jk(t.path);return bb.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=hw(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=hw(e),i=ak();return r.jt({range:n,Kt:!0},(function(e,t,n){var r=eb(e[1]),a=new cy(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Jk(t.path),r=IDBKeyRange.bound([n],[qm(n)],!1,!0),i=0;return hw(e).jt({index:fb.documentTargetsIndex,Kt:!0,range:r},(function(e,t,n){var r=u(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return lw(e).get(t).next((function(e){return e?zb(e):null}))}}]),e}();function lw(e){return Pb(e,lb.store)}function fw(e){return Pb(e,hb.store)}function hw(e){return Pb(e,fb.store)}function dw(e){return pw.apply(this,arguments)}function pw(){return pw=ae(se().mark((function e(t){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Im.FAILED_PRECONDITION&&t.message===gb){e.next=2;break}throw t;case 2:gm("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),pw.apply(this,arguments)}function vw(e,t){var n=u(e,2),r=n[0],i=n[1],a=u(t,2),o=a[0],s=a[1],c=Um(r,o);return 0===c?Um(i,s):c}var mw=function(){function e(t){Jn(this,e),this.he=t,this.buffer=new Xg(vw),this.le=0}return Zn(e,[{key:"fe",value:function(){return++this.le}},{key:"de",value:function(e){var t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();vw(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),yw=function(){function e(t,n){Jn(this,e),this.garbageCollector=t,this.asyncQueue=n,this.we=!1,this._e=null}return Zn(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}},{key:"stop",value:function(){this._e&&(this._e.cancel(),this._e=null)}},{key:"started",get:function(){return null!==this._e}},{key:"me",value:function(e){var t=this,n=this.we?3e5:6e4;gm("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,ae(se().mark((function n(){return se().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t._e=null,t.we=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!Ib(n.t0)){n.next=12;break}gm("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,dw(n.t0);case 14:return n.next=16,t.me(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),gw=function(){function e(t,n){Jn(this,e),this.ge=t,this.params=n}return Zn(e,[{key:"calculateTargetCount",value:function(e,t){return this.ge.ye(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return bb.resolve(Mm.I);var r=new mw(t);return this.ge.forEachTarget(e,(function(e){return r.de(e.sequenceNumber)})).next((function(){return n.ge.pe(e,(function(e){return r.de(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.ge.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.ge.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(gm("LruGarbageCollector","Garbage collection skipped; disabled"),bb.resolve(Zb)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(gm("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Zb):n.Te(e,t)}))}},{key:"getCacheSize",value:function(e){return this.ge.getCacheSize(e)}},{key:"Te",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(gm("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),ym()<=Gr.DEBUG&&gm("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),bb.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),kw=function(){function e(t,n){Jn(this,e),this.db=t,this.garbageCollector=function(e,t){return new gw(e,t)}(this,n)}return Zn(e,[{key:"ye",value:function(e){var t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Ee",value:function(e){var t=0;return this.pe(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"pe",value:function(e,t){return this.Ie(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return bw(e,n)}},{key:"removeReference",value:function(e,t,n){return bw(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return bw(e,t)}},{key:"Ae",value:function(e,t){return function(e,t){var n=!1;return sw(e).Qt((function(r){return iw(e,r,t).next((function(e){return e&&(n=!0),bb.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ie(e,(function(o,s){if(s<=t){var u=n.Ae(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o),hw(e).delete([0,Jk(o.path)])}))}));i.push(u)}})).next((function(){return bb.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return bw(e,t)}},{key:"Ie",value:function(e,t){var n,r=hw(e),i=Mm.I;return r.jt({index:fb.documentTargetsIndex},(function(e,r){var a=u(e,2),o=a[0],s=(a[1],r.path),c=r.sequenceNumber;0===o?(i!==Mm.I&&t(new cy(eb(n)),i),i=c,n=s):i=Mm.I})).next((function(){i!==Mm.I&&t(new cy(eb(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function bw(e,t){return hw(e).put(function(e,t){return new fb(0,Jk(e.path),t)}(t,e.currentSequenceNumber))}var ww=function(){function e(t,n){Jn(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return Zn(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=er(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){Wm(this.inner,(function(t,n){var r,i=er(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Km(this.inner)}}]),e}(),xw=function(){function e(){Jn(this,e),this.changes=new ww((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Zn(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:zm.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:Ty.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?bb.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),_w=function(){function e(t,n){Jn(this,e),this.k=t,this.Jt=n}return Zn(e,[{key:"addEntry",value:function(e,t,n){return Tw(e).put(Sw(t),n)}},{key:"removeEntry",value:function(e,t){var n=Tw(e),r=Sw(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Re(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return Tw(e).get(Sw(t)).next((function(e){return n.be(t,e)}))}},{key:"Pe",value:function(e,t){var n=this;return Tw(e).get(Sw(t)).next((function(e){return{document:n.be(t,e),size:nw(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=Zg();return this.ve(e,t,(function(e,t){var i=n.be(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ve",value:function(e,t){var n=this,r=Zg(),i=new Gg(cy.comparator);return this.ve(e,t,(function(e,t){var a=n.be(e,t);r=r.insert(e,a),i=i.insert(e,nw(t))})).next((function(){return{documents:r,Se:i}}))}},{key:"ve",value:function(e,t,n){if(t.isEmpty())return bb.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return Tw(e).jt({range:r},(function(e,t,r){for(var o=cy.fromSegments(e);a&&cy.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Lt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=Zg(),a=t.path.length+1,o={};if(n.isEqual(zm.min())){var s=t.path.toArray();o.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=Fb(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=ub.collectionReadTimeIndex}return Tw(e).jt(o,(function(e,n,o){if(e.length===a){var s=Mb(r.k,n);t.path.isPrefixOf(s.key.path)?sg(t,s)&&(i=i.insert(s.key,s)):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new Ew(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Iw(e).get(cb.key).next((function(e){return _m(!!e),e}))}},{key:"Re",value:function(e,t){return Iw(e).put(cb.key,t)}},{key:"be",value:function(e,t){if(t){var n=Mb(this.k,t);if(!n.isNoDocument()||!n.version.isEqual(zm.min()))return n}return Ty.newInvalidDocument(e)}}]),e}(),Ew=function(e){nr(n,e);var t=sr(n);function n(e,r){var i;return Jn(this,n),(i=t.call(this)).De=e,i.trackRemovals=r,i.Ce=new ww((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Zn(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Xg((function(e,t){return Um(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Ce.get(a);if(o.document.isValidDocument()){var u=jb(t.De.k,o.document,t.getReadTime(a));i=i.add(a.path.popLast());var c=nw(u);r+=c-s,n.push(t.De.addEntry(e,a,u))}else if(r-=s,t.trackRemovals){var l=jb(t.De.k,Ty.newNoDocument(a,zm.min()),t.getReadTime(a));n.push(t.De.addEntry(e,a,l))}else n.push(t.De.removeEntry(e,a))})),i.forEach((function(r){n.push(t.De.Jt.addToCollectionParentIndex(e,r))})),n.push(this.De.updateMetadata(e,r)),bb.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.De.Pe(e,t).next((function(e){return n.Ce.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.De.Ve(e,t).next((function(e){var t=e.documents;return e.Se.forEach((function(e,t){n.Ce.set(e,t)})),t}))}}]),n}(xw);function Iw(e){return Pb(e,cb.store)}function Tw(e){return Pb(e,ub.store)}function Sw(e){return e.path.toArray()}var Cw=function(){function e(t){Jn(this,e),this.k=t}return Zn(e,[{key:"Nt",value:function(e,t,n,r){var i=this;_m(n<r&&n>=0&&r<=11);var a=new wb("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(nb.store)}(e),function(e){e.createObjectStore(rb.store,{keyPath:rb.keyPath}),e.createObjectStore(ib.store,{keyPath:ib.keyPath,autoIncrement:!0}).createIndex(ib.userMutationsIndex,ib.userMutationsKeyPath,{unique:!0}),e.createObjectStore(ab.store)}(e),Nw(e),function(e){e.createObjectStore(ub.store)}(e));var o=bb.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(fb.store),e.deleteObjectStore(lb.store),e.deleteObjectStore(hb.store)}(e),Nw(e)),o=o.next((function(){return function(e){var t=e.store(hb.store),n=new hb(0,0,zm.min().toTimestamp(),0);return t.put(hb.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(ib.store).Bt().next((function(n){e.deleteObjectStore(ib.store),e.createObjectStore(ib.store,{keyPath:ib.keyPath,autoIncrement:!0}).createIndex(ib.userMutationsIndex,ib.userMutationsKeyPath,{unique:!0});var r=t.store(ib.store),i=n.map((function(e){return r.put(e)}));return bb.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(pb.store,{keyPath:pb.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ne(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(cb.store)}(e),i.ke(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.xe(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.$e(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(ub.store);t.createIndex(ub.readTimeIndex,ub.readTimeIndexPath,{unique:!1}),t.createIndex(ub.collectionReadTimeIndex,ub.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Oe(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(vb.store,{keyPath:vb.keyPath})}(e),function(e){e.createObjectStore(mb.store,{keyPath:mb.keyPath})}(e)}))),o}},{key:"ke",value:function(e){var t=0;return e.store(ub.store).jt((function(e,n){t+=nw(n)})).next((function(){var n=new cb(t);return e.store(cb.store).put(cb.key,n)}))}},{key:"Ne",value:function(e){var t=this,n=e.store(rb.store),r=e.store(ib.store);return n.Bt().next((function(n){return bb.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Bt(ib.userMutationsIndex,i).next((function(r){return bb.forEach(r,(function(r){_m(r.userId===n.userId);var i=Bb(t.k,r);return tw(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"xe",value:function(e){var t=e.store(fb.store),n=e.store(ub.store);return e.store(hb.store).get(hb.key).next((function(e){var r=[];return n.jt((function(n,i){var a=new Qm(n),o=function(e){return[0,Jk(e)]}(a);r.push(t.get(o).next((function(n){return n?bb.resolve():function(n){return t.put(new fb(0,Jk(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return bb.waitFor(r)}))}))}},{key:"$e",value:function(e,t){e.createObjectStore(db.store,{keyPath:db.keyPath});var n=t.store(db.store),r=new Xb,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Jk(i)})}};return t.store(ub.store).jt({Kt:!0},(function(e,t){var n=new Qm(e);return i(n.popLast())})).next((function(){return t.store(ab.store).jt({Kt:!0},(function(e,t){var n=u(e,3),r=(n[0],n[1]),a=(n[2],eb(r));return i(a.popLast())}))}))}},{key:"Oe",value:function(e){var t=this,n=e.store(lb.store);return n.jt((function(e,r){var i=zb(r),a=Hb(t.k,i);return n.put(a)}))}}]),e}();function Nw(e){e.createObjectStore(fb.store,{keyPath:fb.keyPath}).createIndex(fb.documentTargetsIndex,fb.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(lb.store,{keyPath:lb.keyPath}).createIndex(lb.queryTargetsIndexName,lb.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(hb.store)}var Aw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Pw=function(){function e(t,n,r,i,a,o,s,u,c,l){if(Jn(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Me=a,this.window=o,this.document=s,this.Fe=c,this.Le=l,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=function(e){return Promise.resolve()},!e.Pt())throw new Tm(Im.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new kw(this,i),this.Ge=n+"main",this.k=new Lb(u),this.ze=new xb(this.Ge,11,new Cw(this.k)),this.He=new cw(this.referenceDelegate,this.k),this.Jt=new Jb,this.Je=function(e,t){return new _w(e,t)}(this.k,this.Jt),this.Ye=new Kb,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===l&&km("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Zn(e,[{key:"start",value:function(){var e=this;return this.Ze().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Tm(Im.FAILED_PRECONDITION,Aw);return e.tn(),e.en(),e.nn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.He.getHighestSequenceNumber(t)}))})).then((function(t){e.Be=new Mm(t,e.Fe)})).then((function(){e.Ue=!0})).catch((function(t){return e.ze&&e.ze.close(),Promise.reject(t)}))}},{key:"sn",value:function(e){var t=this;return this.We=function(){var n=ae(se().mark((function n(r){return se().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ze.xt(function(){var t=ae(se().mark((function t(n){return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget(ae(se().mark((function e(){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ze();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ze",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Ow(t).put(new pb(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.rn(t).next((function(t){t||(e.isPrimary=!1,e.Me.enqueueRetryable((function(){return e.We(!1)})))}))})).next((function(){return e.on(t)})).next((function(n){return e.isPrimary&&!n?e.cn(t).next((function(){return!1})):!!n&&e.an(t).next((function(){return!0}))}))})).catch((function(t){if(Ib(t))return gm("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return gm("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Me.enqueueRetryable((function(){return e.We(t)})),e.isPrimary=t}))}},{key:"rn",value:function(e){var t=this;return Rw(e).get(nb.key).next((function(e){return bb.resolve(t.un(e))}))}},{key:"hn",value:function(e){return Ow(e).delete(this.clientId)}},{key:"ln",value:function(){var e=ae(se().mark((function e(){var t,n,r,i,a=this;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.fn(this.Qe,18e5)){e.next=6;break}return this.Qe=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Pb(e,pb.store);return t.Bt().next((function(e){var n=a.dn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return bb.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Xe){n=er(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Xe.removeItem(this.wn(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nn",value:function(){var e=this;this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ze().then((function(){return e.ln()})).then((function(){return e.nn()}))}))}},{key:"un",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"on",value:function(e){var t=this;return this.Le?bb.resolve(!0):Rw(e).get(nb.key).next((function(n){if(null!==n&&t.fn(n.leaseTimestampMs,5e3)&&!t._n(n.ownerId)){if(t.un(n)&&t.networkEnabled)return!0;if(!t.un(n)){if(!n.allowTabSynchronization)throw new Tm(Im.FAILED_PRECONDITION,Aw);return!1}}return!(!t.networkEnabled||!t.inForeground)||Ow(e).Bt().next((function(e){return void 0===t.dn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&gm("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=ae(se().mark((function e(){var t=this;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),e.next=7,this.ze.runTransaction("shutdown","readwrite",[nb.store,pb.store],(function(e){var n=new Ab(e,Mm.I);return t.cn(n).next((function(){return t.hn(n)}))}));case 7:this.ze.close(),this.pn();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dn",value:function(e,t){var n=this;return e.filter((function(e){return n.fn(e.updateTimeMs,t)&&!n._n(e.clientId)}))}},{key:"Tn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Ow(t).Bt().next((function(t){return e.dn(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ue}},{key:"getMutationQueue",value:function(e){return rw.Xt(e,this.k,this.Jt,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;gm("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite";return this.ze.runTransaction(e,a,yb,(function(a){return i=new Ab(a,r.Be?r.Be.next():Mm.I),"readwrite-primary"===t?r.rn(i).next((function(e){return!!e||r.on(i)})).next((function(t){if(!t)throw km("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Me.enqueueRetryable((function(){return r.We(!1)})),new Tm(Im.FAILED_PRECONDITION,gb);return n(i)})).next((function(e){return r.an(i).next((function(){return e}))})):r.En(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"En",value:function(e){var t=this;return Rw(e).get(nb.key).next((function(e){if(null!==e&&t.fn(e.leaseTimestampMs,5e3)&&!t._n(e.ownerId)&&!t.un(e)&&!(t.Le||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Tm(Im.FAILED_PRECONDITION,Aw)}))}},{key:"an",value:function(e){var t=new nb(this.clientId,this.allowTabSynchronization,Date.now());return Rw(e).put(nb.key,t)}},{key:"cn",value:function(e){var t=this,n=Rw(e);return n.get(nb.key).next((function(e){return t.un(e)?(gm("IndexedDbPersistence","Releasing primary lease."),n.delete(nb.key)):bb.resolve()}))}},{key:"fn",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(km("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"tn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=function(){e.Me.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ze()}))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}},{key:"gn",value:function(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}},{key:"en",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=function(){t.mn(),!kr()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Me.enterRestrictedMode(!0),t.Me.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.qe))}},{key:"yn",value:function(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}},{key:"_n",value:function(e){var t;try{var n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return gm("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return km("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"mn",value:function(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(ph){km("Failed to set zombie client id.",ph)}}},{key:"pn",value:function(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(ph){}}},{key:"wn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"Pt",value:function(){return xb.Pt()}}]),e}();function Rw(e){return Pb(e,nb.store)}function Ow(e){return Pb(e,pb.store)}function Dw(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Lw=Zn((function e(t,n){Jn(this,e),this.progress=t,this.In=n})),Mw=function(){function e(t,n,r){Jn(this,e),this.Je=t,this.An=n,this.Jt=r}return Zn(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.bn(e,t,r)}))}},{key:"bn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=er(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Pn",value:function(e,t){e.forEach((function(e,n){var r,i=er(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Pn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return cy.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):eg(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new cy(t)).next((function(e){var t=tk();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=tk();return this.Jt.getCollectionParents(e,i).next((function(o){return bb.forEach(o,(function(o){var s=function(e,t){return new Gy(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=er(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,s=er(o.mutations);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=u.key,l=r.get(c);null==l&&(l=Ty.newInvalidDocument(c),r=r.insert(c,l)),Pg(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(f){s.e(f)}finally{s.f()}}}catch(f){n.e(f)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){sg(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=ak(),a=er(t);try{for(a.s();!(r=a.n()).done;){var o,s=er(r.value.mutations);try{for(s.s();!(o=s.n()).done;){var u=o.value;u instanceof Mg&&null===n.get(u.key)&&(i=i.add(u.key))}}catch(l){s.e(l)}finally{s.f()}}}catch(l){a.e(l)}finally{a.f()}var c=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))}}]),e}(),jw=function(){function e(t,n,r,i){Jn(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return Zn(e,null,[{key:"$n",value:function(t,n){var r,i=ak(),a=ak(),o=er(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Fw=function(){function e(){Jn(this,e)}return Zn(e,[{key:"On",value:function(e){this.Mn=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(zm.min())?this.Fn(e,t):this.Mn.vn(e,r).next((function(a){var o=i.Ln(t,a);return(Xy(t)||Jy(t))&&i.Bn(t.limitType,o,r,n)?i.Fn(e,t):(ym()<=Gr.DEBUG&&gm("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),og(t)),i.Mn.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new Xg(ug(e));return t.forEach((function(t,r){sg(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Fn",value:function(e,t){return ym()<=Gr.DEBUG&&gm("QueryEngine","Using full collection scan to execute query:",og(t)),this.Mn.getDocumentsMatchingQuery(e,t,zm.min())}}]),e}(),Uw=function(){function e(t,n,r,i){Jn(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new Gg(Um),this.Kn=new ww((function(e){return Ny(e)}),Ay),this.jn=zm.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new Mw(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.On(this.Wn)}return Zn(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function Vw(e,t,n,r){return new Uw(e,t,n,r)}function qw(e,t){return Bw.apply(this,arguments)}function Bw(){return Bw=ae(se().mark((function e(t,n){var r,i,a,o;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Em(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new Mw(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],s=ak(),u=er(t);try{for(u.s();!(r=u.n()).done;){var c=r.value;i.push(c.batchId);var l,f=er(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=er(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=er(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return a.vn(e,s).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.On(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),Bw.apply(this,arguments)}function zw(e,t){var n=Em(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=bb.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);_m(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function Hw(e){var t=Em(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function Ww(e,t){var n=Em(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.He.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.He.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken($m.EMPTY_BYTE_STRING,zm.min()).withLastLimboFreeSnapshotVersion(zm.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.He.updateTargetData(e,c))}}));var s=Zg();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Kw(e,a,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(zm.min())){var u=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return bb.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,s)})).next((function(){return s}))})).then((function(e){return n.qn=i,e}))}function Kw(e,t,n,r,i){var a=ak();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=Zg();return n.forEach((function(n,o){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(zm.min())?(t.removeEntry(n,u),a=a.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o,u),a=a.insert(n,o)):gm("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),a}))}function Gw(e,t){var n=Em(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}function Qw(e,t){var n=Em(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,bb.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new Db(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function Yw(e,t,n){return Xw.apply(this,arguments)}function Xw(){return Xw=ae(se().mark((function e(t,n,r){var i,a,o;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Em(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Ib(e.t1)){e.next=12;break}throw e.t1;case 12:gm("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Xw.apply(this,arguments)}function Jw(e,t,n){var r=Em(e),i=zm.min(),a=ak();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Em(e),i=r.Kn.get(n);return void 0!==i?bb.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,ng(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:zm.min(),n?a:ak())})).next((function(e){return{documents:e,zn:a}}))}))}function $w(e,t){var n=Em(e),r=Em(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function Zw(e){var t=Em(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Em(e),i=Zg(),a=Fb(n),o=Tw(t),s=IDBKeyRange.lowerBound(a,!0);return o.jt({index:ub.readTimeIndex,range:s},(function(e,t){var n=Mb(r.k,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{In:i,readTime:Ub(a)}}))}(t.Qn,e,t.jn)})).then((function(e){var n=e.In,r=e.readTime;return t.jn=r,n}))}function ex(e){return tx.apply(this,arguments)}function tx(){return tx=ae(se().mark((function e(t){var n;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Em(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Tw(e),n=zm.min();return t.jt({index:ub.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Ub(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.jn=e})));case 2:case"end":return e.stop()}}),e)}))),tx.apply(this,arguments)}function nx(e,t,n,r){return rx.apply(this,arguments)}function rx(){return rx=ae(se().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Em(t),o=ak(),s=Zg(),u=rk(),c=er(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.Hn(f.metadata.name),f.document&&(o=o.add(h)),s=s.insert(h,n.Jn(f)),u=u.insert(h,n.Yn(f.metadata.readTime))}catch(v){c.e(v)}finally{c.f()}return d=a.Qn.newChangeBuffer({trackRemovals:!0}),e.next=7,Qw(a,function(e){return ng(Yy(Qm.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Kw(e,d,s,zm.min(),u).next((function(t){return d.apply(e),t})).next((function(t){return a.He.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.He.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Wn.Vn(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),rx.apply(this,arguments)}function ix(e,t){return ax.apply(this,arguments)}function ax(){return ax=ae(se().mark((function e(t,n){var r,i,a,o=arguments;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:ak(),e.next=3,Qw(t,ng(Wb(n.bundledQuery)));case 3:return i=e.sent,a=Em(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=_k(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ye.saveNamedQuery(e,n);var o=i.withResumeToken($m.EMPTY_BYTE_STRING,t);return a.qn=a.qn.insert(o.targetId,o),a.He.updateTargetData(e,o).next((function(){return a.He.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.He.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ye.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),ax.apply(this,arguments)}var ox=function(){function e(t){Jn(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return Zn(e,[{key:"getBundleMetadata",value:function(e,t){return bb.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:_k(n.createTime)}),bb.resolve()}},{key:"getNamedQuery",value:function(e,t){return bb.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:Wb(e.bundledQuery),readTime:_k(e.readTime)}}(t)),bb.resolve()}}]),e}(),sx=function(){function e(){Jn(this,e),this.ts=new Xg(ux.es),this.ns=new Xg(ux.ss)}return Zn(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new ux(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new ux(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new cy(new Qm([])),r=new ux(n,e),i=new ux(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new cy(new Qm([])),n=new ux(t,e),r=new ux(t,e+1),i=ak();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new ux(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),ux=function(){function e(t,n){Jn(this,e),this.key=t,this.fs=n}return Zn(e,null,[{key:"es",value:function(e,t){return cy.comparator(e.key,t.key)||Um(e.fs,t.fs)}},{key:"ss",value:function(e,t){return Um(e.fs,t.fs)||cy.comparator(e.key,t.key)}}]),e}(),cx=function(){function e(t,n){Jn(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new Xg(ux.es)}return Zn(e,[{key:"checkEmpty",value:function(e){return bb.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new Rb(i,t,n,r);this.An.push(a);var o,s=er(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ws=this.ws.add(new ux(u.key,i)),this.Jt.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return bb.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return bb.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return bb.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return bb.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return bb.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new ux(t,0),i=new ux(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),bb.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Xg(Um);return t.forEach((function(e){var t=new ux(e,0),i=new ux(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),bb.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;cy.isDocumentKey(i)||(i=i.child(""));var a=new ux(new cy(i),0),o=new Xg(Um);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),bb.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;_m(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return bb.forEach(t.mutations,(function(i){var a=new ux(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new ux(t,0),r=this.ws.firstAfterOrEqual(n);return bb.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,bb.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),lx=function(){function e(t,n){Jn(this,e),this.Jt=t,this.Ts=n,this.docs=new Gg(cy.comparator),this.size=0}return Zn(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return bb.resolve(n?n.document.mutableCopy():Ty.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Zg();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Ty.newInvalidDocument(e))})),bb.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=Zg(),i=new cy(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||sg(t,c)&&(r=r.insert(c.key,c.mutableCopy()))}return bb.resolve(r)}},{key:"Es",value:function(e,t){return bb.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new fx(this)}},{key:"getSize",value:function(e){return bb.resolve(this.size)}}]),e}(),fx=function(e){nr(n,e);var t=sr(n);function n(e){var r;return Jn(this,n),(r=t.call(this)).De=e,r}return Zn(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),bb.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(xw),hx=function(){function e(t){Jn(this,e),this.persistence=t,this.Is=new ww((function(e){return Ny(e)}),Ay),this.lastRemoteSnapshotVersion=zm.min(),this.highestTargetId=0,this.As=0,this.Rs=new sx,this.targetCount=0,this.bs=uw.ie()}return Zn(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),bb.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return bb.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return bb.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.bs.next(),bb.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),bb.resolve()}},{key:"ae",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new uw(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ae(t),this.targetCount+=1,bb.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ae(t),bb.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,bb.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),bb.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return bb.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return bb.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),bb.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),bb.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),bb.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return bb.resolve(n)}},{key:"containsKey",value:function(e,t){return bb.resolve(this.Rs.containsKey(t))}}]),e}(),dx=function(){function e(t,n){var r=this;Jn(this,e),this.Ps={},this.Be=new Mm(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new hx(this),this.Jt=new Yb,this.Je=function(e,t){return new lx(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new Lb(n),this.Ye=new ox(this.k)}return Zn(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.Ps[e.toKey()];return t||(t=new cx(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;gm("MemoryPersistence","Starting transaction:",e);var i=new px(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return bb.or(Object.values(this.Ps).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),px=function(e){nr(n,e);var t=sr(n);function n(e){var r;return Jn(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Zn(n)}(kb),vx=function(){function e(t){Jn(this,e),this.persistence=t,this.Cs=new sx,this.Ns=null}return Zn(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw xm()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),bb.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),bb.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),bb.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return bb.forEach(this.xs,(function(r){var i=cy.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return bb.or([function(){return bb.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();function mx(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function yx(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function gx(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var kx=function(){function e(t,n,r,i){Jn(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Zn(e,[{key:"Ms",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Os",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Tm(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(km("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),bx=function(){function e(t,n,r){Jn(this,e),this.targetId=t,this.state=n,this.error=r}return Zn(e,[{key:"Ms",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Os",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Tm(i.error.code,i.error.message))),a?new e(t,i.state,r):(km("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),wx=function(){function e(t,n){Jn(this,e),this.clientId=t,this.activeTargetIds=n}return Zn(e,null,[{key:"Os",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=sk(),o=0;i&&o<r.activeTargetIds.length;++o)i=uy(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(km("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),xx=function(){function e(t,n){Jn(this,e),this.clientId=t,this.onlineState=n}return Zn(e,null,[{key:"Os",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(km("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),_x=function(){function e(){Jn(this,e),this.activeTargetIds=sk()}return Zn(e,[{key:"Fs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Ms",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Ex=function(){function e(t,n,r,i,a){Jn(this,e),this.window=t,this.Me=n,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Gg(Um),this.started=!1,this.js=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Qs=mx(this.persistenceKey,this.Bs),this.Ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new _x),this.Gs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.zs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Hs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Js=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ys=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}return Zn(e,[{key:"start",value:function(){var e=ae(se().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Tn();case 2:t=e.sent,n=er(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Bs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(mx(this.persistenceKey,i)))&&(o=wx.Os(i,a))&&(this.Ks=this.Ks.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Xs(),(s=this.storage.getItem(this.Js))&&(u=this.Zs(s))&&this.ti(u),c=er(this.js);try{for(c.s();!(l=c.n()).done;)f=l.value,this.qs(f)}catch(d){c.e(d)}finally{c.f()}this.js=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ei(this.Ks)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.ni(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ni(e,t,n),this.si(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(gx(this.persistenceKey,e));if(n){var r=bx.Os(e,n);r&&(t=r.state)}}return this.ii.Fs(e),this.Xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ii.Ls(e),this.Xs()}},{key:"isLocalQueryTarget",value:function(e){return this.ii.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(gx(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ri(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.si(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.oi(e)}},{key:"notifyBundleLoaded",value:function(){this.ci()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return gm("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){gm("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){gm("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"qs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(gm("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void km("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable(ae(se().mark((function e(){var r,i,a,o,s,u;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Gs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ai(n.key),e.abrupt("return",t.ui(r,null));case 6:if(!(i=t.hi(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ui(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.zs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.li(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.fi(a));case 16:e.next=39;break;case 18:if(!t.Hs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.di(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.wi(o));case 23:e.next=39;break;case 25:if(n.key!==t.Js){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Zs(n.newValue))){e.next=30;break}return e.abrupt("return",t.ti(s));case 30:e.next=39;break;case 32:if(n.key!==t.Ws){e.next=37;break}u=function(e){var t=Mm.I;if(null!=e)try{var n=JSON.parse(e);_m("number"==typeof n),t=n}catch(e){km("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==Mm.I&&t.sequenceNumberHandler(u),e.next=39;break;case 37:if(n.key!==t.Ys){e.next=39;break}return e.abrupt("return",t.syncEngine._i());case 39:e.next=42;break;case 41:t.js.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"ii",get:function(){return this.Ks.get(this.Bs)}},{key:"Xs",value:function(){this.setItem(this.Qs,this.ii.Ms())}},{key:"ni",value:function(e,t,n){var r=new kx(this.currentUser,e,t,n),i=yx(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ms())}},{key:"si",value:function(e){var t=yx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"oi",value:function(e){var t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}},{key:"ri",value:function(e,t,n){var r=gx(this.persistenceKey,e),i=new bx(e,t,n);this.setItem(r,i.Ms())}},{key:"ci",value:function(){this.setItem(this.Ys,"value-not-used")}},{key:"ai",value:function(e){var t=this.Gs.exec(e);return t?t[1]:null}},{key:"hi",value:function(e,t){var n=this.ai(e);return wx.Os(n,t)}},{key:"li",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return kx.Os(new pm(i),r,t)}},{key:"di",value:function(e,t){var n=this.Hs.exec(e),r=Number(n[1]);return bx.Os(r,t)}},{key:"Zs",value:function(e){return xx.Os(e)}},{key:"fi",value:function(){var e=ae(se().mark((function e(t){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.mi(t.batchId,t.state,t.error));case 2:gm("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wi",value:function(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}},{key:"ui",value:function(e,t){var n=this,r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),a=this.ei(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.yi(o,s).then((function(){n.Ks=r}))}},{key:"ti",value:function(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ei",value:function(e){var t=sk();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"Pt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Ix=function(){function e(){Jn(this,e),this.pi=new _x,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Zn(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new _x,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),Tx=function(){function e(){Jn(this,e)}return Zn(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Sx=function(){function e(){var t=this;Jn(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.bi()},this.Pi=[],this.vi()}return Zn(e,[{key:"Ei",value:function(e){this.Pi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){gm("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=er(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"bi",value:function(){gm("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=er(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Pt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Cx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Nx=function(){function e(t){Jn(this,e),this.Vi=t.Vi,this.Si=t.Si}return Zn(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Oi",value:function(e){this.ki(e)}},{key:"Mi",value:function(e){this.xi(e)}}]),e}(),Ax=function(e){nr(n,e);var t=sr(n);function n(e){var r;return Jn(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Zn(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new hm;o.listenOnce(sm.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case om.NO_ERROR:var t=o.getResponseJson();gm("Connection","XHR received:",JSON.stringify(t)),i(t);break;case om.TIMEOUT:gm("Connection",'RPC "'+e+'" timed out'),a(new Tm(Im.DEADLINE_EXCEEDED,"Request time out"));break;case om.HTTP_ERROR:var n=o.getStatus();if(gm("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Im).indexOf(t)>=0?t:Im.UNKNOWN}(r.status);a(new Tm(s,r.message))}else a(new Tm(Im.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Tm(Im.UNAVAILABLE,"Connection failed."));break;default:xm()}}finally{gm("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=im(),a=am(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new lm({})),this.qi(o.initMessageHeaders,t,n),gr()||wr()||yr().indexOf("Electron/")>=0||xr()||yr().indexOf("MSAppHost/")>=0||br()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");gm("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new Nx({Vi:function(e){l?gm("Connection","Not sending because WebChannel is closed:",e):(c||(gm("Connection","Opening WebChannel transport."),u.open(),c=!0),gm("Connection","WebChannel sending:",e),u.send(e))},Si:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,fm.EventType.OPEN,(function(){l||gm("Connection","WebChannel transport opened.")})),h(u,fm.EventType.CLOSE,(function(){l||(l=!0,gm("Connection","WebChannel transport closed"),f.Oi())})),h(u,fm.EventType.ERROR,(function(e){l||(l=!0,bm("Connection","WebChannel transport errored:",e),f.Oi(new Tm(Im.UNAVAILABLE,"The operation could not be completed")))})),h(u,fm.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];_m(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){gm("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Vg[e];if(void 0!==t)return Kg(t)}(a),s=i.message;void 0===o&&(o=Im.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.Oi(new Tm(o,s)),u.close()}else gm("Connection","WebChannel received:",n),f.Mi(n)}})),h(a,um.STAT_EVENT,(function(e){e.stat===cm.PROXY?gm("Connection","Detected buffering proxy"):e.stat===cm.NOPROXY&&gm("Connection","Detected no buffering proxy")})),setTimeout((function(){f.$i()}),0),f}}]),n}(function(){function e(t){Jn(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Fi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Zn(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);gm("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return gm("RestConnection","Received: ",e),e}),(function(t){throw bm("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+vm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=Cx[e];return"".concat(this.Fi,"/v1/").concat(t,":").concat(n)}}]),e}());function Px(){return"undefined"!=typeof window?window:null}function Rx(){return"undefined"!=typeof document?document:null}function Ox(e){return new kk(e,!0)}var Dx=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Jn(this,e),this.Me=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return Zn(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&gm("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Me.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),Lx=function(){function e(t,n,r,i,a,o,s,u){Jn(this,e),this.Me=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new Dx(t,n)}return Zn(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=ae(se().mark((function e(){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=ae(se().mark((function e(){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"pr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"close",value:function(){var e=ae(se().mark((function e(t,n){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===Im.RESOURCE_EXHAUSTED?(km(n.toString()),km("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===Im.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=u(t,2),i=r[0],a=r[1];e.rr===n&&e.Ir(i,a)}),(function(n){t((function(){var t=new Tm(Im.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.ar=n.Me.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(ae(se().mark((function t(){return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return gm("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Me.enqueueAndForget((function(){return t.rr===e?n():(gm("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Mx=function(e){nr(n,e);var t=sr(n);function n(e,r,i,a,o,s){var u;return Jn(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).k=o,u}return Zn(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:xm()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?(_m(void 0===t||"string"==typeof t),$m.fromBase64String(t||"")):(_m(void 0===t||t instanceof Uint8Array),$m.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Im.UNKNOWN:Kg(e.code);return new Tm(t,e.message||"")}(o);n=new hk(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=Sk(e,u.document.name),l=_k(u.document.updateTime),f=new Ey({mapValue:{fields:u.document.fields}}),h=Ty.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new lk(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Sk(e,v.document),y=v.readTime?_k(v.readTime):zm.min(),g=Ty.newNoDocument(m,y),k=v.removedTargetIds||[];n=new lk([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Sk(e,b.document),x=b.removedTargetIds||[];n=new lk([],x,w,null)}else{if(!("filter"in t))return xm();t.filter;var _=t.filter;_.targetId;var E=_.count||0,I=new Hg(E),T=_.targetId;n=new fk(T,I)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return zm.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?zm.min():t.readTime?_k(t.readTime):zm.min()}(e);return this.listener.br(t,n)}},{key:"Pr",value:function(e){var t={};t.database=Ak(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=Py(r)?{documents:jk(e,r)}:{query:Fk(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=wk(e,t.resumeToken):t.snapshotVersion.compareTo(zm.min())>0&&(n.readTime=bk(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return xm()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=Ak(this.k),t.removeTarget=e,this.gr(t)}}]),n}(Lx),jx=function(e){nr(n,e);var t=sr(n);function n(e,r,i,a,o,s){var u;return Jn(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).k=o,u.Vr=!1,u}return Zn(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,Ui(rr(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(_m(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(_m(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?_k(e.updateTime):_k(t);return n.isEqual(zm.min())&&(n=_k(t)),new Tg(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=_k(e.commitTime);return this.listener.Cr(n,t)}return _m(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=Ak(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Lk(t.k,e)}))};this.gr(n)}}]),n}(Lx),Fx=function(e){nr(n,e);var t=sr(n);function n(e,r,i,a){var o;return Jn(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.ir=i,o.k=a,o.$r=!1,o}return Zn(n,[{key:"Or",value:function(){if(this.$r)throw new Tm(Im.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=u(i,2),o=a[0],s=a[1];return r.ir.Bi(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Im.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Tm(Im.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=u(i,2),o=a[0],s=a[1];return r.ir.ji(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Im.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Tm(Im.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return Zn((function e(){Jn(this,e)}))}()),Ux=function(){function e(t,n){Jn(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}return Zn(e,[{key:"Br",value:function(){var e=this;0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Fr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(km(t),this.Lr=!1):gm("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}]),e}(),Vx=Zn((function e(t,n,r,i,a){var o=this;Jn(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei((function(e){r.enqueueAndForget(ae(se().mark((function e(){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Jx(o),!e.t0){e.next=5;break}return gm("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=ae(se().mark((function e(t){var n;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Em(t)).Gr.add(4),e.next=4,zx(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,qx(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new Ux(r,i)}));function qx(e){return Bx.apply(this,arguments)}function Bx(){return Bx=ae(se().mark((function e(t){var n,r,i;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Jx(t)){e.next=18;break}n=er(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Bx.apply(this,arguments)}function zx(e){return Hx.apply(this,arguments)}function Hx(){return Hx=ae(se().mark((function e(t){var n,r,i;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=er(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Hx.apply(this,arguments)}function Wx(e,t){var n=Em(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),Xx(n)?Yx(n):E_(n).lr()&&Gx(n,t))}function Kx(e,t){var n=Em(e),r=E_(n);n.Wr.delete(t),r.lr()&&Qx(n,t),0===n.Wr.size&&(r.lr()?r._r():Jx(n)&&n.Jr.set("Unknown"))}function Gx(e,t){e.Yr.X(t.targetId),E_(e).Pr(t)}function Qx(e,t){e.Yr.X(t),E_(e).vr(t)}function Yx(e){e.Yr=new pk({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),E_(e).start(),e.Jr.Br()}function Xx(e){return Jx(e)&&!E_(e).hr()&&e.Wr.size>0}function Jx(e){return 0===Em(e).Gr.size}function $x(e){e.Yr=void 0}function Zx(e){return e_.apply(this,arguments)}function e_(){return e_=ae(se().mark((function e(t){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){Gx(t,e)}));case 1:case"end":return e.stop()}}),e)}))),e_.apply(this,arguments)}function t_(e,t){return n_.apply(this,arguments)}function n_(){return n_=ae(se().mark((function e(t,n){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$x(t),Xx(t)?(t.Jr.Kr(n),Yx(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),n_.apply(this,arguments)}function r_(e,t,n){return i_.apply(this,arguments)}function i_(){return i_=ae(se().mark((function e(t,n,r){var i;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof hk&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=ae(se().mark((function e(t,n){var r,i,a,o;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=er(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),gm("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,a_(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof lk?t.Yr.ot(n):n instanceof fk?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(zm.min())){e.next=29;break}return e.prev=14,e.next=17,Hw(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken($m.EMPTY_BYTE_STRING,n.snapshotVersion)),Qx(e,t);var r=new Db(n.target,t,1,n.sequenceNumber);Gx(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),gm("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,a_(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),i_.apply(this,arguments)}function a_(e,t,n){return o_.apply(this,arguments)}function o_(){return o_=ae(se().mark((function e(t,n,r){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ib(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,zx(t);case 5:t.Jr.set("Offline"),r||(r=function(){return Hw(t.localStore)}),t.asyncQueue.enqueueRetryable(ae(se().mark((function e(){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gm("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,qx(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),o_.apply(this,arguments)}function s_(e,t){return t().catch((function(n){return a_(e,n,t)}))}function u_(e){return c_.apply(this,arguments)}function c_(){return c_=ae(se().mark((function e(t){var n,r,i,a;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Em(t),r=I_(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!l_(n)){e.next=19;break}return e.prev=3,e.next=6,Gw(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,f_(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,a_(n,e.t0);case 17:e.next=2;break;case 19:h_(n)&&d_(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),c_.apply(this,arguments)}function l_(e){return Jx(e)&&e.Qr.length<10}function f_(e,t){e.Qr.push(t);var n=I_(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function h_(e){return Jx(e)&&!I_(e).hr()&&e.Qr.length>0}function d_(e){I_(e).start()}function p_(e){return v_.apply(this,arguments)}function v_(){return v_=ae(se().mark((function e(t){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I_(t).kr();case 1:case"end":return e.stop()}}),e)}))),v_.apply(this,arguments)}function m_(e){return y_.apply(this,arguments)}function y_(){return y_=ae(se().mark((function e(t){var n,r,i,a;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=I_(t),r=er(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),y_.apply(this,arguments)}function g_(e,t,n){return k_.apply(this,arguments)}function k_(){return k_=ae(se().mark((function e(t,n,r){var i,a;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=Ob.from(i,n,r),e.next=3,s_(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,u_(t);case 5:case"end":return e.stop()}}),e)}))),k_.apply(this,arguments)}function b_(e,t){return w_.apply(this,arguments)}function w_(){return w_=ae(se().mark((function e(t,n){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&I_(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=ae(se().mark((function e(t,n){var r,i;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Wg(i=n.code)||i===Im.ABORTED){e.next=7;break}return r=t.Qr.shift(),I_(t).wr(),e.next=5,s_(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,u_(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:h_(t)&&d_(t);case 5:case"end":return e.stop()}}),e)}))),w_.apply(this,arguments)}function x_(e,t){return __.apply(this,arguments)}function __(){return __=ae(se().mark((function e(t,n){var r;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Em(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,qx(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,zx(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),__.apply(this,arguments)}function E_(e){return e.Xr||(e.Xr=function(e,t,n){var r=Em(e);return r.Or(),new Mx(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:Zx.bind(null,e),Ni:t_.bind(null,e),br:r_.bind(null,e)}),e.zr.push(function(){var t=ae(se().mark((function t(n){return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),Xx(e)?Yx(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:$x(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}function I_(e){return e.Zr||(e.Zr=function(e,t,n){var r=Em(e);return r.Or(),new jx(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:p_.bind(null,e),Ni:b_.bind(null,e),Nr:m_.bind(null,e),Cr:g_.bind(null,e)}),e.zr.push(function(){var t=ae(se().mark((function t(n){return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,u_(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(gm("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var T_=function(){function e(t,n,r,i,a){Jn(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Sm,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Zn(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Tm(Im.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function S_(e,t){if(km("AsyncQueue","".concat(t,": ").concat(e)),Ib(e))return new Tm(Im.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var C_=function(){function e(t){Jn(this,e),this.comparator=t?function(e,n){return t(e,n)||cy.comparator(e.key,n.key)}:function(e,t){return cy.comparator(e.key,t.key)},this.keyedMap=tk(),this.sortedSet=new Gg(this.comparator)}return Zn(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),N_=function(){function e(){Jn(this,e),this.eo=new Gg(cy.comparator)}return Zn(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):xm():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),A_=function(){function e(t,n,r,i,a,o,s,u){Jn(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return Zn(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ig(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,C_.emptySet(n),a,r,i,!0,!1)}}]),e}(),P_=Zn((function e(){Jn(this,e),this.so=void 0,this.listeners=[]})),R_=Zn((function e(){Jn(this,e),this.queries=new ww((function(e){return ag(e)}),ig),this.onlineState="Unknown",this.io=new Set}));function O_(e,t){return D_.apply(this,arguments)}function D_(){return D_=ae(se().mark((function e(t,n){var r,i,a,o,s;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Em(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new P_),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=S_(e.t0,"Initialization of query '".concat(og(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&U_(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),D_.apply(this,arguments)}function L_(e,t){return M_.apply(this,arguments)}function M_(){return M_=ae(se().mark((function e(t,n){var r,i,a,o,s;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Em(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),M_.apply(this,arguments)}function j_(e,t){var n,r=Em(e),i=!1,a=er(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=er(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.oo(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.so=o}}}catch(f){a.e(f)}finally{a.f()}i&&U_(r)}function F_(e,t,n){var r=Em(e),i=r.queries.get(t);if(i){var a,o=er(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function U_(e){e.io.forEach((function(e){e.next()}))}var V_=function(){function e(t,n,r){Jn(this,e),this.query=t,this.co=n,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return Zn(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=er(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new A_(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.ao?this.ho(e)&&(this.co.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.co.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=A_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}]),e}(),q_=function(){function e(t,n){Jn(this,e),this.payload=t,this.byteLength=n}return Zn(e,[{key:"_o",value:function(){return"metadata"in this.payload}}]),e}(),B_=function(){function e(t){Jn(this,e),this.k=t}return Zn(e,[{key:"Hn",value:function(e){return Sk(this.k,e)}},{key:"Jn",value:function(e){return e.metadata.exists?Ok(this.k,e.document,!1):Ty.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}},{key:"Yn",value:function(e){return _k(e)}}]),e}(),z_=function(){function e(t,n,r){Jn(this,e),this.mo=t,this.localStore=n,this.k=r,this.queries=[],this.documents=[],this.progress=H_(t)}return Zn(e,[{key:"yo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"po",value:function(e){var t,n=new Map,r=new B_(this.k),i=er(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Hn(a.metadata.name),u=er(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||ak()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=ae(se().mark((function e(){var t,n,r,i,a;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nx(this.localStore,new B_(this.k),this.documents,this.mo.id);case 2:t=e.sent,n=this.po(this.documents),r=er(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,ix(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new Lw(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function H_(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var W_=Zn((function e(t){Jn(this,e),this.key=t})),K_=Zn((function e(t){Jn(this,e),this.key=t})),G_=function(){function e(t,n){Jn(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=ak(),this.mutatedKeys=ak(),this.Ao=ug(t),this.Ro=new C_(this.Ao)}return Zn(e,[{key:"bo",get:function(){return this.To}},{key:"Po",value:function(e,t){var n=this,r=t?t.vo:new N_,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=Xy(this.query)&&i.size===this.query.limit?i.last():null,c=Jy(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=sg(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Vo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Ao(f,u)>0||c&&n.Ao(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Xy(this.query)||Jy(this.query))for(;o.size>this.query.limit;){var l=Xy(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:s,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xm()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],s=0===this.Io.size&&this.current?1:0,u=s!==this.Eo;return this.Eo=s,0!==a.length||u?{snapshot:new A_(this.query,e.Ro,i,a,e.mutatedKeys,0===s,u,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new N_,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=ak(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new K_(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new W_(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=ak();var t=this.Po(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return A_.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),Q_=Zn((function e(t,n,r){Jn(this,e),this.query=t,this.targetId=n,this.view=r})),Y_=Zn((function e(t){Jn(this,e),this.key=t,this.$o=!1})),X_=function(){function e(t,n,r,i,a,o){Jn(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Oo={},this.Mo=new ww((function(e){return ag(e)}),ig),this.Fo=new Map,this.Lo=new Set,this.Bo=new Gg(cy.comparator),this.Uo=new Map,this.qo=new sx,this.Ko={},this.jo=new Map,this.Qo=uw.re(),this.onlineState="Unknown",this.Wo=void 0}return Zn(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function J_(e,t){return $_.apply(this,arguments)}function $_(){return $_=ae(se().mark((function e(t,n){var r,i,a,o,s,u;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=HE(t),!(o=r.Mo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,Qw(r.localStore,ng(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,Z_(r,n,i,"current"===u);case 13:a=e.sent,r.isPrimaryClient&&Wx(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),$_.apply(this,arguments)}function Z_(e,t,n,r){return eE.apply(this,arguments)}function eE(){return eE=ae(se().mark((function e(t,n,r,i){var a,o,s,u,c,l;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=ae(se().mark((function e(t,n,r,i){var a,o,s;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Po(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,Jw(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Po(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(bE(t,n.targetId,s.Co),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Jw(t.localStore,n,!0);case 3:return a=e.sent,o=new G_(n,a.zn),s=o.Po(a.documents),u=ck.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),bE(t,r,c.Co),l=new Q_(n,r,o),e.abrupt("return",(t.Mo.set(n,l),t.Fo.has(r)?t.Fo.get(r).push(n):t.Fo.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),eE.apply(this,arguments)}function tE(e,t){return nE.apply(this,arguments)}function nE(){return nE=ae(se().mark((function e(t,n){var r,i,a;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Em(t),i=r.Mo.get(n),!((a=r.Fo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Fo.set(i.targetId,a.filter((function(e){return!ig(e,n)}))),void r.Mo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Yw(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Kx(r.remoteStore,i.targetId),gE(r,i.targetId)})).catch(dw);case 9:e.next=14;break;case 11:return gE(r,i.targetId),e.next=14,Yw(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),nE.apply(this,arguments)}function rE(e,t,n){return iE.apply(this,arguments)}function iE(){return iE=ae(se().mark((function e(t,n,r){var i,a,o;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=WE(t),e.prev=1,e.next=4,function(e,t){var n,r=Em(e),i=Bm.now(),a=t.reduce((function(e,t){return e.add(t.key)}),ak());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,s=[],u=er(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=Rg(c,n.get(c.key));null!=l&&s.push(new Mg(c.key,l,Iy(l.value.mapValue),Sg.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return r.An.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new Gg(Um)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,_E(i,a.changes);case 9:return e.next=11,u_(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=S_(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),iE.apply(this,arguments)}function aE(e,t){return oE.apply(this,arguments)}function oE(){return oE=ae(se().mark((function e(t,n){var r,i;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Em(t),e.prev=1,e.next=4,Ww(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&(_m(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?_m(n.$o):e.removedDocuments.size>0&&(_m(n.$o),n.$o=!1))})),e.next=8,_E(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,dw(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),oE.apply(this,arguments)}function sE(e,t,n){var r=Em(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Mo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Em(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=er(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&U_(n)}(r.eventManager,t),i.length&&r.Oo.br(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function uE(e,t,n){return cE.apply(this,arguments)}function cE(){return cE=ae(se().mark((function e(t,n,r){var i,a,o,s,u,c;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Em(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Gg(cy.comparator)).insert(o,Ty.newNoDocument(o,zm.min())),u=ak().add(o),c=new uk(zm.min(),new Map,new Xg(Um),s,u),e.next=9,aE(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),xE(i),e.next=16;break;case 14:return e.next=16,Yw(i.localStore,n,!1).then((function(){return gE(i,n,r)})).catch(dw);case 16:case"end":return e.stop()}}),e)}))),cE.apply(this,arguments)}function lE(e,t){return fE.apply(this,arguments)}function fE(){return fE=ae(se().mark((function e(t,n){var r,i,a;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Em(t),i=n.batch.batchId,e.prev=1,e.next=4,zw(r.localStore,n);case 4:return a=e.sent,yE(r,i,null),mE(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,_E(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,dw(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),fE.apply(this,arguments)}function hE(e,t,n){return dE.apply(this,arguments)}function dE(){return dE=ae(se().mark((function e(t,n,r){var i,a;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Em(t),e.prev=1,e.next=4,function(e,t){var n=Em(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return _m(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,yE(i,n,r),mE(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,_E(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,dw(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),dE.apply(this,arguments)}function pE(e,t){return vE.apply(this,arguments)}function vE(){return vE=ae(se().mark((function e(t,n){var r,i,a,o;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Jx((r=Em(t)).remoteStore)||gm("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Em(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.An.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.jo.get(i)||[]).push(n),r.jo.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=S_(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),vE.apply(this,arguments)}function mE(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function yE(e,t,n){var r=Em(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function gE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=er(e.Fo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Mo.delete(a),n&&e.Oo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Fo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||kE(e,t)}))}function kE(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(Kx(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),xE(e))}function bE(e,t,n){var r,i=er(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof W_?(e.qo.addReference(a.key,t),wE(e,a)):a instanceof K_?(gm("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||kE(e,a.key)):xm()}}catch(o){i.e(o)}finally{i.f()}}function wE(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(gm("SyncEngine","New document in limbo: "+n),e.Lo.add(r),xE(e))}function xE(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new cy(Qm.fromString(t)),r=e.Qo.next();e.Uo.set(r,new Y_(n)),e.Bo=e.Bo.insert(n,r),Wx(e.remoteStore,new Db(ng(Yy(n.path)),r,2,Mm.I))}}function _E(e,t,n){return EE.apply(this,arguments)}function EE(){return EE=ae(se().mark((function e(t,n,r){var i,a,o,s;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Em(t),a=[],o=[],s=[],e.t0=i.Mo.isEmpty(),e.t0){e.next=9;break}return i.Mo.forEach((function(e,t){s.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=jw.$n(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Oo.br(a),e.next=9,function(){var e=ae(se().mark((function e(t,n){var r,i,a,o,s,u,c,l;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Em(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return bb.forEach(n,(function(t){return bb.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return bb.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Ib(e.t0)){e.next=10;break}throw e.t0;case 10:gm("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=er(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.qn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.qn=r.qn.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),EE.apply(this,arguments)}function IE(e,t){return TE.apply(this,arguments)}function TE(){return TE=ae(se().mark((function e(t,n){var r,i;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Em(t)).currentUser.isEqual(n)){e.next=11;break}return gm("SyncEngine","User change. New user:",n.toKey()),e.next=5,qw(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new Tm(Im.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,_E(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),TE.apply(this,arguments)}function SE(e,t){var n=Em(e),r=n.Uo.get(t);if(r&&r.$o)return ak().add(r.key);var i=ak(),a=n.Fo.get(t);if(!a)return i;var o,s=er(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.Mo.get(u);i=i.unionWith(c.view.bo)}}catch(l){s.e(l)}finally{s.f()}return i}function CE(e,t){return NE.apply(this,arguments)}function NE(){return NE=ae(se().mark((function e(t,n){var r,i,a;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Em(t),e.next=3,Jw(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ko(i),e.abrupt("return",(r.isPrimaryClient&&bE(r,n.targetId,a.Co),a));case 6:case"end":return e.stop()}}),e)}))),NE.apply(this,arguments)}function AE(e){return PE.apply(this,arguments)}function PE(){return PE=ae(se().mark((function e(t){var n;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Em(t),e.abrupt("return",Zw(n.localStore).then((function(e){return _E(n,e)})));case 2:case"end":return e.stop()}}),e)}))),PE.apply(this,arguments)}function RE(e,t,n,r){return OE.apply(this,arguments)}function OE(){return OE=ae(se().mark((function e(t,n,r,i){var a,o;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Em(t),e.next=3,function(e,t){var n=Em(e),r=Em(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Zt(e,t).next((function(t){return t?n.Wn.vn(e,t):bb.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,u_(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(yE(a,n,i||null),mE(a,n),function(e,t){Em(Em(e).An).ee(t)}(a.localStore,n)):xm();case 11:return e.next=13,_E(a,o);case 13:e.next=16;break;case 15:gm("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),OE.apply(this,arguments)}function DE(e,t){return LE.apply(this,arguments)}function LE(){return LE=ae(se().mark((function e(t,n){var r,i,a,o,s,u,c,l;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(HE(r=Em(t)),WE(r),!0!==n||!0===r.Wo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,ME(r,i.toArray());case 5:return a=e.sent,r.Wo=!0,e.next=9,x_(r.remoteStore,!0);case 9:o=er(a);try{for(o.s();!(s=o.n()).done;)u=s.value,Wx(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Wo){e.next=25;break}return c=[],l=Promise.resolve(),r.Fo.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return gE(r,t),Yw(r.localStore,t,!0)})),Kx(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,ME(r,c);case 21:return function(e){var t=Em(e);t.Uo.forEach((function(e,n){Kx(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new Gg(cy.comparator)}(r),r.Wo=!1,e.next=25,x_(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),LE.apply(this,arguments)}function ME(e,t,n){return jE.apply(this,arguments)}function jE(){return jE=ae(se().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,y;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Em(t),a=[],o=[],s=er(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.Fo.get(c))||0===f.length){e.next=34;break}return e.next=11,Qw(i.localStore,ng(f[0]));case 11:l=e.sent,h=er(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Mo.get(p),e.next=20,CE(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,$w(i.localStore,c);case 36:return y=e.sent,e.next=39,Qw(i.localStore,y);case 39:return l=e.sent,e.next=42,Z_(i,FE(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Oo.br(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),jE.apply(this,arguments)}function FE(e){return Qy(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function UE(e){var t=Em(e);return Em(Em(t.localStore).persistence).Tn()}function VE(e,t,n,r){return qE.apply(this,arguments)}function qE(){return qE=ae(se().mark((function e(t,n,r,i){var a,o,s;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Em(t)).Wo){e.next=5;break}gm("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Fo.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,Zw(a.localStore);case 11:return o=e.sent,s=uk.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,_E(a,o,s);case 15:return e.abrupt("break",21);case 16:return e.next=18,Yw(a.localStore,n,!0);case 18:return gE(a,n,i),e.abrupt("break",21);case 20:xm();case 21:case"end":return e.stop()}}),e)}))),qE.apply(this,arguments)}function BE(e,t,n){return zE.apply(this,arguments)}function zE(){return zE=ae(se().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=HE(t)).Wo){e.next=45;break}a=er(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.Fo.has(s)){e.next=10;break}return gm("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,$w(i.localStore,s);case 12:return u=e.sent,e.next=15,Qw(i.localStore,u);case 15:return c=e.sent,e.next=18,Z_(i,FE(u),c.targetId,!1);case 18:Wx(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=er(r),e.prev=30,h=se().mark((function e(){var t;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Fo.has(t),!e.t0){e.next=5;break}return e.next=5,Yw(i.localStore,t,!1).then((function(){Kx(i.remoteStore,t),gE(i,t)})).catch(dw);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),zE.apply(this,arguments)}function HE(e){var t=Em(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=aE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=SE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=uE.bind(null,t),t.Oo.br=j_.bind(null,t.eventManager),t.Oo.zo=F_.bind(null,t.eventManager),t}function WE(e){var t=Em(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hE.bind(null,t),t}function KE(e,t,n){var r=Em(e);(function(){var e=ae(se().mark((function e(t,n,r){var i,a,o,s,u;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Em(e),r=_k(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ye.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(H_(i)),a=new z_(i,t.localStore,n.k),e.next=14,n.Ho();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.yo(o);case 18:return(s=e.sent)&&r._updateProgress(s),e.next=22,n.Ho();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return u=e.sent,e.next=30,_E(t,u.In,void 0);case 30:return e.next=32,function(e,t){var n=Em(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ye.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(u.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),bm("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var GE=function(){function e(){Jn(this,e),this.synchronizeTabs=!1}return Zn(e,[{key:"initialize",value:function(){var e=ae(se().mark((function e(t){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=Ox(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return Vw(this.persistence,new Fw,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new dx(vx.ks,this.k)}},{key:"Jo",value:function(e){return new Ix}},{key:"terminate",value:function(){var e=ae(se().mark((function e(){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),QE=function(e){nr(n,e);var t=sr(n);function n(e,r,i){var a;return Jn(this,n),(a=t.call(this)).tc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Zn(n,[{key:"initialize",value:function(){var e=ae(se().mark((function e(t){var r=this;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ui(rr(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,ex(this.localStore);case 4:return e.next=6,this.tc.initialize(this,t);case 6:return e.next=8,WE(this.tc.syncEngine);case 8:return e.next=10,u_(this.tc.remoteStore);case 10:return e.next=12,this.persistence.sn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Zo",value:function(e){return Vw(this.persistence,new Fw,e.initialUser,this.k)}},{key:"Xo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new yw(t,e.asyncQueue)}},{key:"Yo",value:function(e){var t=Dw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ew.withCacheSize(this.cacheSizeBytes):ew.DEFAULT;return new Pw(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Px(),Rx(),this.k,this.sharedClientState,!!this.forceOwnership)}},{key:"Jo",value:function(e){return new Ix}}]),n}(GE),YE=function(e){nr(n,e);var t=sr(n);function n(e,r){var i;return Jn(this,n),(i=t.call(this,e,r,!1)).tc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Zn(n,[{key:"initialize",value:function(){var e=ae(se().mark((function e(t){var r,i=this;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ui(rr(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.tc.syncEngine,e.t0=this.sharedClientState instanceof Ex,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={mi:RE.bind(null,r),gi:VE.bind(null,r),yi:BE.bind(null,r),Tn:UE.bind(null,r),_i:AE.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.sn(function(){var e=ae(se().mark((function e(t){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,DE(i.tc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Jo",value:function(e){var t=Px();if(!Ex.Pt(t))throw new Tm(Im.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Dw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ex(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(QE),XE=function(){function e(){Jn(this,e)}return Zn(e,[{key:"initialize",value:function(){var e=ae(se().mark((function e(t,n){var r=this;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return sE(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=IE.bind(null,this.syncEngine),e.next=12,x_(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new R_}},{key:"createDatastore",value:function(e){var t,n=Ox(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Ax(t));return function(e,t,n,r){return new Fx(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return sE(o.syncEngine,e,0)},a=Sx.Pt()?new Sx:new Tx,new Vx(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new X_(e,t,n,r,i,a);return o&&(s.Wo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=ae(se().mark((function e(t){var n;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Em(t),gm("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,zx(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function JE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return ae(se().mark((function r(){var i;return se().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return ae(se().mark((function e(){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var $E=function(){function e(t){Jn(this,e),this.observer=t,this.muted=!1}return Zn(e,[{key:"next",value:function(e){this.observer.next&&this.ec(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"nc",value:function(){this.muted=!0}},{key:"ec",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),ZE=function(){function e(t,n){var r=this;Jn(this,e),this.sc=t,this.k=n,this.metadata=new Sm,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then((function(e){e&&e._o()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Zn(e,[{key:"close",value:function(){return this.sc.cancel()}},{key:"getMetadata",value:function(){var e=ae(se().mark((function e(){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){var e=ae(se().mark((function e(){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"rc",value:function(){var e=ae(se().mark((function e(){var t,n,r,i;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.oc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ic.decode(t),r=Number(n),isNaN(r)&&this.cc("length string (".concat(n,") is not valid number")),e.next=9,this.ac(r);case 9:return i=e.sent,e.abrupt("return",new q_(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"uc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"oc",value:function(){var e=ae(se().mark((function e(){var t,n;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.uc()<0)){e.next=7;break}return e.next=3,this.hc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.uc())<0&&this.cc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ac",value:function(){var e=ae(se().mark((function e(t){var n;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.hc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.cc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ic.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"cc",value:function(e){throw this.sc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"hc",value:function(){var e=ae(se().mark((function e(){var t,n;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),eI=function(){function e(t){Jn(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Zn(e,[{key:"lookup",value:function(){var e=ae(se().mark((function e(t){var n,r=this;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Tm(Im.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=ae(se().mark((function e(t,n){var r,i,a,o,s,u;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Em(t),i=Ak(r.k)+"/documents",a={documents:n.map((function(e){return Tk(r.k,e)}))},e.next=5,r.ji("BatchGetDocuments",i,a);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=Dk(r.k,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());_m(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Bg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=ae(se().mark((function e(){var t,n=this;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=cy.fromPath(t);n.mutations.push(new zg(r,n.precondition(r)))})),e.next=7,function(){var e=ae(se().mark((function e(t,n){var r,i,a;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Em(t),i=Ak(r.k)+"/documents",a={writes:n.map((function(e){return Lk(r.k,e)}))},e.next=3,r.Bi("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw xm();t=zm.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Tm(Im.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Sg.updateTime(t):Sg.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(zm.min()))throw new Tm(Im.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Sg.updateTime(t)}return Sg.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),tI=function(){function e(t,n,r,i){Jn(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.lc=5,this.ur=new Dx(this.asyncQueue,"transaction_retry")}return Zn(e,[{key:"run",value:function(){this.lc-=1,this.fc()}},{key:"fc",value:function(){var e=this;this.ur.Zi(ae(se().mark((function t(){var n,r;return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new eI(e.datastore),(r=e.dc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.wc(t)}))}))})).catch((function(t){e.wc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"dc",value:function(e){try{var t=this.updateFunction(e);return!oy(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"wc",value:function(e){var t=this;this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget((function(){return t.fc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"_c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Wg(t)}return!1}}]),e}(),nI=function(){function e(t,n,r,i){var a=this;Jn(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=pm.UNAUTHENTICATED,this.clientId=Fm.A(),this.authCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=ae(se().mark((function e(t){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gm("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(){return Promise.resolve()}))}return Zn(e,[{key:"getConfiguration",value:function(){var e=ae(se().mark((function e(){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Tm(Im.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Sm;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ae(se().mark((function n(){var r;return se().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=S_(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function rI(e,t){return iI.apply(this,arguments)}function iI(){return iI=ae(se().mark((function e(t,n){var r,i;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),gm("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=ae(se().mark((function e(t){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,qw(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),iI.apply(this,arguments)}function aI(e,t){return oI.apply(this,arguments)}function oI(){return oI=ae(se().mark((function e(t,n){var r,i;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,sI(t);case 3:return r=e.sent,gm("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return function(){var e=ae(se().mark((function e(t,n){var r,i;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Em(t)).asyncQueue.verifyOperationInProgress(),gm("RemoteStore","RemoteStore received new credentials"),i=Jx(r),r.Gr.add(3),e.next=6,zx(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,qx(r);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(n.remoteStore,e)})),t.onlineComponents=n;case 12:case"end":return e.stop()}}),e)}))),oI.apply(this,arguments)}function sI(e){return uI.apply(this,arguments)}function uI(){return uI=ae(se().mark((function e(t){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return gm("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,rI(t,new GE);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),uI.apply(this,arguments)}function cI(e){return lI.apply(this,arguments)}function lI(){return lI=ae(se().mark((function e(t){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return gm("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,aI(t,new XE);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),lI.apply(this,arguments)}function fI(e){return sI(e).then((function(e){return e.persistence}))}function hI(e){return sI(e).then((function(e){return e.localStore}))}function dI(e){return cI(e).then((function(e){return e.remoteStore}))}function pI(e){return cI(e).then((function(e){return e.syncEngine}))}function vI(e){return mI.apply(this,arguments)}function mI(){return mI=ae(se().mark((function e(t){var n,r;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cI(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=J_.bind(null,n.syncEngine),r.onUnlisten=tE.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),mI.apply(this,arguments)}function yI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Sm;return e.asyncQueue.enqueueAndForget(ae(se().mark((function i(){return se().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new $E({next:function(a){t.enqueueAndForget((function(){return L_(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Tm(Im.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Tm(Im.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new V_(Yy(n.path),a,{includeMetadataChanges:!0,wo:!0});return O_(e,o)},i.next=3,vI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function gI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Sm;return e.asyncQueue.enqueueAndForget(ae(se().mark((function i(){return se().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new $E({next:function(n){t.enqueueAndForget((function(){return L_(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Tm(Im.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new V_(n,a,{includeMetadataChanges:!0,wo:!0});return O_(e,o)},i.next=3,vI(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var kI=Zn((function e(t,n,r,i,a,o,s,u){Jn(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),bI=function(){function e(t,n){Jn(this,e),this.projectId=t,this.database=n||"(default)"}return Zn(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),wI=new Map;function xI(e,t,n){if(!n)throw new Tm(Im.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function _I(e,t,n,r){if(!0===t&&!0===r)throw new Tm(Im.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function EI(e){if(!cy.isDocumentKey(e))throw new Tm(Im.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function II(e){if(cy.isDocumentKey(e))throw new Tm(Im.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function TI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":xm()}function SI(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Tm(Im.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=TI(e);throw new Tm(Im.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function CI(e,t){if(t<=0)throw new Tm(Im.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var NI=function(){function e(t){var n;if(Jn(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Tm(Im.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Tm(Im.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,_I("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Zn(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),AI=function(){function e(t,n,r){Jn(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NI({}),this._settingsFrozen=!1,t instanceof bI?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Tm(Im.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bI(e.options.projectId)}(t))}return Zn(e,[{key:"app",get:function(){if(!this._app)throw new Tm(Im.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Tm(Im.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NI(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Nm;switch(e.type){case"gapi":var t=e.client;return _m(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Om(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Tm(Im.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=wI.get(e);t&&(gm("ComponentProvider","Removing Datastore"),wI.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function PI(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=SI(e,AI))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&bm("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=pm.MOCK_USER;else{o=mr(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Tm(Im.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new pm(u)}e._authCredentials=new Am(new Cm(o,s))}}var RI=function(){function e(t,n,r){Jn(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Zn(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new DI(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),OI=function(){function e(t,n,r){Jn(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Zn(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),DI=function(e){nr(n,e);var t=sr(n);function n(e,r,i){var a;return Jn(this,n),(a=t.call(this,e,r,Yy(i)))._path=i,a.type="collection",a}return Zn(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new RI(this.firestore,null,new cy(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(OI);function LI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Vr(e),xI("collection","path",t),e instanceof AI){var a=Qm.fromString.apply(Qm,[t].concat(r));return II(a),new DI(e,null,a)}if(!(e instanceof RI||e instanceof DI))throw new Tm(Im.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Qm.fromString.apply(Qm,[t].concat(r)));return II(o),new DI(e.firestore,null,o)}function MI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Vr(e),1===arguments.length&&(t=Fm.A()),xI("doc","path",t),e instanceof AI){var a=Qm.fromString.apply(Qm,[t].concat(r));return EI(a),new RI(e,null,new cy(a))}if(!(e instanceof RI||e instanceof DI))throw new Tm(Im.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Qm.fromString.apply(Qm,[t].concat(r)));return EI(o),new RI(e.firestore,e instanceof DI?e.converter:null,new cy(o))}function jI(e,t){return e=Vr(e),t=Vr(t),(e instanceof RI||e instanceof DI)&&(t instanceof RI||t instanceof DI)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function FI(e,t){return e=Vr(e),t=Vr(t),e instanceof OI&&t instanceof OI&&e.firestore===t.firestore&&ig(e._query,t._query)&&e.converter===t.converter}var UI=function(){function e(){var t=this;Jn(this,e),this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new Dx(this,"async_queue_retry"),this.bc=function(){var e=Rx();e&&gm("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=Rx();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.bc)}return Zn(e,[{key:"isShuttingDown",get:function(){return this.yc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pc(),this.vc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;var t=Rx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pc(),this.yc)return new Promise((function(){}));var n=new Sm;return this.vc((function(){return t.yc&&t.Ac?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.gc.push(e),t.Vc()}))}},{key:"Vc",value:function(){var e=ae(se().mark((function e(){var t=this;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.gc.length){e.next=14;break}return e.prev=1,e.next=4,this.gc[0]();case 4:this.gc.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Ib(e.t0)){e.next=12;break}throw e.t0;case 12:gm("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.gc.length>0&&this.ur.Zi((function(){return t.Vc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(e){var t=this,n=this.mc.then((function(){return t.Ic=!0,e().catch((function(e){t.Ec=e,t.Ic=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw km("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ic=!1,e}))}));return this.mc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);var i=T_.createAndSchedule(this,e,t,n,(function(e){return r.Sc(e)}));return this.Tc.push(i),i}},{key:"Pc",value:function(){this.Ec&&xm()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Dc",value:function(){var e=ae(se().mark((function e(){var t;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.mc,e.next=3,t;case 3:if(t!==this.mc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(e){var t,n=er(this.Tc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Nc",value:function(e){var t=this;return this.Dc().then((function(){t.Tc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=er(t.Tc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Dc()}))}},{key:"kc",value:function(e){this.Rc.push(e)}},{key:"Sc",value:function(e){var t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}]),e}();function VI(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=er(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var qI=function(){function e(){Jn(this,e),this._progressObserver={},this._taskCompletionResolver=new Sm,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Zn(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),BI=function(e){nr(n,e);var t=sr(n);function n(e,r,i){var a;return Jn(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new UI,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Zn(n,[{key:"_terminate",value:function(){return this._firestoreClient||HI(this),this._firestoreClient.terminate()}}]),n}(AI);function zI(e){return e._firestoreClient||HI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function HI(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new kI(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new nI(e._authCredentials,e._appCheckCredentials,e._queue,r)}function WI(e,t,n){var r=new Sm;return e.asyncQueue.enqueue(ae(se().mark((function i(){return se().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,rI(e,n);case 3:return i.next=5,aI(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Im.FAILED_PRECONDITION||e.code===Im.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function KI(e){return function(e){return e.asyncQueue.enqueue(ae(se().mark((function t(){var n,r;return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fI(e);case 2:return n=t.sent,t.next=5,dI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Em(e);return t.Gr.delete(0),qx(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(zI(e=SI(e,BI)))}function GI(e){return function(e){return e.asyncQueue.enqueue(ae(se().mark((function t(){var n,r;return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fI(e);case 2:return n=t.sent,t.next=5,dI(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=ae(se().mark((function e(t){var n;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Em(t)).Gr.add(0),e.next=4,zx(n);case 4:n.Jr.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(zI(e=SI(e,BI)))}function QI(e,t){var n=zI(e=SI(e,BI)),r=new qI;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new ZE(e,t)}(function(e,t){if(e instanceof Uint8Array)return JE(e,t);if(e instanceof ArrayBuffer)return JE(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Ox(t));e.asyncQueue.enqueueAndForget(ae(se().mark((function t(){return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=KE,t.next=3,pI(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function YI(e,t){return function(e,t){return e.asyncQueue.enqueue(ae(se().mark((function n(){return se().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Em(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ye.getNamedQuery(e,t)}))},n.next=3,hI(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(zI(e=SI(e,BI)),t).then((function(t){return t?new OI(e,null,t.query):null}))}function XI(e){if(e._initialized||e._terminated)throw new Tm(Im.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var JI=function(){function e(){Jn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Tm(Im.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xm(n)}return Zn(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var $I=function(){function e(t){Jn(this,e),this._byteString=t}return Zn(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e($m.fromBase64String(t))}catch(t){throw new Tm(Im.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e($m.fromUint8Array(t))}}]),e}(),ZI=Zn((function e(t){Jn(this,e),this._methodName=t})),eT=function(){function e(t,n){if(Jn(this,e),!isFinite(t)||t<-90||t>90)throw new Tm(Im.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Tm(Im.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Zn(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Um(this._lat,e._lat)||Um(this._long,e._long)}}]),e}(),tT=/^__.*__$/,nT=function(){function e(t,n,r){Jn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Zn(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Mg(e,this.data,this.fieldMask,t,this.fieldTransforms):new Lg(e,this.data,t,this.fieldTransforms)}}]),e}(),rT=function(){function e(t,n,r){Jn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Zn(e,[{key:"toMutation",value:function(e,t){return new Mg(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function iT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xm()}}var aT=function(){function e(t,n,r,i,a,o){Jn(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Zn(e,[{key:"path",get:function(){return this.settings.path}},{key:"$c",get:function(){return this.settings.$c}},{key:"Oc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Mc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.Lc(e),r}},{key:"Bc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.xc(),r}},{key:"Uc",value:function(e){return this.Oc({path:void 0,Fc:!0})}},{key:"qc",value:function(e){return IT(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}},{key:"Lc",value:function(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(iT(this.$c)&&tT.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}]),e}(),oT=function(){function e(t,n,r){Jn(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||Ox(t)}return Zn(e,[{key:"Qc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new aT({$c:e,methodName:t,jc:n,path:Xm.emptyPath(),Fc:!1,Kc:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function sT(e){var t=e._freezeSettings(),n=Ox(e._databaseId);return new oT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function uT(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Qc(a.merge||a.mergeFields?2:0,t,n,i);wT("Data must be an object, but it was:",o,r);var s,u,c=kT(r,o);if(a.merge)s=new Jm(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=er(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=xT(t,d,n);if(!o.contains(p))throw new Tm(Im.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));TT(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new Jm(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new nT(new Ey(c),s,u)}var cT=function(e){nr(n,e);var t=sr(n);function n(){return Jn(this,n),t.apply(this,arguments)}return Zn(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.$c)throw 1===e.$c?e.qc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.qc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(ZI);function lT(e,t,n){return new aT({$c:3,jc:t.settings.jc,methodName:e._methodName,Fc:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}var fT=function(e){nr(n,e);var t=sr(n);function n(){return Jn(this,n),t.apply(this,arguments)}return Zn(n,[{key:"_toFieldTransform",value:function(e){return new Ig(e.path,new yg)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(ZI),hT=function(e){nr(n,e);var t=sr(n);function n(e,r){var i;return Jn(this,n),(i=t.call(this,e)).Wc=r,i}return Zn(n,[{key:"_toFieldTransform",value:function(e){var t=lT(this,e,!0),n=this.Wc.map((function(e){return gT(e,t)})),r=new gg(n);return new Ig(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(ZI),dT=function(e){nr(n,e);var t=sr(n);function n(e,r){var i;return Jn(this,n),(i=t.call(this,e)).Wc=r,i}return Zn(n,[{key:"_toFieldTransform",value:function(e){var t=lT(this,e,!0),n=this.Wc.map((function(e){return gT(e,t)})),r=new bg(n);return new Ig(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(ZI),pT=function(e){nr(n,e);var t=sr(n);function n(e,r){var i;return Jn(this,n),(i=t.call(this,e)).Gc=r,i}return Zn(n,[{key:"_toFieldTransform",value:function(e){var t=new xg(e.k,hg(e.k,this.Gc));return new Ig(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(ZI);function vT(e,t,n,r){var i=e.Qc(1,t,n);wT("Data must be an object, but it was:",i,r);var a=[],o=Ey.empty();Wm(r,(function(e,r){var s=ET(t,e,n);r=Vr(r);var u=i.Bc(s);if(r instanceof cT)a.push(s);else{var c=gT(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Jm(a);return new rT(o,s,i.fieldTransforms)}function mT(e,t,n,r,i,a){var o=e.Qc(1,t,n),s=[xT(t,r,n)],u=[i];if(a.length%2!=0)throw new Tm(Im.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(xT(t,a[c])),u.push(a[c+1]);for(var l=[],f=Ey.empty(),h=s.length-1;h>=0;--h)if(!TT(l,s[h])){var d=s[h],p=u[h];p=Vr(p);var v=o.Bc(d);if(p instanceof cT)l.push(d);else{var m=gT(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Jm(l);return new rT(f,y,o.fieldTransforms)}function yT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return gT(n,e.Qc(r?4:3,t))}function gT(e,t){if(bT(e=Vr(e)))return wT("Unsupported field value:",t,e),kT(e,t);if(e instanceof ZI)return function(e,t){if(!iT(t.$c))throw t.qc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.qc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.$c)throw t.qc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=er(e);try{for(a.s();!(n=a.n()).done;){var o=gT(n.value,t.Uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Vr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return hg(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Bm.fromDate(e);return{timestampValue:bk(t.k,n)}}if(e instanceof Bm){var r=new Bm(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:bk(t.k,r)}}if(e instanceof eT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof $I)return{bytesValue:wk(t.k,e._byteString)};if(e instanceof RI){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.qc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Ek(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.qc("Unsupported field value: ".concat(TI(e)))}(e,t)}function kT(e,t){var n={};return Km(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wm(e,(function(e,r){var i=gT(r,t.Mc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function bT(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Bm||e instanceof eT||e instanceof $I||e instanceof RI||e instanceof ZI)}function wT(e,t,n){if(!bT(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=TI(n);throw"an object"===r?t.qc(e+" a custom object"):t.qc(e+" "+r)}}function xT(e,t,n){if((t=Vr(t))instanceof JI)return t._internalPath;if("string"==typeof t)return ET(e,t);throw IT("Field path arguments must be of type string or ",e,!1,void 0,n)}var _T=new RegExp("[~\\*/\\[\\]]");function ET(e,t,n){if(t.search(_T)>=0)throw IT("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return ur(JI,Br(t.split(".")))._internalPath}catch(r){throw IT("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function IT(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Tm(Im.INVALID_ARGUMENT,s+e+u)}function TT(e,t){return e.some((function(e){return e.isEqual(t)}))}var ST=function(){function e(t,n,r,i,a){Jn(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Zn(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new RI(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new CT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(NT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),CT=function(e){nr(n,e);var t=sr(n);function n(){return Jn(this,n),t.apply(this,arguments)}return Zn(n,[{key:"data",value:function(){return Ui(rr(n.prototype),"data",this).call(this)}}]),n}(ST);function NT(e,t){return"string"==typeof t?ET(e,t):t instanceof JI?t._internalPath:t._delegate._internalPath}var AT=function(){function e(t,n){Jn(this,e),this.hasPendingWrites=t,this.fromCache=n}return Zn(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),PT=function(e){nr(n,e);var t=sr(n);function n(e,r,i,a,o,s){var u;return Jn(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return Zn(n,[{key:"exists",value:function(){return Ui(rr(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new RT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(NT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(ST),RT=function(e){nr(n,e);var t=sr(n);function n(){return Jn(this,n),t.apply(this,arguments)}return Zn(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ui(rr(n.prototype),"data",this).call(this,e)}}]),n}(PT),OT=function(){function e(t,n,r,i){Jn(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new AT(i.hasPendingWrites,i.fromCache),this.query=r}return Zn(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new RT(n._firestore,n._userDataWriter,r.key,r,new AT(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Tm(Im.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new RT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new AT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new RT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new AT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:DT(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function DT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xm()}}function LT(e,t){return e instanceof PT&&t instanceof PT?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof OT&&t instanceof OT&&e._firestore===t._firestore&&FI(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function MT(e){if(Jy(e)&&0===e.explicitOrderBy.length)throw new Tm(Im.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var jT=Zn((function e(){Jn(this,e)}));function FT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var UT=function(e){nr(n,e);var t=sr(n);function n(e,r,i){var a;return Jn(this,n),(a=t.call(this)).zc=e,a.Hc=r,a.Jc=i,a.type="where",a}return Zn(n,[{key:"_apply",value:function(e){var t=sT(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Tm(Im.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){XT(o,a);var u,c=[],l=er(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(YT(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=YT(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||XT(o,a),s=yT(n,"where",o,"in"===a||"not-in"===a);var h=Ry.create(i,a,s);return function(e,t){if(t.V()){var n=Zy(e);if(null!==n&&!n.isEqual(t.field))throw new Tm(Im.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=$y(e);null!==r&&JT(e,t.field,r)}var i=function(e,t){var n,r=er(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Tm(Im.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Tm(Im.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new OI(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Gy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(jT);var VT=function(e){nr(n,e);var t=sr(n);function n(e,r){var i;return Jn(this,n),(i=t.call(this)).zc=e,i.Yc=r,i.type="orderBy",i}return Zn(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Tm(Im.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Tm(Im.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new zy(t,n);return function(e,t){if(null===$y(e)){var n=Zy(e);null!==n&&JT(e,n,t.field)}}(e,r),r}(e._query,this.zc,this.Yc);return new OI(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Gy(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(jT);var qT=function(e){nr(n,e);var t=sr(n);function n(e,r,i){var a;return Jn(this,n),(a=t.call(this)).type=e,a.Xc=r,a.Zc=i,a}return Zn(n,[{key:"_apply",value:function(e){return new OI(e.firestore,e.converter,rg(e._query,this.Xc,this.Zc))}}]),n}(jT);var BT=function(e){nr(n,e);var t=sr(n);function n(e,r,i){var a;return Jn(this,n),(a=t.call(this)).type=e,a.ta=r,a.ea=i,a}return Zn(n,[{key:"_apply",value:function(e){var t=QT(e,this.type,this.ta,this.ea);return new OI(e.firestore,e.converter,function(e,t){return new Gy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(jT);function zT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new BT("startAt",t,!0)}function HT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new BT("startAfter",t,!1)}var WT=function(e){nr(n,e);var t=sr(n);function n(e,r,i){var a;return Jn(this,n),(a=t.call(this)).type=e,a.ta=r,a.ea=i,a}return Zn(n,[{key:"_apply",value:function(e){var t=QT(e,this.type,this.ta,this.ea);return new OI(e.firestore,e.converter,function(e,t){return new Gy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(jT);function KT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new WT("endBefore",t,!0)}function GT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new WT("endAt",t,!1)}function QT(e,t,n,r){if(n[0]=Vr(n[0]),n[0]instanceof ST)return function(e,t,n,r,i){if(!r)throw new Tm(Im.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=er(tg(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(yy(t,r.key));else{var c=r.data.field(u.field);if(ry(c))throw new Tm(Im.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Tm(Im.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new qy(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=sT(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Tm(Im.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Tm(Im.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!eg(e)&&-1!==c.indexOf("/"))throw new Tm(Im.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Qm.fromString(c));if(!cy.isDocumentKey(l))throw new Tm(Im.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new cy(l);s.push(yy(t,f))}else{var h=yT(n,r,c);s.push(h)}}return new qy(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function YT(e,t,n){if("string"==typeof(n=Vr(n))){if(""===n)throw new Tm(Im.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eg(t)&&-1!==n.indexOf("/"))throw new Tm(Im.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Qm.fromString(n));if(!cy.isDocumentKey(r))throw new Tm(Im.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return yy(e,new cy(r))}if(n instanceof RI)return yy(e,n._key);throw new Tm(Im.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(TI(n),"."))}function XT(e,t){if(!Array.isArray(e)||0===e.length)throw new Tm(Im.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Tm(Im.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function JT(e,t,n){if(!n.isEqual(t))throw new Tm(Im.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var $T=function(){function e(){Jn(this,e)}return Zn(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ly(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ty(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ny(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw xm()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Wm(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new eT(ty(e.latitude),ty(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=iy(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ay(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=ey(e);return new Bm(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Qm.fromString(e);_m(Xk(n));var r=new bI(n.get(1),n.get(3)),i=new cy(n.popFirst(5));return r.isEqual(t)||km("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function ZT(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var eS=function(e){nr(n,e);var t=sr(n);function n(e){var r;return Jn(this,n),(r=t.call(this)).firestore=e,r}return Zn(n,[{key:"convertBytes",value:function(e){return new $I(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new RI(this.firestore,null,t)}}]),n}($T),tS=function(){function e(t,n){Jn(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=sT(t)}return Zn(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=nS(e,this._firestore),i=ZT(r.converter,t,n),a=uT(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Sg.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=nS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Vr(t))||t instanceof JI?mT(this._dataReader,"WriteBatch.update",i._key,t,n,o):vT(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Sg.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=nS(e,this._firestore);return this._mutations=this._mutations.concat(new Bg(t._key,Sg.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Tm(Im.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function nS(e,t){if((e=Vr(e)).firestore!==t)throw new Tm(Im.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var rS=function(e){nr(n,e);var t=sr(n);function n(e){var r;return Jn(this,n),(r=t.call(this)).firestore=e,r}return Zn(n,[{key:"convertBytes",value:function(e){return new $I(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new RI(this.firestore,null,t)}}]),n}($T);function iS(e){e=SI(e,RI);var t=SI(e.firestore,BI),n=zI(t),r=new rS(t);return function(e,t){var n=new Sm;return e.asyncQueue.enqueueAndForget(ae(se().mark((function r(){return se().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ae(se().mark((function e(t,n,r){var i,a;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Em(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Wn.Rn(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Tm(Im.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=S_(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,hI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new PT(t,r,e._key,n,new AT(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function aS(e){e=SI(e,OI);var t=SI(e.firestore,BI),n=zI(t),r=new rS(t);return function(e,t){var n=new Sm;return e.asyncQueue.enqueueAndForget(ae(se().mark((function r(){return se().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ae(se().mark((function e(t,n,r){var i,a,o,s,u;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Jw(t,n,!0);case 3:i=e.sent,a=new G_(n,i.zn),o=a.Po(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=S_(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,hI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new OT(t,r,e,n)}))}function oS(e,t,n){e=SI(e,RI);var r=SI(e.firestore,BI),i=ZT(e.converter,t,n);return lS(r,[uT(sT(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Sg.none())])}function sS(e,t,n){e=SI(e,RI);for(var r=SI(e.firestore,BI),i=sT(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return lS(r,[("string"==typeof(t=Vr(t))||t instanceof JI?mT(i,"updateDoc",e._key,t,n,o):vT(i,"updateDoc",e._key,t)).toMutation(e._key,Sg.exists(!0))])}function uS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Vr(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||VI(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(VI(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof RI)l=SI(e.firestore,BI),f=Yy(e._key.path),c={next:function(t){n[u]&&n[u](fS(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=SI(e,OI);l=SI(p.firestore,BI),f=p._query;var v=new rS(l);c={next:function(e){n[u]&&n[u](new OT(l,v,p,e))},error:n[u+1],complete:n[u+2]},MT(e._query)}return function(e,t,n,r){var i=new $E(r),a=new V_(t,i,n);return e.asyncQueue.enqueueAndForget(ae(se().mark((function t(){return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=O_,t.next=3,vI(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.nc(),e.asyncQueue.enqueueAndForget(ae(se().mark((function t(){return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=L_,t.next=3,vI(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(zI(l),f,h,c)}function cS(e,t){return function(e,t){var n=new $E(t);return e.asyncQueue.enqueueAndForget(ae(se().mark((function t(){return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Em(e).io.add(t),t.next()},t.next=3,vI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.nc(),e.asyncQueue.enqueueAndForget(ae(se().mark((function t(){return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Em(e).io.delete(t)},t.next=3,vI(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(zI(e=SI(e,BI)),VI(t)?t:{next:t})}function lS(e,t){return function(e,t){var n=new Sm;return e.asyncQueue.enqueueAndForget(ae(se().mark((function r(){return se().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=rE,r.next=3,pI(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(zI(e),t)}function fS(e,t,n){var r=n.docs.get(t._key),i=new rS(e);return new PT(e,i,t._key,r,new AT(n.hasPendingWrites,n.fromCache),t.converter)}var hS=function(e){nr(n,e);var t=sr(n);function n(e,r){var i;return Jn(this,n),(i=t.call(this,e,r))._firestore=e,i}return Zn(n,[{key:"get",value:function(e){var t=this,r=nS(e,this._firestore),i=new rS(this._firestore);return Ui(rr(n.prototype),"get",this).call(this,e).then((function(e){return new PT(t._firestore,i,r._key,e._document,new AT(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Jn(this,e),this._firestore=t,this._transaction=n,this._dataReader=sT(t)}return Zn(e,[{key:"get",value:function(e){var t=this,n=nS(e,this._firestore),r=new eS(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return xm();var i=e[0];if(i.isFoundDocument())return new ST(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new ST(t._firestore,r,n._key,null,n.converter);throw xm()}))}},{key:"set",value:function(e,t,n){var r=nS(e,this._firestore),i=ZT(r.converter,t,n),a=uT(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=nS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Vr(t))||t instanceof JI?mT(this._dataReader,"Transaction.update",i._key,t,n,o):vT(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=nS(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function dS(e,t){return function(e,t){var n=new Sm;return e.asyncQueue.enqueueAndForget(ae(se().mark((function r(){var i;return se().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return cI(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new tI(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(zI(e=SI(e,BI)),(function(n){return t(new hS(e,n))}))}function pS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new hT("arrayUnion",t)}function vS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new dT("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){vm=e}(xi),di(new zr("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new BI(i,new Pm(e.getProvider("auth-internal")),new Lm(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Ci(dm,"3.4.3",e),Ci(dm,"3.4.3","esm2017")}();function mS(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Tm("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function yS(){if("undefined"===typeof Uint8Array)throw new Tm("unimplemented","Uint8Arrays are not available in this environment.")}function gS(){if("undefined"==typeof atob)throw new Tm("unimplemented","Blobs are unavailable in Firestore in this environment.")}var kS=function(){function e(t){Jn(this,e),this._delegate=t}return Zn(e,[{key:"toBase64",value:function(){return gS(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return yS(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return gS(),new e($I.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return yS(),new e($I.fromUint8Array(t))}}]),e}();function bS(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=er(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var wS=function(){function e(){Jn(this,e)}return Zn(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){XI(e=SI(e,BI));var n=zI(e),r=e._freezeSettings(),i=new XE;return WI(n,i,new QE(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){XI(e=SI(e,BI));var t=zI(e),n=e._freezeSettings(),r=new XE;return WI(t,r,new YE(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Tm(Im.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Sm;return e._queue.enqueueAndForgetEvenWhileRestricted(ae(se().mark((function n(){return se().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=ae(se().mark((function e(t){var n;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xb.Pt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,xb.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Dw(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),xS=function(){function e(t,n,r){var i=this;Jn(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof bI||(this._appCompat=t)}return Zn(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||bm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};PI(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return KI(this._delegate)}},{key:"disableNetwork",value:function(){return GI(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&_I("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Sm;return e.asyncQueue.enqueueAndForget(ae(se().mark((function n(){return se().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=pE,n.next=3,pI(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(zI(e=SI(e,BI)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return cS(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Tm("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new MS(this,LI(this._delegate,e))}catch(GP){throw CS(GP,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new SS(this,MI(this._delegate,e))}catch(GP){throw CS(GP,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new OS(this,function(e,t){if(e=SI(e,AI),xI("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Tm(Im.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new OI(e,null,function(e){return new Gy(Qm.emptyPath(),e)}(t))}(this._delegate,e))}catch(GP){throw CS(GP,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return dS(this._delegate,(function(n){return e(new ES(t,n))}))}},{key:"batch",value:function(){var e=this;return zI(this._delegate),new IS(new tS(this._delegate,(function(t){return lS(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return QI(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return YI(this._delegate,e).then((function(e){return e?new OS(t,e):null}))}}]),e}(),_S=function(e){nr(n,e);var t=sr(n);function n(e){var r;return Jn(this,n),(r=t.call(this)).firestore=e,r}return Zn(n,[{key:"convertBytes",value:function(e){return new kS(new $I(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return SS.forKey(t,this.firestore,null)}}]),n}($T);var ES=function(){function e(t,n){Jn(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new _S(t)}return Zn(e,[{key:"get",value:function(e){var t=this,n=jS(e);return this._delegate.get(n).then((function(e){return new PS(t._firestore,new PT(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=jS(e);return n?(mS("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=jS(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=jS(e);return this._delegate.delete(t),this}}]),e}(),IS=function(){function e(t){Jn(this,e),this._delegate=t}return Zn(e,[{key:"set",value:function(e,t,n){var r=jS(e);return n?(mS("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=jS(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=jS(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),TS=function(){function e(t,n,r){Jn(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Zn(e,[{key:"fromFirestore",value:function(e,t){var n=new RT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new RS(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new _S(t),n),i.set(n,a)),a}}]),e}();TS.INSTANCES=new WeakMap;var SS=function(){function e(t,n){Jn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new _S(t)}return Zn(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new MS(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new MS(this.firestore,LI(this._delegate,e))}catch(GP){throw CS(GP,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Vr(e))instanceof RI&&jI(this._delegate,e)}},{key:"set",value:function(e,t){t=mS("DocumentReference.set",t);try{return t?oS(this._delegate,e,t):oS(this._delegate,e)}catch(GP){throw CS(GP,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?sS(this._delegate,e):sS.apply(void 0,[this._delegate,e,t].concat(r))}catch(GP){throw CS(GP,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return lS(SI(e.firestore,BI),[new Bg(e._key,Sg.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=NS(n),a=AS(n,(function(t){return new PS(e.firestore,new PT(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return uS(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?iS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=SI(e,RI);var t=SI(e.firestore,BI);return yI(zI(t),e._key,{source:"server"}).then((function(n){return fS(t,e,n)}))}(this._delegate):function(e){e=SI(e,RI);var t=SI(e.firestore,BI);return yI(zI(t),e._key).then((function(n){return fS(t,e,n)}))}(this._delegate),t.then((function(e){return new PS(n.firestore,new PT(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(TS.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Tm("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new RI(n._delegate,r,new cy(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new RI(n._delegate,r,t))}}]),e}();function CS(e,t,n){return e.message=e.message.replace(t,n),e}function NS(e){var t,n=er(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!bS(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function AS(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=bS(e[0])?e[0]:bS(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var PS=function(){function e(t,n){Jn(this,e),this._firestore=t,this._delegate=n}return Zn(e,[{key:"ref",get:function(){return new SS(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return LT(this._delegate,e._delegate)}}]),e}(),RS=function(e){nr(n,e);var t=sr(n);function n(){return Jn(this,n),t.apply(this,arguments)}return Zn(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||xm()}(void 0!==t),t}}]),n}(PS),OS=function(){function e(t,n){Jn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new _S(t)}return Zn(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,FT(this._delegate,function(e,t,n){var r=t,i=NT("where",e);return new UT(i,r,n)}(t,n,r)))}catch(GP){throw CS(GP,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,FT(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=NT("orderBy",e);return new VT(n,t)}(t,n)))}catch(GP){throw CS(GP,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,FT(this._delegate,function(e){return CI("limit",e),new qT("limit",e,"F")}(t)))}catch(GP){throw CS(GP,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,FT(this._delegate,function(e){return CI("limitToLast",e),new qT("limitToLast",e,"L")}(t)))}catch(GP){throw CS(GP,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,FT(this._delegate,zT.apply(void 0,arguments)))}catch(GP){throw CS(GP,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,FT(this._delegate,HT.apply(void 0,arguments)))}catch(GP){throw CS(GP,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,FT(this._delegate,KT.apply(void 0,arguments)))}catch(GP){throw CS(GP,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,FT(this._delegate,GT.apply(void 0,arguments)))}catch(GP){throw CS(GP,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return FI(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?aS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=SI(e,OI);var t=SI(e.firestore,BI),n=zI(t),r=new rS(t);return gI(n,e._query,{source:"server"}).then((function(n){return new OT(t,r,e,n)}))}(this._delegate):function(e){e=SI(e,OI);var t=SI(e.firestore,BI),n=zI(t),r=new rS(t);return MT(e._query),gI(n,e._query).then((function(n){return new OT(t,r,e,n)}))}(this._delegate),t.then((function(e){return new LS(n.firestore,new OT(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=NS(n),a=AS(n,(function(t){return new LS(e.firestore,new OT(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return uS(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(TS.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),DS=function(){function e(t,n){Jn(this,e),this._firestore=t,this._delegate=n}return Zn(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new RS(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),LS=function(){function e(t,n){Jn(this,e),this._firestore=t,this._delegate=n}return Zn(e,[{key:"query",get:function(){return new OS(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new RS(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new DS(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new RS(n._firestore,r))}))}},{key:"isEqual",value:function(e){return LT(this._delegate,e._delegate)}}]),e}(),MS=function(e){nr(n,e);var t=sr(n);function n(e,r){var i;return Jn(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Zn(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new SS(this.firestore,e):null}},{key:"doc",value:function(e){try{return new SS(this.firestore,void 0===e?MI(this._delegate):MI(this._delegate,e))}catch(GP){throw CS(GP,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=SI(e.firestore,BI),r=MI(e),i=ZT(e.converter,t);return lS(n,[uT(sT(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Sg.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new SS(t.firestore,e)}))}},{key:"isEqual",value:function(e){return jI(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(TS.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(OS);function jS(e){return SI(e,RI)}var FS=function(){function e(){Jn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=ur(JI,n)}return Zn(e,[{key:"isEqual",value:function(e){return(e=Vr(e))instanceof JI&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Xm.keyField().canonicalString())}}]),e}(),US=function(){function e(t){Jn(this,e),this._delegate=t}return Zn(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new fT("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new cT("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=pS.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=vS.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new pT("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),VS={Firestore:xS,GeoPoint:eT,Timestamp:Bm,Blob:kS,Transaction:ES,WriteBatch:IS,DocumentReference:SS,DocumentSnapshot:PS,Query:OS,QueryDocumentSnapshot:RS,QuerySnapshot:LS,CollectionReference:MS,FieldPath:FS,FieldValue:US,setLogLevel:function(e){!function(e){mm.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new zr("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},VS)))}(e,(function(e,t){return new xS(e,t,new wS)})),e.registerVersion("@firebase/firestore-compat","0.1.12")}(ji);var qS="firebasestorage.googleapis.com",BS=function(e){nr(n,e);var t=sr(n);function n(e,r){var i;return Jn(this,n),(i=t.call(this,zS(e),"Firebase Storage: ".concat(r," (").concat(zS(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(tr(i),n.prototype),i}return Zn(n,[{key:"_codeEquals",value:function(e){return zS(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Ir);function zS(e){return"storage/"+e}function HS(){return new BS("unknown","An unknown error occurred, please check the error payload for server response.")}function WS(){return new BS("canceled","User canceled the upload/download.")}function KS(){return new BS("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function GS(e){return new BS("invalid-argument",e)}function QS(){return new BS("app-deleted","The Firebase app was deleted.")}function YS(e){return new BS("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function XS(e,t){return new BS("invalid-format","String does not match format '"+e+"': "+t)}function JS(e){throw new BS("internal-error","Internal error: "+e)}var $S,ZS=function(){function e(t,n){Jn(this,e),this.bucket=t,this.path_=n}return Zn(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(GP){return new e(t,"")}if(""===r.path)return r;throw new BS("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===qS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new BS("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),eC=function(){function e(t){Jn(this,e),this.promise_=Promise.reject(t)}return Zn(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function tC(e){return"string"===typeof e||e instanceof String}function nC(e){return rC()&&e instanceof Blob}function rC(){return"undefined"!==typeof Blob}function iC(e,t,n,r){if(r<t)throw GS("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw GS("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function aC(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function oC(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}($S||($S={}));var sC=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this;Jn(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return Zn(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(GP){i(GP)}else if(null!==a){var s=HS();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?QS():WS());else i(new BS("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new uC(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new uC(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===$S.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new uC(o,r))}else{var s=r.getErrorCode()===$S.ABORT;t(!1,new uC(!1,null,s))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),uC=Zn((function e(t,n,r){Jn(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function cC(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function lC(){for(var e=cC(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(rC())return new Blob(n);throw new BS("unsupported-environment","This browser doesn't seem to support creating Blobs")}var fC={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},hC=Zn((function e(t,n){Jn(this,e),this.data=t,this.contentType=n||null}));function dC(e,t){switch(e){case fC.RAW:return new hC(pC(t));case fC.BASE64:case fC.BASE64URL:return new hC(vC(e,t));case fC.DATA_URL:return new hC(function(e){var t=new mC(e);return t.base64?vC(fC.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(GP){throw XS(fC.DATA_URL,"Malformed data URL.")}return pC(t)}(t.rest)}(t),new mC(t).contentType)}throw HS()}function pC(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function vC(e,t){switch(e){case fC.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw XS(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case fC.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw XS(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(GP){throw XS(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var mC=Zn((function e(t){Jn(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw XS(fC.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var yC=function(){function e(t,n){Jn(this,e);var r=0,i="";nC(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return Zn(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(nC(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(rC()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(lC.apply(null,i))}var a=n.map((function(e){return tC(e)?dC(fC.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function gC(e){var t;try{t=JSON.parse(e)}catch(GP){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function kC(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function bC(e,t){return t}var wC=Zn((function e(t,n,r,i){Jn(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||bC})),xC=null;function _C(){if(xC)return xC;var e=[];e.push(new wC("bucket")),e.push(new wC("generation")),e.push(new wC("metageneration")),e.push(new wC("name","fullPath",!0));var t=new wC("name");t.xform=function(e,t){return function(e){return!tC(e)||e.length<2?e:kC(e)}(t)},e.push(t);var n=new wC("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new wC("timeCreated")),e.push(new wC("updated")),e.push(new wC("md5Hash",null,!0)),e.push(new wC("cacheControl",null,!0)),e.push(new wC("contentDisposition",null,!0)),e.push(new wC("contentEncoding",null,!0)),e.push(new wC("contentLanguage",null,!0)),e.push(new wC("contentType",null,!0)),e.push(new wC("metadata","customMetadata",!0)),xC=e}function EC(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new ZS(n,r);return t._makeStorageReference(i)}})}(r,e),r}function IC(e,t,n){var r=gC(t);return null===r?null:EC(e,r,n)}function TC(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function SC(e,t,n){var r=gC(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=er(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),s=e._makeStorageReference(new ZS(t,o));r.prefixes.push(s)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var u,c=er(n.items);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=e._makeStorageReference(new ZS(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var CC=Zn((function e(t,n,r,i){Jn(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function NC(e){if(!e)throw HS()}function AC(e,t){return function(n,r){var i=IC(e,r,t);return NC(null!==i),i}}function PC(e,t){return function(n,r){var i=IC(e,r,t);return NC(null!==i),function(e,t,n,r){var i=gC(t);if(null===i)return null;if(!tC(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return aC("/b/"+o(i)+"/o/"+o(a),n,r)+oC({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function RC(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new BS("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new BS("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new BS("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new BS("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function OC(e){var t=RC(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new BS("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function DC(e,t,n){var r=aC(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new CC(r,"GET",AC(e,n),i);return a.errorHandler=OC(t),a}function LC(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=aC(t.bucketOnlyServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,u=new CC(o,"GET",function(e,t){return function(n,r){var i=SC(e,t,r);return NC(null!==i),i}}(e,t.bucket),s);return u.urlParams=a,u.errorHandler=RC(t),u}function MC(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function jC(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=MC(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+TC(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=yC.getBlob(c,r,l);if(null===f)throw KS();var h={name:u.fullPath},d=aC(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new CC(d,"POST",AC(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=RC(t),v}var FC=Zn((function e(t,n,r,i){Jn(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function UC(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(GP){NC(!1)}return NC(!!n&&-1!==(t||["active"]).indexOf(n)),n}var VC=262144;function qC(e,t,n,r,i,a,o,s){var u=new FC(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new BS("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,h);if(null===p)throw KS();var v=t.maxUploadRetryTime,m=new CC(n,"POST",(function(e,n){var i,o=UC(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===o?AC(t,a)(e,n):null,new FC(s,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=RC(e),m}var BC={STATE_CHANGED:"state_changed"},zC={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function HC(e){switch(e){case"running":case"pausing":case"canceling":return zC.RUNNING;case"paused":return zC.PAUSED;case"success":return zC.SUCCESS;case"canceled":return zC.CANCELED;default:return zC.ERROR}}var WC=Zn((function e(t,n,r){Jn(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function KC(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var GC=function(){function e(){var t=this;Jn(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$S.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=$S.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=$S.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return Zn(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw JS("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw JS("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw JS("cannot .getStatus() before sending");try{return this.xhr_.status}catch(GP){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw JS("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw JS("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),QC=function(e){nr(n,e);var t=sr(n);function n(){return Jn(this,n),t.apply(this,arguments)}return Zn(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(GC);function YC(){return new QC}var XC=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Jn(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=_C(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return Zn(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=u(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=MC(t,r,i),s={name:o.fullPath},u=aC(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=TC(o,n),f=e.maxUploadRetryTime,h=new CC(u,"POST",(function(e){var t;UC(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(GP){NC(!1)}return NC(tC(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=RC(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,YC,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new CC(n,"POST",(function(e){var t=UC(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(GP){NC(!1)}n||NC(!1);var i=Number(n);return NC(!isNaN(i)),new FC(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=RC(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,YC,n,r);e._request=a,a.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=VC*this._chunkMultiplier,n=new FC(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=qC(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(GP){return e._error=GP,void e._transition("error")}var s=e._ref.storage._makeRequest(o,YC,i,a);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){VC*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=DC(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,YC,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=jC(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,YC,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=WS(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=HC(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new WC(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(HC(this._state)){case zC.SUCCESS:KC(this._resolve.bind(null,this.snapshot))();break;case zC.CANCELED:case zC.ERROR:KC(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(HC(this._state)){case zC.RUNNING:case zC.PAUSED:e.next&&KC(e.next.bind(e,this.snapshot))();break;case zC.SUCCESS:e.complete&&KC(e.complete.bind(e))();break;default:e.error&&KC(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),JC=function(){function e(t,n){Jn(this,e),this._service=t,this._location=n instanceof ZS?n:ZS.makeFromUrl(n,t.host)}return Zn(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new ZS(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return kC(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new ZS(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw YS(e)}}]),e}();function $C(e,t,n){return ZC.apply(this,arguments)}function ZC(){return(ZC=ae(se().mark((function e(t,n,r){var i,a,o,s;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,eN(t,o);case 3:if(s=e.sent,(i=n.prefixes).push.apply(i,Br(s.prefixes)),(a=n.items).push.apply(a,Br(s.items)),null==s.nextPageToken){e.next=9;break}return e.next=9,$C(t,n,s.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eN(e,t){null!=t&&"number"===typeof t.maxResults&&iC("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=LC(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,YC)}function tN(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=aC(t.fullServerUrl(),e.host,e._protocol),a=TC(n,r),o=e.maxOperationRetryTime,s=new CC(i,"PATCH",AC(e,r),o);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=a,s.errorHandler=OC(t),s}(e.storage,e._location,t,_C());return e.storage.makeRequestWithTokens(n,YC)}function nN(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=aC(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new CC(r,"GET",PC(e,n),i);return a.errorHandler=OC(t),a}(e.storage,e._location,_C());return e.storage.makeRequestWithTokens(t,YC).then((function(e){if(null===e)throw new BS("no-download-url","The given file does not have any download URLs.");return e}))}function rN(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=aC(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new CC(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=OC(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,YC)}function iN(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new ZS(e._location.bucket,n);return new JC(e.storage,r)}function aN(e,t){if(e instanceof cN){var n=e;if(null==n._bucket)throw new BS("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new JC(n,n._bucket);return null!=t?aN(r,t):r}return void 0!==t?iN(e,t):e}function oN(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof cN)return new JC(e,t);throw GS("To use ref(service, url), the first argument must be a Storage instance.")}return aN(e,t)}function sN(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:ZS.makeFromBucketSpec(n,e)}function uN(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:mr(i,e.app.options.projectId))}var cN=function(){function e(t,n,r,i,a){Jn(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=qS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?ZS.makeFromBucketSpec(i,this._host):sN(this._host,this.app.options)}return Zn(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=ZS.makeFromBucketSpec(this._url,e):this._bucket=sN(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){iC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){iC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=ae(se().mark((function e(){var t,n;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=ae(se().mark((function e(){var t,n;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new JC(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new eC(QS());var a=function(e,t,n,r,i,a){var o=oC(e.urlParams),s=e.url+o,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new sC(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=ae(se().mark((function e(t,n){var r,i,a,o;return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=u(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),lN="@firebase/storage",fN="0.9.1",hN="storage";function dN(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new XC(e,new yC(t),n)}(e=Vr(e),t,n)}function pN(e){return function(e){e._throwIfRoot("getMetadata");var t=DC(e.storage,e._location,_C());return e.storage.makeRequestWithTokens(t,YC)}(e=Vr(e))}function vN(e){return function(e){var t={prefixes:[],items:[]};return $C(e,t).then((function(){return t}))}(e=Vr(e))}function mN(e,t){return oN(e=Vr(e),t)}function yN(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};uN(e,t,n,r)}function gN(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new cN(r,i,a,n,xi)}di(new zr(hN,gN,"PUBLIC").setMultipleInstances(!0)),Ci(lN,fN,""),Ci(lN,fN,"esm2017");var kN=function(){function e(t,n,r){Jn(this,e),this._delegate=t,this.task=n,this.ref=r}return Zn(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),bN=function(){function e(t,n){Jn(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Zn(e,[{key:"snapshot",get:function(){return new kN(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new kN(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new kN(e,i,i._ref))}:{next:t.next?function(e){return t.next(new kN(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),wN=function(){function e(t,n){Jn(this,e),this._delegate=t,this._service=n}return Zn(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new xN(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new xN(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),xN=function(){function e(t,n){Jn(this,e),this._delegate=t,this.storage=n}return Zn(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return iN(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new bN(dN(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fC.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=dC(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new bN(new XC(this._delegate,new yC(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return vN(this._delegate).then((function(t){return new wN(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return eN(e=Vr(e),t)}(this._delegate,e||void 0).then((function(e){return new wN(e,t.storage)}))}},{key:"getMetadata",value:function(){return pN(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return tN(e=Vr(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return nN(Vr(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),rN(Vr(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw YS(e)}}]),e}(),_N=function(){function e(t,n){Jn(this,e),this.app=t,this._delegate=n}return Zn(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(EN(e))throw GS("ref() expected a child path but got a URL, use refFromURL instead.");return new xN(mN(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!EN(e))throw GS("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ZS.makeFromUrl(e,this._delegate.host)}catch(GP){throw GS("refFromUrl() expected a valid full URL but got an invalid one.")}return new xN(mN(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};yN(this._delegate,e,t,n)}}]),e}();function EN(e){return/^[A-Za-z]+:\/\//.test(e)}function IN(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new _N(r,i)}!function(e){var t={TaskState:zC,TaskEvent:BC,StringFormat:fC,Storage:_N,Reference:xN};e.INTERNAL.registerComponent(new zr("storage-compat",IN,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.9")}(ji);var TN,SN=n(494),CN="@firebase/installations",NN="0.5.5",AN=1e4,PN="w:".concat(NN),RN="FIS_v2",ON=36e5,DN=(ue(TN={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),ue(TN,"not-registered","Firebase Installation is not registered."),ue(TN,"installation-not-found","Firebase Installation not found."),ue(TN,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),ue(TN,"app-offline","Could not process request. Application offline."),ue(TN,"delete-pending-registration","Can't delete installation while there is a pending registration request."),TN),LN=new Tr("installations","Installations",DN);function MN(e){return e instanceof Ir&&e.code.includes("request-failed")}function jN(e){var t=e.projectId;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function FN(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function UN(e,t){return VN.apply(this,arguments)}function VN(){return(VN=ae(oe.mark((function e(t,n){var r,i;return oe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",LN.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qN(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function BN(e,t){var n=t.refreshToken,r=qN(e);return r.append("Authorization",function(e){return"".concat(RN," ").concat(e)}(n)),r}function zN(e){return HN.apply(this,arguments)}function HN(){return HN=ae(oe.mark((function e(t){var n;return oe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),HN.apply(this,arguments)}function WN(e,t){return KN.apply(this,arguments)}function KN(){return(KN=ae(oe.mark((function e(t,n){var r,i,a,o,s,u,c,l;return oe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.fid,i=jN(t),a=qN(t),o={fid:r,authVersion:RN,appId:t.appId,sdkVersion:PN},s={method:"POST",headers:a,body:JSON.stringify(o)},e.next=7,zN((function(){return fetch(i,s)}));case 7:if(!(u=e.sent).ok){e.next=16;break}return e.next=11,u.json();case 11:return c=e.sent,l={fid:c.fid||r,registrationStatus:2,refreshToken:c.refreshToken,authToken:FN(c.authToken)},e.abrupt("return",l);case 16:return e.next=18,UN("Create Installation",u);case 18:throw e.sent;case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GN(e){return new Promise((function(t){setTimeout(t,e)}))}var QN=/^[cdef][\w-]{21}$/;function YN(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,Br(t))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return QN.test(t)?t:""}catch(wI){return""}}function XN(e){return"".concat(e.appName,"!").concat(e.appId)}var JN=new Map;function $N(e,t){var n=XN(e);ZN(n,t),function(e,t){var n=tA();n&&n.postMessage({key:e,fid:t});nA()}(n,t)}function ZN(e,t){var n=JN.get(e);if(n){var r,i=er(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var eA=null;function tA(){return!eA&&"BroadcastChannel"in self&&((eA=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){ZN(e.data.key,e.data.fid)}),eA}function nA(){0===JN.size&&eA&&(eA.close(),eA=null)}var rA="firebase-installations-store",iA=null;function aA(){return iA||(iA=(0,SN.openDb)("firebase-installations-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(rA)}))),iA}function oA(e,t){return sA.apply(this,arguments)}function sA(){return sA=ae(oe.mark((function e(t,n){var r,i,a,o,s;return oe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=XN(t),e.next=3,aA();case 3:return i=e.sent,a=i.transaction(rA,"readwrite"),o=a.objectStore(rA),e.next=8,o.get(r);case 8:return s=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.complete;case 13:return s&&s.fid===n.fid||$N(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)}))),sA.apply(this,arguments)}function uA(e){return cA.apply(this,arguments)}function cA(){return cA=ae(oe.mark((function e(t){var n,r,i;return oe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=XN(t),e.next=3,aA();case 3:return r=e.sent,i=r.transaction(rA,"readwrite"),e.next=7,i.objectStore(rA).delete(n);case 7:return e.next=9,i.complete;case 9:case"end":return e.stop()}}),e)}))),cA.apply(this,arguments)}function lA(e,t){return fA.apply(this,arguments)}function fA(){return fA=ae(oe.mark((function e(t,n){var r,i,a,o,s,u;return oe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=XN(t),e.next=3,aA();case 3:return i=e.sent,a=i.transaction(rA,"readwrite"),o=a.objectStore(rA),e.next=8,o.get(r);case 8:if(s=e.sent,void 0!==(u=n(s))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(u,r);case 17:return e.next=19,a.complete;case 19:return!u||s&&s.fid===u.fid||$N(t,u.fid),e.abrupt("return",u);case 21:case"end":return e.stop()}}),e)}))),fA.apply(this,arguments)}function hA(e){return dA.apply(this,arguments)}function dA(){return(dA=ae(oe.mark((function e(t){var n,r;return oe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lA(t,(function(e){var r=pA(e),i=vA(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if(""!==(r=e.sent).fid){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pA(e){return bA(e||{fid:YN(),registrationStatus:0})}function vA(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(LN.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return mA.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:yA(e)}:{installationEntry:t}}function mA(){return(mA=ae(oe.mark((function e(t,n){var r;return oe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,WN(t,n);case 3:return r=e.sent,e.abrupt("return",oA(t,r));case 7:if(e.prev=7,e.t0=e.catch(0),!MN(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,uA(t);case 12:e.next=16;break;case 14:return e.next=16,oA(t,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function yA(e){return gA.apply(this,arguments)}function gA(){return(gA=ae(oe.mark((function e(t){var n,r,i,a;return oe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kA(t);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,GN(100);case 6:return e.next=8,kA(t);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,hA(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kA(e){return lA(e,(function(e){if(!e)throw LN.create("installation-not-found");return bA(e)}))}function bA(e){return 1===(t=e).registrationStatus&&t.registrationTime+AN<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function wA(e,t){return xA.apply(this,arguments)}function xA(){return(xA=ae(oe.mark((function e(t,n){var r,i,a,o,s,u,c,l,f,h;return oe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appConfig,i=t.platformLoggerProvider,a=_A(r,n),o=BN(r,n),(s=i.getImmediate({optional:!0}))&&o.append("x-firebase-client",s.getPlatformInfoString()),u={installation:{sdkVersion:PN}},c={method:"POST",headers:o,body:JSON.stringify(u)},e.next=9,zN((function(){return fetch(a,c)}));case 9:if(!(l=e.sent).ok){e.next=18;break}return e.next=13,l.json();case 13:return f=e.sent,h=FN(f),e.abrupt("return",h);case 18:return e.next=20,UN("Generate Auth Token",l);case 20:throw e.sent;case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _A(e,t){var n=t.fid;return"".concat(jN(e),"/").concat(n,"/authTokens:generate")}function EA(e){return IA.apply(this,arguments)}function IA(){return IA=ae(oe.mark((function e(t){var n,r,i,a,o=arguments;return oe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,lA(t.appConfig,(function(e){if(!PA(e))throw LN.create("not-registered");var i=e.authToken;if(!n&&RA(i))return e;if(1===i.requestStatus)return r=TA(t,n),e;if(!navigator.onLine)throw LN.create("app-offline");var a=OA(e);return r=NA(t,a),a}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),IA.apply(this,arguments)}function TA(e,t){return SA.apply(this,arguments)}function SA(){return(SA=ae(oe.mark((function e(t,n){var r,i;return oe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,CA(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,GN(100);case 6:return e.next=8,CA(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",EA(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function CA(e){return lA(e,(function(e){if(!PA(e))throw LN.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+AN<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function NA(e,t){return AA.apply(this,arguments)}function AA(){return(AA=ae(oe.mark((function e(t,n){var r,i,a;return oe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wA(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,oA(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!MN(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,uA(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,oA(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function PA(e){return void 0!==e&&2===e.registrationStatus}function RA(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+ON}(e)}function OA(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function DA(){return(DA=ae(oe.mark((function e(t){var n,r,i,a;return oe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,hA(n.appConfig);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):EA(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function LA(){return LA=ae(oe.mark((function e(t){var n,r,i,a=arguments;return oe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,MA(r.appConfig);case 4:return e.next=6,EA(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)}))),LA.apply(this,arguments)}function MA(e){return jA.apply(this,arguments)}function jA(){return(jA=ae(oe.mark((function e(t){var n,r;return oe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hA(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function FA(e){return LN.create("missing-app-config-values",{valueName:e})}var UA,VA="installations",qA=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw FA("App Configuration");if(!e.name)throw FA("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw FA(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,platformLoggerProvider:pi(t,"platform-logger"),_delete:function(){return Promise.resolve()}}},BA=function(e){var t=pi(e.getProvider("app").getImmediate(),VA).getImmediate(),n={getId:function(){return function(e){return DA.apply(this,arguments)}(t)},getToken:function(e){return function(e){return LA.apply(this,arguments)}(t,e)}};return n};di(new zr(VA,qA,"PUBLIC")),di(new zr("installations-internal",BA,"PRIVATE")),Ci(CN,NN),Ci(CN,NN,"esm2017");var zA="analytics",HA=6e4,WA="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",KA="https://www.googletagmanager.com/gtag/js",GA=new ni("@firebase/analytics");function QA(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function YA(e,t){var n=document.createElement("script");n.src="".concat(KA,"?l=").concat(e,"&id=").concat(t),n.async=!0,document.head.appendChild(n)}function XA(e,t,n,r,i,a){return JA.apply(this,arguments)}function JA(){return JA=ae(oe.mark((function e(t,n,r,i,a,o){var s,u,c;return oe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=i[a],e.prev=1,!s){e.next=7;break}return e.next=5,n[s];case 5:e.next=14;break;case 7:return e.next=9,QA(r);case 9:if(u=e.sent,c=u.find((function(e){return e.measurementId===a})),!c){e.next=14;break}return e.next=14,n[c.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),GA.error(e.t0);case 19:t("config",a,o);case 20:case"end":return e.stop()}}),e,null,[[1,16]])}))),JA.apply(this,arguments)}function $A(e,t,n,r,i){return ZA.apply(this,arguments)}function ZA(){return ZA=ae(oe.mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return oe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=[],!a||!a.send_to){e.next=26;break}return s=a.send_to,Array.isArray(s)||(s=[s]),e.next=7,QA(r);case 7:u=e.sent,c=er(s),e.prev=9,f=function(){var e=l.value,t=u.find((function(t){return t.measurementId===e})),r=t&&n[t.appId];if(!r)return o=[],"break";o.push(r)},c.s();case 12:if((l=c.n()).done){e.next=18;break}if("break"!==f()){e.next=16;break}return e.abrupt("break",18);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),c.e(e.t0);case 23:return e.prev=23,c.f(),e.finish(23);case 26:return 0===o.length&&(o=Object.values(n)),e.next=29,Promise.all(o);case 29:t("event",i,a||{}),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),GA.error(e.t1);case 35:case"end":return e.stop()}}),e,null,[[0,32],[9,20,23,26]])}))),ZA.apply(this,arguments)}function eP(e,t,n,r,i){var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=function(e,t,n,r){function i(){return(i=ae(oe.mark((function i(a,o,s){return oe.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,"event"!==a){i.next=6;break}return i.next=4,$A(e,t,n,o,s);case 4:i.next=12;break;case 6:if("config"!==a){i.next=11;break}return i.next=9,XA(e,t,n,r,o,s);case 9:i.next=12;break;case 11:e("set",o);case 12:i.next=17;break;case 14:i.prev=14,i.t0=i.catch(0),GA.error(i.t0);case 17:case"end":return i.stop()}}),i,null,[[0,14]])})))).apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}function tP(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(KA))return r}return null}var nP=(ue(UA={},"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),ue(UA,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),ue(UA,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),ue(UA,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),ue(UA,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),ue(UA,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),ue(UA,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),ue(UA,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),ue(UA,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),ue(UA,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),UA),rP=new Tr("analytics","Analytics",nP),iP=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;Jn(this,e),this.throttleMetadata=t,this.intervalMillis=n}return Zn(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}(),aP=new iP;function oP(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function sP(e){return uP.apply(this,arguments)}function uP(){return uP=ae(oe.mark((function e(t){var n,r,i,a,o,s,u,c;return oe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,i=t.apiKey,a={method:"GET",headers:oP(i)},o=WA.replace("{app-id}",r),e.next=5,fetch(o,a);case 5:if(200===(s=e.sent).status||304===s.status){e.next=18;break}return u="",e.prev=8,e.next=11,s.json();case 11:c=e.sent,(null===(n=c.error)||void 0===n?void 0:n.message)&&(u=c.error.message),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:throw rP.create("config-fetch-failed",{httpStatus:s.status,responseMessage:u});case 18:return e.abrupt("return",s.json());case 19:case"end":return e.stop()}}),e,null,[[8,15]])}))),uP.apply(this,arguments)}function cP(e){return lP.apply(this,arguments)}function lP(){return lP=ae(oe.mark((function e(t){var n,r,i,a,o,s,u,c,l=arguments;return oe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:aP,r=l.length>2?l[2]:void 0,i=t.options,a=i.appId,o=i.apiKey,s=i.measurementId,a){e.next=5;break}throw rP.create("no-app-id");case 5:if(o){e.next=9;break}if(!s){e.next=8;break}return e.abrupt("return",{measurementId:s,appId:a});case 8:throw rP.create("no-api-key");case 9:return u=n.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new vP,setTimeout(ae(oe.mark((function e(){return oe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.abort();case 1:case"end":return e.stop()}}),e)}))),void 0!==r?r:HA),e.abrupt("return",fP({appId:a,apiKey:o,measurementId:s},u,c,n));case 13:case"end":return e.stop()}}),e)}))),lP.apply(this,arguments)}function fP(e,t,n){return hP.apply(this,arguments)}function hP(){return hP=ae(oe.mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h=arguments;return oe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,a=n.backoffCount,o=h.length>3&&void 0!==h[3]?h[3]:aP,s=t.appId,u=t.measurementId,e.prev=3,e.next=6,dP(r,i);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!u){e.next=13;break}return GA.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(u)+' provided in the "measurementId" field in the local Firebase config. ['.concat(e.t0.message,"]")),e.abrupt("return",{appId:s,measurementId:u});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,sP(t);case 17:return c=e.sent,o.deleteThrottleMetadata(s),e.abrupt("return",c);case 22:if(e.prev=22,e.t1=e.catch(14),pP(e.t1)){e.next=32;break}if(o.deleteThrottleMetadata(s),!u){e.next=31;break}return GA.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(u)+' provided in the "measurementId" field in the local Firebase config. ['.concat(e.t1.message,"]")),e.abrupt("return",{appId:s,measurementId:u});case 31:throw e.t1;case 32:return l=503===Number(e.t1.customData.httpStatus)?Ur(a,o.intervalMillis,30):Ur(a,o.intervalMillis),f={throttleEndTimeMillis:Date.now()+l,backoffCount:a+1},o.setThrottleMetadata(s,f),GA.debug("Calling attemptFetch again in ".concat(l," millis")),e.abrupt("return",fP(t,f,r,o));case 37:case"end":return e.stop()}}),e,null,[[3,8],[14,22]])}))),hP.apply(this,arguments)}function dP(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r(rP.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function pP(e){if(!(e instanceof Ir)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var vP=function(){function e(){Jn(this,e),this.listeners=[]}return Zn(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}();function mP(){return yP.apply(this,arguments)}function yP(){return(yP=ae(oe.mark((function e(){return oe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_r()){e.next=5;break}return GA.warn(rP.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,Er();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),GA.warn(rP.create("indexeddb-unavailable",{errorInfo:e.t0}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[5,10]])})))).apply(this,arguments)}function gP(){return gP=ae(oe.mark((function e(t,n,r,i,a,o,s){var c,l,f,h,d,p,v,m;return oe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(l=cP(t)).then((function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&GA.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return GA.error(e)})),n.push(l),f=mP().then((function(e){return e?i.getId():void 0})),e.next=6,Promise.all([l,f]);case 6:return h=e.sent,d=u(h,2),p=d[0],v=d[1],tP()||YA(o,p.measurementId),a("js",new Date),(m=null!==(c=null===s||void 0===s?void 0:s.config)&&void 0!==c?c:{}).origin="firebase",m.update=!0,null!=v&&(m.firebase_id=v),a("config",p.measurementId,m),e.abrupt("return",p.measurementId);case 18:case"end":return e.stop()}}),e)}))),gP.apply(this,arguments)}var kP,bP,wP=function(){function e(t){Jn(this,e),this.app=t}return Zn(e,[{key:"_delete",value:function(){return delete xP[this.app.options.appId],Promise.resolve()}}]),e}(),xP={},_P=[],EP={},IP="dataLayer",TP="gtag",SP=!1;function CP(){var e=[];if(br()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),n=rP.create("invalid-analytics-context",{errorInfo:t});GA.warn(n.message)}}function NP(e,t,n){CP();var r=e.options.appId;if(!r)throw rP.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw rP.create("no-api-key");GA.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=xP[r])throw rP.create("already-exists",{id:r});if(!SP){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(IP);var i=eP(xP,_P,EP,IP,TP),a=i.wrappedGtag,o=i.gtagCore;bP=a,kP=o,SP=!0}return xP[r]=function(e,t,n,r,i,a,o){return gP.apply(this,arguments)}(e,_P,EP,t,kP,IP,n),new wP(e)}function AP(){return AP=ae(oe.mark((function e(t,n,r,i,a){var o,s;return oe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.global){e.next=5;break}return t("event",r,i),e.abrupt("return");case 5:return e.next=7,n;case 7:o=e.sent,s=Object.assign(Object.assign({},i),{send_to:o}),t("event",r,s);case 10:case"end":return e.stop()}}),e)}))),AP.apply(this,arguments)}function PP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=pi(e,zA);if(n.isInitialized()){var r=n.getImmediate();if(Ar(t,n.getOptions()))return r;throw rP.create("already-initialized")}var i=n.initialize({options:t});return i}function RP(e,t,n,r){e=Vr(e),function(e,t,n,r,i){return AP.apply(this,arguments)}(bP,xP[e.app.options.appId],t,n,r).catch((function(e){return GA.error(e)}))}var OP="@firebase/analytics",DP="0.7.5";di(new zr(zA,(function(e,t){var n=t.options;return NP(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),di(new zr("analytics-internal",(function(e){try{var t=e.getProvider(zA).getImmediate();return{logEvent:function(e,n,r){return RP(t,e,n,r)}}}catch(GP){throw rP.create("interop-component-reg-failed",{reason:GP})}}),"PRIVATE")),Ci(OP,DP),Ci(OP,DP,"esm2017");var LP=ji.initializeApp({apiKey:"AIzaSyCPGqmziPBIQahzwiDg9w95w0qzKDlpH3k",authDomain:"npotw-production.firebaseapp.com",databaseURL:"https://npotw-production-default-rtdb.europe-west1.firebasedatabase.app",projectId:"npotw-production",storageBucket:"npotw-production.appspot.com",messagingSenderId:"938102620349",appId:"1:938102620349:web:63c556beb2e8f3486cb7d4",measurementId:"G-NS4D0MNEQV"}),MP=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ei(),t=pi(e=Vr(e),zA);t.isInitialized()?t.getImmediate():PP(e)}(LP),LP.auth()),jP=(ji.storage(),ji.firestore(),ji.firestore.FieldValue.serverTimestamp,t.createContext());function FP(){return(0,t.useContext)(jP)}function UP(e){var n=e.children,r=u((0,t.useState)(),2),i=r[0],a=r[1],o=u((0,t.useState)(!0),2),s=o[0],c=o[1];(0,t.useEffect)((function(){return MP.onAuthStateChanged((function(e){a(e),c(!1)}))}),[]);var l={currentUser:i,login:function(e,t){return MP.signInWithEmailAndPassword(e,t)},signup:function(e,t){return MP.createUserWithEmailAndPassword(e,t)},logout:function(){return MP.signOut()},resetPassword:function(e){return MP.sendPasswordResetEmail(e)}};return(0,$.jsx)(jP.Provider,{value:l,children:!s&&n})}function VP(){var e=(0,t.useRef)(),n=(0,t.useRef)(),r=FP().login,i=u((0,t.useState)(""),2),a=i[0],o=i[1],s=u((0,t.useState)(!1),2),c=s[0],l=s[1],f=A();function h(){return(h=ae(se().mark((function t(i){return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.preventDefault(),t.prev=1,o(""),l(!0),t.next=6,r(e.current.value,n.current.value);case 6:f("/dashboard"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),o("Failed to sign in!");case 12:l(!1);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))).apply(this,arguments)}return(0,$.jsx)($.Fragment,{children:(0,$.jsxs)("div",{className:"main-container",children:[(0,$.jsx)(qe,{children:(0,$.jsxs)(qe.Body,{children:[(0,$.jsx)("h2",{className:"text-center mb-4",children:"Log in"}),a&&(0,$.jsx)(Zt,{variant:"danger",children:a}),(0,$.jsxs)(Gn,{onSubmit:function(e){return h.apply(this,arguments)},children:[(0,$.jsxs)(Gn.Group,{id:"email",children:[(0,$.jsx)(Gn.Label,{children:"Email"}),(0,$.jsx)(Gn.Control,{type:"email",ref:e,required:!0})]}),(0,$.jsxs)(Gn.Group,{id:"password",children:[(0,$.jsx)(Gn.Label,{children:"Password"}),(0,$.jsx)(Gn.Control,{type:"password",ref:n,required:!0})]}),(0,$.jsx)(Xn,{disabled:c,className:"w-100 mt-3",type:"submit",children:"Log in"})]}),(0,$.jsx)("div",{className:"card-forgotetc w-100 text-center mt-2",children:(0,$.jsx)(J,{to:"/forgot-password",children:"Forgot password?"})})]})}),(0,$.jsxs)("div",{className:"card-forgotetc w-100 text-center mt-2",children:["Need an account? ",(0,$.jsx)(J,{to:"/signup",children:"Sign up"})]})]})})}function qP(){var e=(0,t.useRef)(),n=(0,t.useRef)(),r=(0,t.useRef)(),i=FP().signup,a=u((0,t.useState)(""),2),o=a[0],s=a[1],c=u((0,t.useState)(!1),2),l=c[0],f=c[1],h=A();function d(){return(d=ae(se().mark((function t(a){return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n.current.value===r.current.value){t.next=3;break}return t.abrupt("return",s("Passwords do not match!"));case 3:return t.prev=3,s(""),f(!0),t.next=8,i(e.current.value,n.current.value);case 8:h("/dashboard"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),s("Failed to create an account!");case 14:f(!1);case 15:case"end":return t.stop()}}),t,null,[[3,11]])})))).apply(this,arguments)}return(0,$.jsx)($.Fragment,{children:(0,$.jsxs)("div",{className:"main-container",children:[(0,$.jsx)(qe,{children:(0,$.jsxs)(qe.Body,{children:[(0,$.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),o&&(0,$.jsx)(Zt,{variant:"danger",children:o}),(0,$.jsxs)(Gn,{onSubmit:function(e){return d.apply(this,arguments)},children:[(0,$.jsxs)(Gn.Group,{id:"email",children:[(0,$.jsx)(Gn.Label,{children:"Email"}),(0,$.jsx)(Gn.Control,{type:"email",ref:e,required:!0})]}),(0,$.jsxs)(Gn.Group,{id:"password",children:[(0,$.jsx)(Gn.Label,{children:"Password"}),(0,$.jsx)(Gn.Control,{type:"password",ref:n,required:!0})]}),(0,$.jsxs)(Gn.Group,{id:"password-confirm",children:[(0,$.jsx)(Gn.Label,{children:"Password Confirmation"}),(0,$.jsx)(Gn.Control,{type:"password",ref:r,required:!0})]}),(0,$.jsx)(Xn,{disabled:l,className:"w-100 mt-3",type:"submit",children:"Sign up"})]})]})}),(0,$.jsxs)("div",{className:"card-forgotetc w-100 text-center mt-2",children:["Already have an account? ",(0,$.jsx)(J,{to:"/login",children:"Login"})]})]})})}function BP(){var e=(0,t.useRef)(),n=FP().resetPassword,r=u((0,t.useState)(""),2),i=r[0],a=r[1],o=u((0,t.useState)(!1),2),s=o[0],c=o[1],l=u((0,t.useState)(""),2),f=l[0],h=l[1];function d(){return(d=ae(se().mark((function t(r){return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.prev=1,h(""),a(""),c(!0),t.next=7,n(e.current.value);case 7:h("Check your inbox for further instructions."),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a("Failed to reset password!");case 13:c(!1);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))).apply(this,arguments)}return(0,$.jsx)($.Fragment,{children:(0,$.jsxs)("div",{className:"main-container",children:[(0,$.jsx)(qe,{children:(0,$.jsxs)(qe.Body,{children:[(0,$.jsx)("h2",{className:"text-center mb-4",children:"Password reset"}),i&&(0,$.jsx)(Zt,{variant:"danger",children:i}),f&&(0,$.jsx)(Zt,{variant:"success",children:f}),(0,$.jsxs)(Gn,{onSubmit:function(e){return d.apply(this,arguments)},children:[(0,$.jsxs)(Gn.Group,{id:"email",children:[(0,$.jsx)(Gn.Label,{children:"Email"}),(0,$.jsx)(Gn.Control,{type:"email",ref:e,required:!0})]}),(0,$.jsx)(Xn,{disabled:s,className:"w-100 mt-3",type:"submit",children:"Reset Password"})]}),(0,$.jsx)("div",{className:"card-forgotetc w-100 text-center mt-2",children:(0,$.jsx)(J,{to:"/login",children:"Login"})})]})}),(0,$.jsxs)("div",{className:"card-forgotetc w-100 text-center mt-2",children:["Need an account? ",(0,$.jsx)(J,{to:"/signup",children:"Sign up"})]})]})})}function zP(){var e=(0,t.useRef)(),n=(0,t.useRef)(),r=(0,t.useRef)(),i=FP(),a=i.currentUser,o=i.updatePassword,s=i.updateEmail,c=u((0,t.useState)(""),2),l=c[0],f=c[1],h=u((0,t.useState)(!1),2),d=h[0],p=h[1],v=A();return(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(qe,{children:(0,$.jsxs)(qe.Body,{children:[(0,$.jsx)("h2",{className:"text-center mb-4",children:"Update Profile"}),l&&(0,$.jsx)(Zt,{variant:"danger",children:l}),(0,$.jsxs)(Gn,{onSubmit:function(t){if(t.preventDefault(),n.current.value!==r.current.value)return f("Passwords do not match");var i=[];p(!0),f(""),e.current.value!==a.email&&i.push(s(e.current.value)),n.current.value&&i.push(o(n.current.value)),Promise.all(i).then((function(){v("/dashboard")})).catch((function(){f("Failed to update account")})).finally((function(){p(!1)}))},children:[(0,$.jsxs)(Gn.Group,{id:"email",children:[(0,$.jsx)(Gn.Label,{children:"Email"}),(0,$.jsx)(Gn.Control,{type:"email",ref:e,required:!0,defaultValue:a.email})]}),(0,$.jsxs)(Gn.Group,{id:"password",children:[(0,$.jsx)(Gn.Label,{children:"Password"}),(0,$.jsx)(Gn.Control,{type:"password",ref:n,placeholder:"Leave blank to keep the same"})]}),(0,$.jsxs)(Gn.Group,{id:"password-confirm",children:[(0,$.jsx)(Gn.Label,{children:"Password Confirmation"}),(0,$.jsx)(Gn.Control,{type:"password",ref:r,placeholder:"Leave blank to keep the same"})]}),(0,$.jsx)(Xn,{disabled:d,className:"w-100",type:"submit",children:"Update"})]})]})}),(0,$.jsx)("div",{className:"w-100 text-center mt-2",children:(0,$.jsx)(J,{to:"/dashboard",children:"Cancel"})})]})}function HP(){var e=u((0,t.useState)(""),2),n=e[0],r=e[1],i=FP(),a=i.currentUser,o=i.logout,s=A(),c=u((0,t.useState)(null),2);c[0],c[1];function l(){return(l=ae(se().mark((function e(){return se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(""),e.prev=1,e.next=4,o();case 4:s("/dashboard"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),r("Failed to log out!");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return(0,$.jsx)($.Fragment,{children:(0,$.jsxs)("div",{className:"main-container",children:[(0,$.jsx)(qe,{children:(0,$.jsxs)(qe.Body,{children:[(0,$.jsx)("h2",{className:"text-center mb-4",children:"Profile"}),n&&(0,$.jsx)(Zt,{variant:"danger",children:n}),(0,$.jsx)("strong",{children:"Email: "})," ",a.email,(0,$.jsx)(J,{to:"/update-profile",className:"btn btn-primary w-100",children:"Update profile"})]})}),(0,$.jsx)("div",{className:"card-forgotetc w-100 text-center mt-2",children:(0,$.jsx)(Xn,{variant:"link",onClick:function(){return l.apply(this,arguments)},children:"Log out"})})]})})}var WP=function(e){var t=e.children;return FP().currentUser?t:(0,$.jsx)(x,{to:"/login"})};var KP=function(){return(0,$.jsx)(X,{children:(0,$.jsx)(UP,{children:(0,$.jsxs)(T,{children:[(0,$.jsx)(E,{exact:!0,path:"/",element:(0,$.jsx)(re,{})}),(0,$.jsx)(E,{path:"/otw",element:(0,$.jsx)(re,{})}),(0,$.jsx)(E,{path:"/home",element:(0,$.jsx)(re,{})}),(0,$.jsx)(E,{path:"/dashboard",element:(0,$.jsx)(WP,{children:(0,$.jsx)(HP,{})})}),(0,$.jsx)(E,{path:"/update-profile",element:(0,$.jsx)(WP,{children:(0,$.jsx)(zP,{})})}),(0,$.jsx)(E,{path:"/signup",element:(0,$.jsx)(qP,{})}),(0,$.jsx)(E,{path:"/login",element:(0,$.jsx)(VP,{})}),(0,$.jsx)(E,{path:"/forgot-password",element:(0,$.jsx)(BP,{})})]})})})};r.render((0,$.jsx)(t.StrictMode,{children:(0,$.jsx)(KP,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.2f87e964.js.map