(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[552],{5886:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/loggedIn/Admin",function(){return r(8210)}])},9435:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return o}});var a=r(5893),t=(r(7294),r(7802)),s=r(2377),i=r(6782);function o(){var e=(0,t.a)(),n=e.currentUser;e.logout;return n?(0,a.jsx)(i.default,{}):(0,a.jsx)(s.default,{})}},6782:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return f}});var a=r(4051),t=r.n(a),s=r(5893),i=r(7294),o=r(1664),d=r(1163),l=r(7802);function c(e,n,r,a,t,s,i){try{var o=e[s](i),d=o.value}catch(l){return void r(l)}o.done?n(d):Promise.resolve(d).then(a,t)}function u(e){return function(){var n=this,r=arguments;return new Promise((function(a,t){var s=e.apply(n,r);function i(e){c(s,a,t,i,o,"next",e)}function o(e){c(s,a,t,i,o,"throw",e)}i(void 0)}))}}function f(){var e=(0,l.a)(),n=e.currentUser,r=e.logout,a=(0,i.useState)(""),c=a[0],f=a[1],h=(0,d.useRouter)();function m(){return(m=u(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(""),e.prev=1,e.next=4,r();case 4:h.push("/dashboard"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),f("Failed to log out!");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return(0,s.jsx)("div",{className:"dashboard-footernav",children:(0,s.jsx)("div",{className:"main-container",children:(0,s.jsxs)("div",{className:"dashboard-footernav-nav",children:[(0,s.jsxs)("div",{className:"dashboard-footernav-left",children:[(0,s.jsx)("div",{className:"main-header-logo",children:"#NPOTW"}),(0,s.jsx)("div",{className:"dashboard-footer-nav-elements",children:(0,s.jsx)(o.default,{href:"/",passHref:!0,children:(0,s.jsx)("div",{className:"dashboard-footernav-element",children:"Back to main page"})})})]}),(0,s.jsxs)("div",{className:"dashboard-footernav-rightele",children:[c&&(0,s.jsx)("div",{className:"dashboard-error",children:c}),(0,s.jsx)(o.default,{href:"/update-profile",passHref:!0,children:(0,s.jsx)("div",{className:"dashboard-footernav-element",children:n.email})}),(0,s.jsx)(o.default,{href:"/signup",passHref:!0,children:(0,s.jsx)("div",{className:"dashboard-footernav-element",onClick:function(){return m.apply(this,arguments)},children:"Logout"})}),"MQoXucMDQPbeYKoxOx9jsNMxvTH3"===n.uid?(0,s.jsx)(o.default,{href:"/admin",passHref:!0,children:(0,s.jsx)("div",{className:"dashboard-footernav-element",children:"Admin"})}):""]})]})})})}},2377:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return s}});var a=r(5893),t=r(1664);function s(){return(0,a.jsx)("div",{className:"dashboard-footernav",children:(0,a.jsx)("div",{className:"main-container",children:(0,a.jsxs)("div",{className:"dashboard-footernav-nav",children:[(0,a.jsxs)("div",{className:"dashboard-footernav-left",children:[(0,a.jsx)("div",{className:"main-header-logo",children:"#NPOTW"}),(0,a.jsx)("div",{className:"dashboard-footer-nav-elements",children:(0,a.jsx)(t.default,{href:"/",passHref:!0,children:(0,a.jsx)("div",{className:"dashboard-footernav-element",children:"Back to main page"})})})]}),(0,a.jsxs)("div",{className:"dashboard-footernav-rightele",children:[(0,a.jsx)(t.default,{href:"/Login",passHref:!0,children:(0,a.jsx)("div",{className:"dashboard-footernav-element",children:"Login"})}),(0,a.jsx)(t.default,{href:"/Signup",passHref:!0,children:(0,a.jsx)("div",{className:"dashboard-footernav-element",children:"Signup"})})]})]})})})}},9164:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return i}});var a=r(5893),t=r(7294),s=r(1323);r(8059);function i(){var e=(0,t.useState)(""),n=e[0],r=e[1],i=(0,t.useState)(""),o=i[0],d=i[1],l=(0,t.useState)(""),c=l[0],u=l[1],f=(0,t.useState)(""),h=f[0],m=f[1],v=(0,t.useState)(!1),x=v[0],j=v[1];return(0,a.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),j(!0),s.db.collection("approved").add({name:n,email:o,message:c,key:Math.random()}).then((function(){setTimeout((function(){j(!1)}),1500)})).catch((function(e){m(e.message),j(!1)})),m(""),r(""),d(""),u("")},children:[h&&(0,a.jsx)("div",{className:"dashboard-error",children:h}),(0,a.jsx)("label",{children:"Name"}),(0,a.jsx)("input",{required:!0,placeholder:"Twitter @ or username",value:n,onChange:function(e){return r(e.target.value)}}),(0,a.jsx)("label",{children:"Tweet (not required)"}),(0,a.jsx)("input",{placeholder:"Twitter post url with the #otw",value:o,onChange:function(e){return d(e.target.value)}}),(0,a.jsx)("label",{children:"Image url"}),(0,a.jsx)("input",{required:!0,placeholder:"Your submission image url",value:c,onChange:function(e){return u(e.target.value)}}),(0,a.jsx)("button",{type:"submit",style:{background:x?"var(--dark-green)":"#e9ad68",color:x?"#FFF":""},children:x?"Submitted":"Submit"})]})}},8210:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return o}});var a=r(5893),t=(r(7294),r(9435)),s=r(519),i=r(9164);function o(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.default,{}),(0,a.jsx)("div",{className:"main-container",children:(0,a.jsxs)("div",{className:"admin-panel",children:[(0,a.jsxs)("div",{className:"admin-panel-left",children:[(0,a.jsx)("h1",{children:"Submissions"}),(0,a.jsx)("div",{className:"admin-dashboard",children:(0,a.jsx)(s.default,{})})]}),(0,a.jsxs)("div",{className:"admin-panel-right",children:[(0,a.jsx)("h1",{children:"Add an image"}),(0,a.jsx)(i.default,{})]})]})})]})}},519:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return l}});var a=r(5893),t=r(7294),s=r(1323),i=r(8059);function o(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function d(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,t,s=[],i=!0,o=!1;try{for(r=r.call(e);!(i=(a=r.next()).done)&&(s.push(a.value),!n||s.length!==n);i=!0);}catch(d){o=!0,t=d}finally{try{i||null==r.return||r.return()}finally{if(o)throw t}}return s}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return o(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(){var e=s.db.collection("submissions"),n=d((0,i.d4)(e),1)[0],r=(0,t.useState)(!1),o=(r[0],r[1]),l=(0,t.useState)(""),c=l[0],u=l[1],f=(0,t.useState)(""),h=f[0],m=f[1],v=function(e,n){s.db.collection("submissions").where("key","==",e.key).get().then((function(e){e.forEach((function(e){e.ref.delete(),u(n),setTimeout((function(){u("")}),1500)}))}))};return(0,a.jsxs)(a.Fragment,{children:[h&&(0,a.jsx)("div",{className:"dashboard-error",children:h}),c&&(0,a.jsx)("div",{className:"dashboard-error",children:c}),n&&n.map((function(e){return(0,a.jsxs)("div",{className:"admin-item",children:[(0,a.jsx)("img",{className:"adminimg",src:e.message}),(0,a.jsx)("div",{className:"admin-info",children:(0,a.jsxs)("div",{className:"admin-imginfo-cont",children:[(0,a.jsxs)("div",{className:"imgtitle",children:["Author: ",e.name]}),e.email?(0,a.jsx)("a",{className:"admin-imgdesc",href:e.email,children:"Tweet link"}):"",(0,a.jsx)("div",{style:{marginRight:"auto"},className:"admin-imgdesc",onClick:function(){return n=e,o(!0),void s.db.collection("approved").add({name:n.name,email:n.email,message:n.message,key:n.key}).then((function(){v(n,"Approved for website!"),o(!1)})).catch((function(e){m(e),o(!1)}));var n},children:"Approve"}),(0,a.jsx)("div",{style:{marginLeft:"auto"},className:"admin-imgdesc",onClick:function(){return v(e,"Removed from submissions.")},children:"Remove"})]})})]},e.id)}))]})}}},function(e){e.O(0,[127,774,888,179],(function(){return n=5886,e(e.s=n);var n}));var n=e.O();_N_E=n}]);