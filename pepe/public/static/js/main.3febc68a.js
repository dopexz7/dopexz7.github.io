/*! For license information please see main.3febc68a.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var f=0;f<s.length;f++)r.call(o,s[f])&&(u[s[f]]=o[s[f]])}}return u}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,_=60106,E=60107,T=60108,I=60114,S=60109,C=60110,A=60112,R=60113,N=60120,P=60115,O=60116,D=60121,L=60128,M=60129,F=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var j=Symbol.for;x=j("react.element"),_=j("react.portal"),E=j("react.fragment"),T=j("react.strict_mode"),I=j("react.profiler"),S=j("react.provider"),C=j("react.context"),A=j("react.forward_ref"),R=j("react.suspense"),N=j("react.suspense_list"),P=j("react.memo"),O=j("react.lazy"),D=j("react.block"),j("react.scope"),L=j("react.opaque.id"),M=j("react.debug_trace_mode"),F=j("react.offscreen"),U=j("react.legacy_hidden")}var V,B="function"===typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function z(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var W=!1;function H(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function K(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case _:return"Portal";case I:return"Profiler";case T:return"StrictMode";case R:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return G(e.type);case D:return G(e._render);case O:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Te(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ie(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ce=null,Ae=null;function Re(e){if(e=ri(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Se(e.stateNode,e.type,t))}}function Ne(e){Ce?Ae?Ae.push(e):Ae=[e]:Ce=e}function Pe(){if(Ce){var e=Ce,t=Ae;if(Ae=Ce=null,Re(e),t)for(e=0;e<t.length;e++)Re(t[e])}}function Oe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Oe,Fe=!1,Ue=!1;function je(){null===Ce&&null===Ae||(Le(),Pe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Be=!1;if(f)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){Be=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(me){Be=!1}function ze(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,He=null,Ke=!1,Ge=null,Qe={onError:function(e){We=!0,He=e}};function Ye(e,t,n,r,i,a,o,s,u){We=!1,He=null,ze.apply(Qe,arguments)}function Xe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Xe(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return $e(i),e;if(a===r)return $e(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Xe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&gt(st)&&(st=null),null!==ut&&gt(ut)&&(ut=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},Tt={},It={};function St(e){if(Tt[e])return Tt[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in It)return Tt[e]=n[t];return e}f&&(It=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Ct=St("animationend"),At=St("animationiteration"),Rt=St("animationstart"),Nt=St("transitionend"),Pt=new Map,Ot=new Map,Dt=["abort","abort",Ct,"animationEnd",At,"animationIteration",Rt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Nt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Ft(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ut(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=Ft(u),i=Mt):0!==(s&=a)&&(r=Ft(s),i=Mt)}else 0!==(a=n&~o)?(r=Ft(a),i=Mt):0!==s&&(r=Ft(s),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ft(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function jt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Vt(10,t):e;case 10:return 0===(e=Bt(192&~t))?Vt(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Bt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Kt|0)|0},Ht=Math.log,Kt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,Yt=!0;function Xt(e,t,n,r){Fe||Le();var i=$t,a=Fe;Fe=!0;try{De(i,e,t,n,r)}finally{(Fe=a)||je()}}function Jt(e,t,n,r){Qt(Gt,$t.bind(null,e,t,n,r))}function $t(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return ut=mt(ut,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Ie(r);if(null!==(i=ni(i))){var a=Xe(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Je(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),vn=un(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=un(mn),gn=un(i({},mn,{dataTransfer:0})),kn=un(i({},pn,{relatedTarget:0})),bn=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=un(wn),_n=un(i({},hn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function Cn(){return Sn}var An=i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Rn=un(An),Nn=un(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),On=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=un(Dn),Mn=[9,13,27,32],Fn=f&&"CompositionEvent"in window,Un=null;f&&"documentMode"in document&&(Un=document.documentMode);var jn=f&&"TextEvent"in window&&!Un,Vn=f&&(!Fn||Un&&8<Un&&11>=Un),Bn=String.fromCharCode(32),qn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Qn(e,t,n,r){Ne(r),0<(t=Fr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Xn=null;function Jn(e){Ar(e,0)}function $n(e){if(J(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Yn&&(Yn.detachEvent("onpropertychange",ar),Xn=Yn=null)}function ar(e){if("value"===e.propertyName&&$n(Xn)){var t=[];if(Qn(t,Xn,e,Ie(e)),e=Jn,Fe)e(t);else{Fe=!0;try{Oe(e,t)}finally{Fe=!1,je()}}}}function or(e,t,n){"focusin"===e?(ir(),Xn=n,(Yn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Xn)}function ur(e,t){if("click"===e)return $n(t)}function cr(e,t){if("input"===e||"change"===e)return $n(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,xr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==$(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Fr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Tr=0;Tr<Er.length;Tr++)Ot.set(Er[Tr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Ye.apply(this,arguments),We){if(!We)throw Error(o(198));var l=He;We=!1,He=null,Ke||(Ke=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}}}if(Ke)throw e=Ge,Ke=!1,Ge=null,e}function Rr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Nr="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Nr]||(e[Nr]=!0,s.forEach((function(t){Sr.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Dr(a,e,i,t),o.add(s))}function Dr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=Xt;break;case 1:i=Jt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Ue)return e(t,n);Ue=!0;try{Me(e,t,n)}finally{Ue=!1,je()}}((function(){var r=a,i=Ie(n),o=[];e:{var s=Pt.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=Rn;break;case"focusin":c="focus",u=kn;break;case"focusout":c="blur",u=kn;break;case"beforeblur":case"afterblur":u=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Ct:case At:case Rt:u=bn;break;case Nt:u=On;break;case"scroll":u=vn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Nn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Xe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Nn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Ur(d))p++;for(d=0,v=h;v;v=Ur(v))d++;for(;0<p-d;)l=Ur(l),p--;for(;0<d-p;)h=Ur(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Ur(l),h=Ur(h)}l=null}else l=null;null!==u&&jr(o,s,u,l,!1),null!==c&&null!==f&&jr(o,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Zn;else if(Gn(s))if(er)m=cr;else{m=sr;var y=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ur);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(kr=y,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,_r(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(o,n,i)}var g;if(Fn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Hn?zn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Hn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(y=Fr(r,k)).length&&(k=new _n(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Wn(n))&&(k.data=g))),(g=jn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(qn=!0,Bn);case"textInput":return(e=t.data)===Bn&&qn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Fn&&zn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ar(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Ur(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function jr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ve(n,a))&&o.unshift(Mr(n,u,s)):i||null!=(u=Ve(n,a))&&o.push(Mr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var Br=null,qr=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Xr=0;var Jr=Math.random().toString(36).slice(2),$r="__reactFiber$"+Jr,Zr="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[$r]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[$r])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[$r]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var _i=null,Ei=null,Ti=a.unstable_runWithPriority,Ii=a.unstable_scheduleCallback,Si=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ai=a.unstable_requestPaint,Ri=a.unstable_now,Ni=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Oi=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Fi={},Ui=void 0!==Ai?Ai:function(){},ji=null,Vi=null,Bi=!1,qi=Ri(),zi=1e4>qi?Ri:function(){return Ri()-qi};function Wi(){switch(Ni()){case Pi:return 99;case Oi:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Pi;case 98:return Oi;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Ki(e,t){return e=Hi(e),Ti(e,t)}function Gi(e,t,n){return e=Hi(e),Ii(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Si(e)}Yi()}function Yi(){if(!Bi&&null!==ji){Bi=!0;var e=0;try{var t=ji;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ji=null}catch(n){throw null!==ji&&(ji=ji.slice(e+1)),Ii(Pi,Qi),n}finally{Bi=!1}}}var Xi=w.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $i=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=$i.current;li($i),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,s=0,f=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Bs|=s,e.lanes=s,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),pu(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function _a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ta(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ku(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_a(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=_a(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ju(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=_a(e,null,t),n.return=e,n;case _:return(t=Ju(t,e.mode,n)).return=e,t}if(xa(t)||q(t))return(t=Qu(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===E?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null}if(xa(n)||q(n))return null!==i?null:f(e,t,n,r,null);Ea(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===E?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||q(r))return f(t,e=e.get(n)||null,r,i,null);Ea(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=q(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=a(k,s,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===E&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===E){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=_a(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===E?((r=Qu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=_a(e,r,a),u.return=e,e=u)}return s(e);case _:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ju(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Xu(a,e.mode,u)).return=e,e=r),s(e);if(xa(a))return v(e,r,a,u);if(q(a))return m(e,r,a,u);if(l&&Ea(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ia=Ta(!0),Sa=Ta(!1),Ca={},Aa=ci(Ca),Ra=ci(Ca),Na=ci(Ca);function Pa(e){if(e===Ca)throw Error(o(174));return e}function Oa(e,t){switch(fi(Na,t),fi(Ra,e),fi(Aa,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Aa),fi(Aa,t)}function Da(){li(Aa),li(Ra),li(Na)}function La(e){Pa(Na.current);var t=Pa(Aa.current),n=pe(t,e.type);t!==n&&(fi(Ra,e),fi(Aa,n))}function Ma(e){Ra.current===e&&(li(Aa),li(Ra))}var Fa=ci(0);function Ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ja=null,Va=null,Ba=!1;function qa(e,t){var n=Wu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function za(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wa(e){if(Ba){var t=Va;if(t){var n=t;if(!za(e,t)){if(!(t=Qr(n.nextSibling))||!za(e,t))return e.flags=-1025&e.flags|2,Ba=!1,void(ja=e);qa(ja,n)}ja=e,Va=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,Ba=!1,ja=e}}function Ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ja=e}function Ka(e){if(e!==ja)return!1;if(!Ba)return Ha(e),Ba=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=Va;t;)qa(e,t),t=Qr(t.nextSibling);if(Ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=ja?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){Va=ja=null,Ba=!1}var Qa=[];function Ya(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Xa=w.ReactCurrentDispatcher,Ja=w.ReactCurrentBatchConfig,$a=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if($a=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xa.current=null===e||null===e.memoizedState?Oo:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Xa.current=Lo,e=n(r,i)}while(ro)}if(Xa.current=Po,t=null!==eo&&null!==eo.next,$a=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if(($a&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,Za.lanes|=l,Bs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,lr(r,t.memoizedState)||(Fo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(Fo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=($a&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Os;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Xa.current,c=u.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=du(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Wt(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=No.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(uo(),e,t,n)}function mo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=No.bind(null,Za,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},so().memoizedState=e}function ko(){return uo().memoizedState}function bo(e,t,n,r){var i=so();Za.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Za.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function xo(e,t){return bo(516,4,e,t)}function _o(e,t){return wo(516,4,e,t)}function Eo(e,t){return wo(4,2,e,t)}function To(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Io(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,To.bind(null,t,e),n)}function So(){}function Co(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ao(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ro(e,t){var n=Wi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Ja.transition;Ja.transition=1;try{e(!1),t()}finally{Ja.transition=n}}))}function No(e,t,n){var r=hu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Oo={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,To.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=No.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:So,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=Ro.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Ba){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Xr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,yo(5,(function(){n("r:"+(Xr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Xr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:Io,useLayoutEffect:Eo,useMemo:Ao,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:So,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return _o((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:Io,useLayoutEffect:Eo,useMemo:Ao,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:So,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return _o((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,Fo=!1;function Uo(e,t,n,r){t.child=null===e?Sa(t,null,n,r):Ia(t,e.child,n,r)}function jo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Hu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Ku(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Fo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(Fo=!0)}return Wo(e,t,n,r,a)}function qo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xu(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xu(t,e),null;t.memoizedState={baseLanes:0},xu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xu(t,r);return Uo(e,t,i,n),t.child}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wo(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Ho(e,t,n,r,i){if(yi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&ba(t,o,r,c),sa=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),u=t.memoizedState,s!==r||h!==u||pi.current||sa?("function"===typeof l&&(ma(t,n,l,r),u=t.memoizedState),(s=sa||ga(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ji(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=mi(t,u=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&ba(t,o,r,u),sa=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||pi.current||sa?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=sa||ga(t,n,c,r,h,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){zo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),as(e,t,a);r=t.stateNode,Mo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ia(t,e.child,null,a),t.child=Ia(t,null,s,a)):Uo(e,t,s,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Oa(e,t.containerInfo)}var Qo,Yo,Xo,Jo={dehydrated:null,retryLane:0};function $o(e,t,n){var r,i=t.pendingProps,a=Fa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Fa,1&a),null===e?(void 0!==i.fallback&&Wa(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,t.lanes=33554432,e):((n=Yu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Jo,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Yu(t,i,0,null),n=Qu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Ku(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ku(o,s),null!==e?r=Ku(e,r):(r=Qu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Uo(e,t,r.children,n),0!==(2&(r=Fa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Fa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ku(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ku(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!Ba)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),Ya(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ka(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Pa(Na.current);if(n=t.type,null!==e&&null!=t.stateNode)Yo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Aa.current),Ka(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[$r]=t,r[Zr]=s,n){case"dialog":Rr("cancel",r),Rr("close",r);break;case"iframe":case"object":case"embed":Rr("load",r);break;case"video":case"audio":for(e=0;e<Ir.length;e++)Rr(Ir[e],r);break;case"source":Rr("error",r);break;case"img":case"image":case"link":Rr("error",r),Rr("load",r);break;case"details":Rr("toggle",r);break;case"input":ee(r,s),Rr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Rr("invalid",r);break;case"textarea":ue(r,s),Rr("invalid",r)}for(var c in Ee(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Rr("scroll",r));switch(n){case"input":X(r),re(r,s,!0);break;case"textarea":X(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[$r]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=Te(n,r),n){case"dialog":Rr("cancel",e),Rr("close",e),a=r;break;case"iframe":case"object":case"embed":Rr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Ir.length;a++)Rr(Ir[a],e);a=r;break;case"source":Rr("error",e),a=r;break;case"img":case"image":case"link":Rr("error",e),Rr("load",e),a=r;break;case"details":Rr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Rr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Rr("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Rr("invalid",e);break;default:a=r}Ee(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?xe(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Rr("scroll",e):null!=f&&b(e,s,f,c))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Xo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Na.current),Pa(Aa.current),Ka(t)?(r=t.stateNode,n=t.memoizedProps,r[$r]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=t,t.stateNode=r)}return null;case 13:return li(Fa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ka(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fa.current)?0===Us&&(Us=3):(0!==Us&&3!==Us||(Us=4),null===Os||0===(134217727&Bs)&&0===(134217727&qs)||gu(Os,Ls))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Fa),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==Us||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ua(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Fa,1&Fa.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Ks&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Ua(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ba)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Ks&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Fa.current,fi(Fa,s?1&t|2:1&t),n):null;case 23:case 24:return _u(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),Ya(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(Fa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fa),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return _u(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Aa.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Ee(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Rr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Xo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xs||(Xs=!0,Js=r),ls(0,t)},n}function ds(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===$s?$s=new Set([this]):$s.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function ys(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fu(n,e),Mu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ks(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(_i,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fu(t,n);else{r=t;try{i()}catch(a){Vu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vu(t,a)}break;case 5:vs(t);break;case 4:Ts(e,t)}}function bs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function xs(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_s(e,n,t):Es(e,n,t)}function _s(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(_s(e,t,n),e=e.sibling;null!==e;)_s(e,t,n),e=e.sibling}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function Ts(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ks(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ks(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Is(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Te(e,i),t=Te(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?xe(n,u):"dangerouslySetInnerHTML"===s?ye(n,u):"children"===s?ge(n,u):b(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hs=zi(),gs(t.child,!0)),void Ss(t);case 19:return void Ss(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(o(163))}function Ss(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=qu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var As=Math.ceil,Rs=w.ReactCurrentDispatcher,Ns=w.ReactCurrentOwner,Ps=0,Os=null,Ds=null,Ls=0,Ms=0,Fs=ci(0),Us=0,js=null,Vs=0,Bs=0,qs=0,zs=0,Ws=null,Hs=0,Ks=1/0;function Gs(){Ks=zi()+500}var Qs,Ys=null,Xs=!1,Js=null,$s=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Ps)?zi():-1!==su?su:su=zi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===uu&&(uu=Vs),0!==Xi.transition){0!==cu&&(cu=null!==Ws?Ws.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Ps)&&98===e?e=Vt(12,uu):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;zt(e,t,n),e===Os&&(qs|=t,4===Us&&gu(e,Ls));var r=Wi();1===t?0!==(8&Ps)&&0===(48&Ps)?ku(e):(mu(e,n),0===Ps&&(Gs(),Qi())):(0===(4&Ps)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),Ws=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Wt(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ft(c);var f=Mt;a[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ut(e,e===Os?Ls:0),t=Mt,0===r)null!==n&&(n!==Fi&&Si(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&Si(n)}15===t?(n=ku.bind(null,e),null===ji?(ji=[n],Vi=Ii(Pi,Yi)):ji.push(n),n=Fi):14===t?n=Gi(99,ku.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,yu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yu(e){if(su=-1,cu=uu=0,0!==(48&Ps))throw Error(o(327));var t=e.callbackNode;if(Lu()&&e.callbackNode!==t)return null;var n=Ut(e,e===Os?Ls:0);if(0===n)return null;var r=n,i=Ps;Ps|=16;var a=Iu();for(Os===e&&Ls===r||(Gs(),Eu(e,r));;)try{Au();break}catch(u){Tu(e,u)}if(na(),Rs.current=a,Ps=i,null!==Ds?r=0:(Os=null,Ls=0,r=Us),0!==(Vs&qs))Eu(e,0);else if(0!==r){if(2===r&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=jt(e))&&(r=Su(e,n))),1===r)throw t=js,Eu(e,0),gu(e,n),mu(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Pu(e);break;case 3:if(gu(e,n),(62914560&n)===n&&10<(r=Hs+500-zi())){if(0!==Ut(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Pu.bind(null,e),r);break}Pu(e);break;case 4:if(gu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Wt(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*As(n/1960))-n)){e.timeoutHandle=Hr(Pu.bind(null,e),n);break}Pu(e);break;default:throw Error(o(329))}}return mu(e,zi()),e.callbackNode===t?yu.bind(null,e):null}function gu(e,t){for(t&=~zs,t&=~qs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if(0!==(48&Ps))throw Error(o(327));if(Lu(),e===Os&&0!==(e.expiredLanes&Ls)){var t=Ls,n=Su(e,t);0!==(Vs&qs)&&(n=Su(e,t=Ut(e,t)))}else n=Su(e,t=Ut(e,0));if(0!==e.tag&&2===n&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=jt(e))&&(n=Su(e,t))),1===n)throw n=js,Eu(e,0),gu(e,t),mu(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pu(e),mu(e,zi()),null}function bu(e,t){var n=Ps;Ps|=1;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}}function wu(e,t){var n=Ps;Ps&=-2,Ps|=8;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}}function xu(e,t){fi(Fs,Ms),Ms|=t,Vs|=t}function _u(){Ms=Fs.current,li(Fs)}function Eu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),Ya();break;case 5:Ma(r);break;case 4:Da();break;case 13:case 19:li(Fa);break;case 10:ra(r);break;case 23:case 24:_u()}n=n.return}Os=e,Ds=Ku(e.current,null),Ls=Ms=Vs=t,Us=0,js=null,zs=qs=Bs=0}function Tu(e,t){for(;;){var n=Ds;try{if(na(),Xa.current=Po,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if($a=0,to=eo=Za=null,ro=!1,Ns.current=null,null===n||null===n.return){Us=1,js=t,Ds=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ls,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Fa.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=la(-1,1);g.tag=2,fa(s,g)}s.lanes|=1;break e}u=void 0,s=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fs,u=new Set,k.set(c,u)):void 0===(u=k.get(c))&&(u=new Set,k.set(c,u)),!u.has(s)){u.add(s);var b=Bu.bind(null,a,c,s);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Us&&(Us=2),u=cs(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hs(0,a,t));break e;case 1:a=u;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===$s||!$s.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}Nu(n)}catch(_){t=_,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function Iu(){var e=Rs.current;return Rs.current=Po,null===e?Po:e}function Su(e,t){var n=Ps;Ps|=16;var r=Iu();for(Os===e&&Ls===t||Eu(e,t);;)try{Cu();break}catch(i){Tu(e,i)}if(na(),Ps=n,Rs.current=r,null!==Ds)throw Error(o(261));return Os=null,Ls=0,Us}function Cu(){for(;null!==Ds;)Ru(Ds)}function Au(){for(;null!==Ds&&!Ci();)Ru(Ds)}function Ru(e){var t=Qs(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,null===t?Nu(e):Ds=t,Ns.current=null}function Nu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ms)))return void(Ds=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ms)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ds=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Us&&(Us=5)}function Pu(e){var t=Wi();return Ki(99,Ou.bind(null,e,t)),null}function Ou(e,t){do{Lu()}while(null!==eu);if(0!==(48&Ps))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-Wt(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Os&&(Ds=Os=null,Ls=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ps,Ps|=32,Ns.current=null,Br=Yt,yr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(I){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=s,y=null;t:for(;;){for(var g;m!==u||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===s)break t;if(y===u&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;qr={focusedElem:s,selectionRange:u},Yt=!1,lu=null,fu=!1,Ys=r;do{try{Du()}catch(I){if(null===Ys)throw Error(o(330));Vu(Ys,I),Ys=Ys.nextEffect}}while(null!==Ys);lu=null,Ys=r;do{try{for(s=e;null!==Ys;){var k=Ys.flags;if(16&k&&ge(Ys.stateNode,""),128&k){var b=Ys.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xs(Ys),Ys.flags&=-3;break;case 6:xs(Ys),Ys.flags&=-3,Is(Ys.alternate,Ys);break;case 1024:Ys.flags&=-1025;break;case 1028:Ys.flags&=-1025,Is(Ys.alternate,Ys);break;case 4:Is(Ys.alternate,Ys);break;case 8:Ts(s,u=Ys);var x=u.alternate;bs(u),null!==x&&bs(x)}Ys=Ys.nextEffect}}catch(I){if(null===Ys)throw Error(o(330));Vu(Ys,I),Ys=Ys.nextEffect}}while(null!==Ys);if(w=qr,b=mr(),k=w.focusedElem,s=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==s&&yr(k)&&(b=s.start,void 0===(w=s.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),u=k.textContent.length,x=Math.min(s.start,u),s=void 0===s.end?x:Math.min(s.end,u),!w.extend&&x>s&&(u=s,s=x,x=u),u=pr(k,x),a=pr(k,s),u&&a&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),x>s?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Yt=!!Br,qr=Br=null,e.current=n,Ys=r;do{try{for(k=e;null!==Ys;){var _=Ys.flags;if(36&_&&ys(k,Ys.alternate,Ys),128&_){b=void 0;var E=Ys.ref;if(null!==E){var T=Ys.stateNode;Ys.tag,b=T,"function"===typeof E?E(b):E.current=b}}Ys=Ys.nextEffect}}catch(I){if(null===Ys)throw Error(o(330));Vu(Ys,I),Ys=Ys.nextEffect}}while(null!==Ys);Ys=null,Ui(),Ps=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for(Ys=r;null!==Ys;)t=Ys.nextEffect,Ys.nextEffect=null,8&Ys.flags&&((_=Ys).sibling=null,_.stateNode=null),Ys=t;if(0===(r=e.pendingLanes)&&($s=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(I){}if(mu(e,zi()),Xs)throw Xs=!1,e=Js,Js=null,e;return 0!==(8&Ps)||Qi(),null}function Du(){for(;null!==Ys;){var e=Ys.alternate;fu||null===lu||(0!==(8&Ys.flags)?et(Ys,lu)&&(fu=!0):13===Ys.tag&&Cs(e,Ys)&&et(Ys,lu)&&(fu=!0));var t=Ys.flags;0!==(256&t)&&ms(e,Ys),0===(512&t)||Zs||(Zs=!0,Gi(97,(function(){return Lu(),null}))),Ys=Ys.nextEffect}}function Lu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Ki(e,Uu)}return!1}function Mu(e,t){nu.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Lu(),null})))}function Fu(e,t){ru.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Lu(),null})))}function Uu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Ps))throw Error(o(331));var t=Ps;Ps|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ps=t,Qi(),!0}function ju(e,t,n){fa(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(zt(e,1,t),mu(e,t))}function Vu(e,t){if(3===e.tag)ju(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){ju(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$s||!$s.has(r))){var i=ds(n,e=cs(t,e),1);if(fa(n,i),i=hu(),null!==(n=vu(n,1)))zt(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===$s||!$s.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Bu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Os===e&&(Ls&n)===n&&(4===Us||3===Us&&(62914560&Ls)===Ls&&500>zi()-Hs?Eu(e,0):zs|=n),mu(e,t)}function qu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===uu&&(uu=Vs),0===(t=Bt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(zt(e,t,n),mu(e,n))}function zu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Wu(e,t,n,r){return new zu(e,t,n,r)}function Hu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ku(e,t){var n=e.alternate;return null===n?((n=Wu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Hu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Qu(n.children,i,a,t);case M:s=8,i|=16;break;case T:s=8,i|=1;break;case I:return(e=Wu(12,n,t,8|i)).elementType=I,e.type=I,e.lanes=a,e;case R:return(e=Wu(13,n,t,i)).type=R,e.elementType=R,e.lanes=a,e;case N:return(e=Wu(19,n,t,i)).elementType=N,e.lanes=a,e;case F:return Yu(n,i,a,t);case U:return(e=Wu(24,n,t,i)).elementType=U,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case C:s=9;break e;case A:s=11;break e;case P:s=14;break e;case O:s=16,r=null;break e;case D:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Wu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qu(e,t,n,r){return(e=Wu(7,e,r,t)).lanes=n,e}function Yu(e,t,n,r){return(e=Wu(23,e,r,t)).elementType=F,e.lanes=n,e}function Xu(e,t,n){return(e=Wu(6,e,null,t)).lanes=n,e}function Ju(e,t,n){return(t=Wu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $u(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hu(),s=du(i);e:if(n){t:{if(Xe(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(yi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=bi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),pu(i,s,a),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new $u(e,t,null!=n&&!0===n.hydrate),t=Wu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}wu((function(){ec(t,o,e,i)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zu(e,t,null,n)}Qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fo=!0;else{if(0===(n&r)){switch(Fo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:yi(t.type)&&wi(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?$o(e,t,n):(fi(Fa,1&Fa.current),null!==(t=as(e,t,n))?t.sibling:null);fi(Fa,1&Fa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Fa,Fa.current),r)break;return null;case 23:case 24:return t.lanes=0,qo(e,t,n)}return as(e,t,n)}Fo=0!==(16384&e.flags)}else Fo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ma(t,r,s,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,Uo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Hu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===P)return 14}return 2}(i),e=Ji(i,e),a){case 0:t=Wo(null,t,i,e,n);break e;case 1:t=Ho(null,t,i,e,n);break e;case 11:t=jo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Qr(t.stateNode.containerInfo.firstChild),ja=t,a=Ba=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Sa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Uo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Wa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Wr(r,i)?s=null:null!==a&&Wr(r,a)&&(t.flags|=16),zo(e,t),Uo(e,t,s,n),t.child;case 6:return null===e&&Wa(t),null;case 13:return $o(e,t,n);case 4:return Oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ia(t,null,r,n):Uo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Uo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Uo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(fi($i,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=lr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=la(-1,n&-n)).tag=2,fa(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ia(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Uo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Uo(e,t,r,n),t.child;case 14:return a=Ji(i=t.type,t.pendingProps),Vo(e,t,i,a=Ji(i.type,a),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return qo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Oe=bu,De=function(e,t,n,r,i){var a=Ps;Ps|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Ps=a)&&(Gs(),Qi())}},Le=function(){0===(49&Ps)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,zi())}))}Qi()}(),Lu())},Me=function(e,t){var n=Ps;Ps|=2;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}};var uc={Events:[ri,ii,ai,Ne,Pe,Lu,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{_i=fc.inject(lc),Ei=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ps;if(0!==(48&n))return e(t);Ps|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Ps=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(wu((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:b.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function S(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+I(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),S(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+I(s=e[c],c);u+=S(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=S(s=s.value,t,n,l=r+I(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return S(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var R={current:null};function N(){var e=R.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return N().useCallback(e,t)},t.useContext=function(e,t){return N().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return N().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return N().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return N().useLayoutEffect(e,t)},t.useMemo=function(e,t){return N().useMemo(e,t)},t.useReducer=function(e,t,n){return N().useReducer(e,t,n)},t.useRef=function(e){return N().useRef(e)},t.useState=function(e){return N().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(N){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return R()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=T(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};u(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=m.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function T(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:R}}function R(){return{value:t,done:!0}}return y.prototype=g,u(x,"constructor",g),u(g,"constructor",y),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(E.prototype),u(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),u(x,s,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>T(o,n))void 0!==u&&0>T(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>T(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],S=[],C=1,A=null,R=3,N=!1,P=!1,O=!1;function D(e){for(var t=_(S);null!==t;){if(null===t.callback)E(S);else{if(!(t.startTime<=e))break;E(S),t.sortIndex=t.expirationTime,x(I,t)}t=_(S)}}function L(e){if(O=!1,D(e),!P)if(null!==_(I))P=!0,n(M);else{var t=_(S);null!==t&&r(L,t.startTime-e)}}function M(e,n){P=!1,O&&(O=!1,i()),N=!0;var a=R;try{for(D(n),A=_(I);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=A.callback;if("function"===typeof o){A.callback=null,R=A.priorityLevel;var s=o(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?A.callback=s:A===_(I)&&E(I),D(n)}else E(I);A=_(I)}if(null!==A)var u=!0;else{var c=_(S);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{A=null,R=a,N=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||N||(P=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return _(I)},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var n=R;R=t;try{return e()}finally{R=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=R;R=e;try{return t()}finally{R=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,x(S,e),null===_(I)&&e===_(S)&&(O?i():O=!0,r(L,o-s))):(e.sortIndex=u,x(I,e),P||N||(P=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=R;return function(){var n=R;R=t;try{return e.apply(this,arguments)}finally{R=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},391:function(e){"use strict";var t=function(){};e.exports=t}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Dn},SDK_VERSION:function(){return Ar},_DEFAULT_ENTRY_NAME:function(){return pr},_addComponent:function(){return gr},_addOrOverwriteComponent:function(){return kr},_apps:function(){return mr},_clearComponents:function(){return _r},_components:function(){return yr},_getProvider:function(){return wr},_registerComponent:function(){return br},_removeServiceInstance:function(){return xr},deleteApp:function(){return Or},getApp:function(){return Nr},getApps:function(){return Pr},initializeApp:function(){return Rr},onLog:function(){return Mr},registerVersion:function(){return Lr},setLogLevel:function(){return Fr}});var t=n(791),r=n(164);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function u(e,t){if(null==e)return{};var n,r,i=s(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=n(694),l=n.n(c),f=n(184),h=t.createContext({prefixes:{}});h.Consumer,h.Provider;function d(e,n){var r=(0,t.useContext)(h).prefixes;return e||r[n]||n}var p=["bsPrefix","fluid","as","className"],v=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=e.as,a=void 0===i?"div":i,s=e.className,c=u(e,p),h=d(n,"container"),v="string"===typeof r?"-".concat(r):"-fluid";return(0,f.jsx)(a,o(o({ref:t},c),{},{className:l()(s,r?"".concat(h).concat(v):h)}))}));v.displayName="Container",v.defaultProps={fluid:!1};var m=v;function y(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){y(a,r,i,o,s,"next",e)}function s(e){y(a,r,i,o,s,"throw",e)}o(void 0)}))}}function k(e){if(Array.isArray(e))return e}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){if(e){if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function x(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e,t){return k(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||w(e,t)||x()}var E=n(757),T=n.n(E),I=/-(.)/g;var S=["className","bsPrefix","as"],C=function(e){return e[0].toUpperCase()+(t=e,t.replace(I,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function A(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.displayName,i=void 0===r?C(e):r,a=n.Component,s=n.defaultProps,c=t.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,s=t.as,c=void 0===s?a||"div":s,h=u(t,S),p=d(i,e);return(0,f.jsx)(c,o({ref:n,className:l()(r,p)},h))}));return c.defaultProps=s,c.displayName=i,c}var R=function(e){return t.forwardRef((function(t,n){return(0,f.jsx)("div",o(o({},t),{},{ref:n,className:l()(t.className,e)}))}))},N=["bsPrefix","className","variant","as"],P=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.variant,a=e.as,s=void 0===a?"img":a,c=u(e,N),h=d(n,"card-img");return(0,f.jsx)(s,o({ref:t,className:l()(i?"".concat(h,"-").concat(i):h,r)},c))}));P.displayName="CardImg";var O=P,D=t.createContext(null);D.displayName="CardHeaderContext";var L=D,M=["bsPrefix","className","as"],F=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.as,s=void 0===a?"div":a,c=u(e,M),h=d(r,"card-header"),p=(0,t.useMemo)((function(){return{cardHeaderBsPrefix:h}}),[h]);return(0,f.jsx)(L.Provider,{value:p,children:(0,f.jsx)(s,o(o({ref:n},c),{},{className:l()(i,h)}))})}));F.displayName="CardHeader";var U=F,j=["bsPrefix","className","bg","text","border","body","children","as"],V=R("h5"),B=R("h6"),q=A("card-body"),z=A("card-title",{Component:V}),W=A("card-subtitle",{Component:B}),H=A("card-link",{Component:"a"}),K=A("card-text",{Component:"p"}),G=A("card-footer"),Q=A("card-img-overlay"),Y=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.bg,a=e.text,s=e.border,c=e.body,h=e.children,p=e.as,v=void 0===p?"div":p,m=u(e,j),y=d(n,"card");return(0,f.jsx)(v,o(o({ref:t},m),{},{className:l()(r,y,i&&"bg-".concat(i),a&&"text-".concat(a),s&&"border-".concat(s)),children:c?(0,f.jsx)(q,{children:h}):h}))}));Y.displayName="Card",Y.defaultProps={body:!1};var X=Object.assign(Y,{Img:O,Title:z,Subtitle:W,Body:q,Link:H,Text:K,Header:U,Footer:G,ImgOverlay:Q});function J(){return J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J.apply(this,arguments)}n(176);function $(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Z(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function ee(e,n){return Object.keys(n).reduce((function(r,i){var a,o=r,u=o[$(i)],c=o[i],l=s(o,[$(i),i].map(Z)),f=n[i],h=function(e,n,r){var i=(0,t.useRef)(void 0!==e),a=(0,t.useState)(n),o=a[0],s=a[1],u=void 0!==e,c=i.current;return i.current=u,!u&&c&&o!==n&&s(n),[u?e:o,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),s(e)}),[r])]}(c,u,e[f]),d=h[0],p=h[1];return J({},l,((a={})[i]=d,a[f]=p,a))}),e)}function te(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function ne(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function re(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}te.__suppressDeprecationWarning=!0,ne.__suppressDeprecationWarning=!0,re.__suppressDeprecationWarning=!0;var ie=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n};function ae(e){var n=ie(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var oe="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product;"undefined"!==typeof document||oe?t.useLayoutEffect:t.useEffect,new WeakMap;var se=["as","disabled"];function ue(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.onClick,s=e.tabIndex,u=void 0===s?0:s,c=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var l={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},l];var f=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==o||o(e)};return[{role:"button",disabled:void 0,tabIndex:n?void 0:u,href:"a"===t&&n?void 0:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:f,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),f(e))}},l]}var ce=t.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,se),a=_(ue(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],s=a[1].tagName;return(0,f.jsx)(s,Object.assign({},i,o,{ref:t}))}));ce.displayName="Button";var le=["onKeyDown"];var fe=t.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,le),a=_(ue(Object.assign({tagName:"a"},i)),1)[0],o=ae((function(e){a.onKeyDown(e),null==r||r(e)}));return((n=i.href)&&"#"!==n.trim()||i.role)&&"button"!==i.role?(0,f.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,f.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));fe.displayName="Anchor";var he=fe;function de(e,t){return de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},de(e,t)}var pe=!1,ve=t.createContext(null),me="unmounted",ye="exited",ge="entering",ke="entered",be="exiting",we=function(e){var n,i;function a(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=ye,r.appearStatus=ge):i=ke:i=t.unmountOnExit||t.mountOnEnter?me:ye,r.state={status:i},r.nextCallback=null,r}i=e,(n=a).prototype=Object.create(i.prototype),n.prototype.constructor=n,de(n,i),a.getDerivedStateFromProps=function(e,t){return e.in&&t.status===me?{status:ye}:null};var o=a.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==ge&&n!==ke&&(t=ge):n!==ge&&n!==ke||(t=be)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},o.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===ge?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===ye&&this.setState({status:me})},o.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,a=this.props.nodeRef?[i]:[r.findDOMNode(this),i],o=a[0],s=a[1],u=this.getTimeouts(),c=i?u.appear:u.enter;!e&&!n||pe?this.safeSetState({status:ke},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:ge},(function(){t.props.onEntering(o,s),t.onTransitionEnd(c,(function(){t.safeSetState({status:ke},(function(){t.props.onEntered(o,s)}))}))})))},o.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:r.findDOMNode(this);t&&!pe?(this.props.onExit(i),this.safeSetState({status:be},(function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:ye},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:ye},(function(){e.props.onExited(i)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:r.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=a[0],s=a[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===me)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,s(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(ve.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},a}(t.Component);function xe(){}we.contextType=ve,we.propTypes={},we.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:xe,onEntering:xe,onEntered:xe,onExit:xe,onExiting:xe,onExited:xe},we.UNMOUNTED=me,we.EXITED=ye,we.ENTERING=ge,we.ENTERED=ke,we.EXITING=be;var _e=we;function Ee(e){var t=function(e){return e&&e.ownerDocument||document}(e);return t&&t.defaultView||window}var Te=/([A-Z])/g;var Ie=/^ms-/;function Se(e){return function(e){return e.replace(Te,"-$1").toLowerCase()}(e).replace(Ie,"-ms-")}var Ce=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var Ae=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(Se(t))||function(e,t){return Ee(e).getComputedStyle(e,t)}(e).getPropertyValue(Se(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!Ce.test(e))}(i)?n+=Se(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(Se(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},Re=!("undefined"===typeof window||!window.document||!window.document.createElement),Ne=!1,Pe=!1;try{var Oe={get passive(){return Ne=!0},get once(){return Pe=Ne=!0}};Re&&(window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,!0))}catch(uF){}var De=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Pe){var i=r.once,a=r.capture,o=n;!Pe&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,Ne?r:a)}e.addEventListener(t,n,r)};var Le=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var Me=function(e,t,n,r){return De(e,t,n,r),function(){Le(e,t,n,r)}};function Fe(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=Me(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function Ue(e,t,n,r){null==n&&(n=function(e){var t=Ae(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=Fe(e,n,r),a=Me(e,"transitionend",t);return function(){i(),a()}}function je(e,t){var n=Ae(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function Ve(e,t){var n=je(e,"transitionDuration"),r=je(e,"transitionDelay"),i=Ue(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var Be=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var qe=function(e,n){return(0,t.useMemo)((function(){return function(e,t){var n=Be(e),r=Be(t);return function(e){n&&n(e),r&&r(e)}}(e,n)}),[e,n])};var ze,We=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],He=t.forwardRef((function(e,n){var i=e.onEnter,a=e.onEntering,s=e.onEntered,c=e.onExit,l=e.onExiting,h=e.onExited,d=e.addEndListener,p=e.children,v=e.childRef,m=u(e,We),y=(0,t.useRef)(null),g=qe(y,v),k=function(e){var t;g((t=e)&&"setState"in t?r.findDOMNode(t):null!=t?t:null)},b=function(e){return function(t){e&&y.current&&e(y.current,t)}},w=(0,t.useCallback)(b(i),[i]),x=(0,t.useCallback)(b(a),[a]),_=(0,t.useCallback)(b(s),[s]),E=(0,t.useCallback)(b(c),[c]),T=(0,t.useCallback)(b(l),[l]),I=(0,t.useCallback)(b(h),[h]),S=(0,t.useCallback)(b(d),[d]);return(0,f.jsx)(_e,o(o({ref:n},m),{},{onEnter:w,onEntered:_,onEntering:x,onExit:E,onExited:I,onExiting:T,addEndListener:S,nodeRef:y,children:"function"===typeof p?function(e,t){return p(e,o(o({},t),{},{ref:k}))}:t.cloneElement(p,{ref:k})}))})),Ke=He,Ge=["className","children","transitionClasses"],Qe=(i(ze={},ge,"show"),i(ze,ke,"show"),ze),Ye=t.forwardRef((function(e,n){var r=e.className,i=e.children,a=e.transitionClasses,s=void 0===a?{}:a,c=u(e,Ge),h=(0,t.useCallback)((function(e,t){!function(e){e.offsetHeight}(e),null==c.onEnter||c.onEnter(e,t)}),[c]);return(0,f.jsx)(Ke,o(o({ref:n,addEndListener:Ve},c),{},{onEnter:h,childRef:i.ref,children:function(e,n){return t.cloneElement(i,o(o({},n),{},{className:l()("fade",r,i.props.className,Qe[e],s[e])}))}}))}));Ye.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Ye.displayName="Fade";var Xe=Ye,Je=n(7),$e=n.n(Je),Ze=["className","variant"],et={"aria-label":$e().string,onClick:$e().func,variant:$e().oneOf(["white"])},tt=t.forwardRef((function(e,t){var n=e.className,r=e.variant,i=u(e,Ze);return(0,f.jsx)("button",o({ref:t,type:"button",className:l()("btn-close",r&&"btn-close-".concat(r),n)},i))}));tt.displayName="CloseButton",tt.propTypes=et,tt.defaultProps={"aria-label":"Close"};var nt=tt,rt=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],it=R("h4");it.displayName="DivStyledAsH4";var at=A("alert-heading",{Component:it}),ot=A("alert-link",{Component:he}),st={variant:"primary",show:!0,transition:Xe,closeLabel:"Close alert"},ut=t.forwardRef((function(e,t){var n=ee(e,{show:"onClose"}),r=n.bsPrefix,i=n.show,a=n.closeLabel,s=n.closeVariant,c=n.className,h=n.children,p=n.variant,v=n.onClose,m=n.dismissible,y=n.transition,g=u(n,rt),k=d(r,"alert"),b=ae((function(e){v&&v(!1,e)})),w=!0===y?Xe:y,x=(0,f.jsxs)("div",o(o({role:"alert"},w?void 0:g),{},{ref:t,className:l()(c,k,p&&"".concat(k,"-").concat(p),m&&"".concat(k,"-dismissible")),children:[m&&(0,f.jsx)(nt,{onClick:b,"aria-label":a,variant:s}),h]}));return w?(0,f.jsx)(w,o(o({unmountOnExit:!0},g),{},{ref:void 0,in:i,children:x})):i?x:null}));ut.displayName="Alert",ut.defaultProps=st;var ct=Object.assign(ut,{Link:ot,Heading:at}),lt=["as","className","type","tooltip"],ft={type:$e().string,tooltip:$e().bool,as:$e().elementType},ht=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.className,a=e.type,s=void 0===a?"valid":a,c=e.tooltip,h=void 0!==c&&c,d=u(e,lt);return(0,f.jsx)(r,o(o({},d),{},{ref:t,className:l()(i,"".concat(s,"-").concat(h?"tooltip":"feedback"))}))}));ht.displayName="Feedback",ht.propTypes=ft;var dt=ht,pt=t.createContext({}),vt=["id","bsPrefix","className","type","isValid","isInvalid","as"],mt=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,a=e.className,s=e.type,c=void 0===s?"checkbox":s,h=e.isValid,p=void 0!==h&&h,v=e.isInvalid,m=void 0!==v&&v,y=e.as,g=void 0===y?"input":y,k=u(e,vt),b=(0,t.useContext)(pt).controlId;return i=d(i,"form-check-input"),(0,f.jsx)(g,o(o({},k),{},{ref:n,type:c,id:r||b,className:l()(a,i,p&&"is-valid",m&&"is-invalid")}))}));mt.displayName="FormCheckInput";var yt=mt,gt=["bsPrefix","className","htmlFor"],kt=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.htmlFor,s=u(e,gt),c=(0,t.useContext)(pt).controlId;return r=d(r,"form-check-label"),(0,f.jsx)("label",o(o({},s),{},{ref:n,htmlFor:a||c,className:l()(i,r)}))}));kt.displayName="FormCheckLabel";var bt=kt;var wt=["id","bsPrefix","bsSwitchPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],xt=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,a=e.bsSwitchPrefix,s=e.inline,c=void 0!==s&&s,h=e.disabled,p=void 0!==h&&h,v=e.isValid,m=void 0!==v&&v,y=e.isInvalid,g=void 0!==y&&y,k=e.feedbackTooltip,b=void 0!==k&&k,w=e.feedback,x=e.feedbackType,_=e.className,E=e.style,T=e.title,I=void 0===T?"":T,S=e.type,C=void 0===S?"checkbox":S,A=e.label,R=e.children,N=e.as,P=void 0===N?"input":N,O=u(e,wt);i=d(i,"form-check"),a=d(a,"form-switch");var D=(0,t.useContext)(pt).controlId,L=(0,t.useMemo)((function(){return{controlId:r||D}}),[D,r]),M=!R&&null!=A&&!1!==A||function(e,n){return t.Children.toArray(e).some((function(e){return t.isValidElement(e)&&e.type===n}))}(R,bt),F=(0,f.jsx)(yt,o(o({},O),{},{type:"switch"===C?"checkbox":C,ref:n,isValid:m,isInvalid:g,disabled:p,as:P}));return(0,f.jsx)(pt.Provider,{value:L,children:(0,f.jsx)("div",{style:E,className:l()(_,M&&i,c&&"".concat(i,"-inline"),"switch"===C&&a),children:R||(0,f.jsxs)(f.Fragment,{children:[F,M&&(0,f.jsx)(bt,{title:I,children:A}),w&&(0,f.jsx)(dt,{type:x,tooltip:b,children:w})]})})})}));xt.displayName="FormCheck";var _t=Object.assign(xt,{Input:yt,Label:bt}),Et=(n(391),["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"]),Tt=t.forwardRef((function(e,n){var r,a,s=e.bsPrefix,c=e.type,h=e.size,p=e.htmlSize,v=e.id,m=e.className,y=e.isValid,g=void 0!==y&&y,k=e.isInvalid,b=void 0!==k&&k,w=e.plaintext,x=e.readOnly,_=e.as,E=void 0===_?"input":_,T=u(e,Et),I=(0,t.useContext)(pt).controlId;(s=d(s,"form-control"),w)?r=i({},"".concat(s,"-plaintext"),!0):(i(a={},s,!0),i(a,"".concat(s,"-").concat(h),h),r=a);return(0,f.jsx)(E,o(o({},T),{},{type:c,size:p,ref:n,readOnly:x,id:v||I,className:l()(m,r,g&&"is-valid",b&&"is-invalid","color"===c&&"".concat(s,"-color"))}))}));Tt.displayName="FormControl";var It=Object.assign(Tt,{Feedback:dt}),St=A("form-floating"),Ct=["controlId","as"],At=t.forwardRef((function(e,n){var r=e.controlId,i=e.as,a=void 0===i?"div":i,s=u(e,Ct),c=(0,t.useMemo)((function(){return{controlId:r}}),[r]);return(0,f.jsx)(pt.Provider,{value:c,children:(0,f.jsx)(a,o(o({},s),{},{ref:n}))})}));At.displayName="FormGroup";var Rt=At,Nt=["as","bsPrefix","className"],Pt=["className"],Ot=["xxl","xl","lg","md","sm","xs"];var Dt=t.forwardRef((function(e,t){var n=function(e){var t=e.as,n=e.bsPrefix,r=e.className,i=u(e,Nt);n=d(n,"col");var a=[],s=[];return Ot.forEach((function(e){var t,r,o,u=i[e];delete i[e],"object"===typeof u&&null!=u?(t=u.span,r=u.offset,o=u.order):t=u;var c="xs"!==e?"-".concat(e):"";t&&a.push(!0===t?"".concat(n).concat(c):"".concat(n).concat(c,"-").concat(t)),null!=o&&s.push("order".concat(c,"-").concat(o)),null!=r&&s.push("offset".concat(c,"-").concat(r))})),[o(o({},i),{},{className:l().apply(void 0,[r].concat(a,s))}),{as:t,bsPrefix:n,spans:a}]}(e),r=_(n,2),i=r[0],a=i.className,s=u(i,Pt),c=r[1],h=c.as,p=void 0===h?"div":h,v=c.bsPrefix,m=c.spans;return(0,f.jsx)(p,o(o({},s),{},{ref:t,className:l()(a,!m.length&&v)}))}));Dt.displayName="Col";var Lt=Dt,Mt=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],Ft=t.forwardRef((function(e,n){var r=e.as,i=void 0===r?"label":r,a=e.bsPrefix,s=e.column,c=e.visuallyHidden,h=e.className,p=e.htmlFor,v=u(e,Mt),m=(0,t.useContext)(pt).controlId;a=d(a,"form-label");var y="col-form-label";"string"===typeof s&&(y="".concat(y," ").concat(y,"-").concat(s));var g=l()(h,a,c&&"visually-hidden",s&&y);return p=p||m,s?(0,f.jsx)(Lt,o({ref:n,as:"label",className:g,htmlFor:p},v)):(0,f.jsx)(i,o({ref:n,className:g,htmlFor:p},v))}));Ft.displayName="FormLabel",Ft.defaultProps={column:!1,visuallyHidden:!1};var Ut=Ft,jt=["bsPrefix","className","id"],Vt=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.id,s=u(e,jt),c=(0,t.useContext)(pt).controlId;return r=d(r,"form-range"),(0,f.jsx)("input",o(o({},s),{},{type:"range",ref:n,className:l()(i,r),id:a||c}))}));Vt.displayName="FormRange";var Bt=Vt,qt=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],zt=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.size,a=e.htmlSize,s=e.className,c=e.isValid,h=void 0!==c&&c,p=e.isInvalid,v=void 0!==p&&p,m=e.id,y=u(e,qt),g=(0,t.useContext)(pt).controlId;return r=d(r,"form-select"),(0,f.jsx)("select",o(o({},y),{},{size:a,ref:n,className:l()(s,r,i&&"".concat(r,"-").concat(i),h&&"is-valid",v&&"is-invalid"),id:m||g}))}));zt.displayName="FormSelect";var Wt=zt,Ht=["bsPrefix","className","as","muted"],Kt=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"small":i,s=e.muted,c=u(e,Ht);return n=d(n,"form-text"),(0,f.jsx)(a,o(o({},c),{},{ref:t,className:l()(r,n,s&&"text-muted")}))}));Kt.displayName="FormText";var Gt=Kt,Qt=t.forwardRef((function(e,t){return(0,f.jsx)(_t,o(o({},e),{},{ref:t,type:"switch"}))}));Qt.displayName="Switch";var Yt=Object.assign(Qt,{Input:_t.Input,Label:_t.Label}),Xt=["bsPrefix","className","children","controlId","label"],Jt=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,a=e.controlId,s=e.label,c=u(e,Xt);return n=d(n,"form-floating"),(0,f.jsxs)(Rt,o(o({ref:t,className:l()(r,n),controlId:a},c),{},{children:[i,(0,f.jsx)("label",{htmlFor:a,children:s})]}))}));Jt.displayName="FloatingLabel";var $t=Jt,Zt=["className","validated","as"],en={_ref:$e().any,validated:$e().bool,as:$e().elementType},tn=t.forwardRef((function(e,t){var n=e.className,r=e.validated,i=e.as,a=void 0===i?"form":i,s=u(e,Zt);return(0,f.jsx)(a,o(o({},s),{},{ref:t,className:l()(n,r&&"was-validated")}))}));tn.displayName="Form",tn.propTypes=en;var nn=Object.assign(tn,{Group:Rt,Control:It,Floating:St,Check:_t,Switch:Yt,Label:Ut,Text:Gt,Range:Bt,Select:Wt,FloatingLabel:$t}),rn=["as","bsPrefix","variant","size","active","className"],an=t.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=e.size,s=e.active,c=e.className,h=u(e,rn),p=d(r,"btn"),v=_(ue(o({tagName:n},h)),2),m=v[0],y=v[1].tagName;return(0,f.jsx)(y,o(o(o({},h),m),{},{ref:t,className:l()(c,p,s&&"active",i&&"".concat(p,"-").concat(i),a&&"".concat(p,"-").concat(a),h.href&&h.disabled&&"disabled")}))}));an.displayName="Button",an.defaultProps={variant:"primary",active:!1,disabled:!1};var on=an;function sn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cn(e,t,n){return t&&un(e.prototype,t),n&&un(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ln(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=w(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function fn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&de(e,t)}function dn(e){return dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dn(e)}function pn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(uF){return!1}}function vn(e){return vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vn(e)}function mn(e,t){if(t&&("object"===vn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fn(e)}function yn(e){var t=pn();return function(){var n,r=dn(e);if(t){var i=dn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return mn(this,n)}}function gn(e,t,n){return gn=pn()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&de(i,n.prototype),i},gn.apply(null,arguments)}function kn(e){var t="function"===typeof Map?new Map:void 0;return kn=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return gn(e,arguments,dn(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),de(n,e)},kn(e)}var bn=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},wn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(bn(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},xn=function(e){return function(e){var t=bn(e);return wn.encodeByteArray(t,!0)}(e).replace(/\./g,"")},_n=function(e){try{return wn.decodeString(e,!0)}catch(uF){console.error("base64Decode failed: ",uF)}return null};function En(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=En(e[n],t[n]));return e}var Tn=function(){function e(){var t=this;sn(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return cn(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function In(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[xn(JSON.stringify({alg:"none",type:"JWT"})),xn(JSON.stringify(a)),""].join(".")}function Sn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Cn(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function An(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(uF){return!1}}function Rn(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Nn(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Pn(){var e=Sn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function On(){return"object"===typeof indexedDB}var Dn=function(e){hn(n,e);var t=yn(n);function n(e,r,i){var a;return sn(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(fn(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(fn(a),Ln.prototype.create),a}return cn(n)}(kn(Error)),Ln=function(){function e(t,n,r){sn(this,e),this.service=t,this.serviceName=n,this.errors=r}return cn(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Mn(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Dn(n,a,t);return o}}]),e}();function Mn(e,t){return e.replace(Fn,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Fn=/\{\$([^}]+)}/g;function Un(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function jn(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Vn(s)&&Vn(u)){if(!jn(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Vn(e){return null!==e&&"object"===typeof e}function Bn(e){for(var t=[],n=function(){var e=_(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function qn(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=_(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function zn(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Wn(e,t){var n=new Hn(e,t);return n.subscribe.bind(n)}var Hn=function(){function e(t,n){var r=this;sn(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return cn(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=ln(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Kn),void 0===r.error&&(r.error=Kn),void 0===r.complete&&(r.complete=Kn);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(uF){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(uF){"undefined"!==typeof console&&console.error&&console.error(uF)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Kn(){}function Gn(e){return e&&e._delegate?e._delegate:e}function Qn(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Yn(e){return function(e){if(Array.isArray(e))return b(e)}(e)||Qn(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Xn=function(){function e(t,n,r){sn(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return cn(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Jn="[DEFAULT]",$n=function(){function e(t,n){sn(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return cn(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Tn;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(uF){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(uF){if(r)return null;throw uF}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Jn})}catch(uF){}var t,n=ln(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=_(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(uF){}}}catch(u){n.e(u)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=g(E.mark((function e(){var t;return E.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Yn(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Yn(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=ln(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=_(i.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=ln(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(PE){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Jn?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(PE){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jn;return this.component?this.component.multipleInstances?e:Jn:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Zn,er,tr=function(){function e(t){sn(this,e),this.name=t,this.providers=new Map}return cn(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new $n(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),nr=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(er||(er={}));var rr,ir,ar={debug:er.DEBUG,verbose:er.VERBOSE,info:er.INFO,warn:er.WARN,error:er.ERROR,silent:er.SILENT},or=er.INFO,sr=(i(Zn={},er.DEBUG,"log"),i(Zn,er.VERBOSE,"log"),i(Zn,er.INFO,"info"),i(Zn,er.WARN,"warn"),i(Zn,er.ERROR,"error"),Zn),ur=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=sr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},cr=function(){function e(t){sn(this,e),this.name=t,this._logLevel=or,this._logHandler=ur,this._userLogHandler=null,nr.push(this)}return cn(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in er))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ar[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,er.DEBUG].concat(t)),this._logHandler.apply(this,[this,er.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,er.VERBOSE].concat(t)),this._logHandler.apply(this,[this,er.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,er.INFO].concat(t)),this._logHandler.apply(this,[this,er.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,er.WARN].concat(t)),this._logHandler.apply(this,[this,er.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,er.ERROR].concat(t)),this._logHandler.apply(this,[this,er.ERROR].concat(t))}}]),e}();var lr=function(){function e(t){sn(this,e),this.container=t}return cn(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var fr="@firebase/app",hr="0.7.13",dr=new cr("@firebase/app"),pr="[DEFAULT]",vr=(i(rr={},fr,"fire-core"),i(rr,"@firebase/app-compat","fire-core-compat"),i(rr,"@firebase/analytics","fire-analytics"),i(rr,"@firebase/analytics-compat","fire-analytics-compat"),i(rr,"@firebase/app-check","fire-app-check"),i(rr,"@firebase/app-check-compat","fire-app-check-compat"),i(rr,"@firebase/auth","fire-auth"),i(rr,"@firebase/auth-compat","fire-auth-compat"),i(rr,"@firebase/database","fire-rtdb"),i(rr,"@firebase/database-compat","fire-rtdb-compat"),i(rr,"@firebase/functions","fire-fn"),i(rr,"@firebase/functions-compat","fire-fn-compat"),i(rr,"@firebase/installations","fire-iid"),i(rr,"@firebase/installations-compat","fire-iid-compat"),i(rr,"@firebase/messaging","fire-fcm"),i(rr,"@firebase/messaging-compat","fire-fcm-compat"),i(rr,"@firebase/performance","fire-perf"),i(rr,"@firebase/performance-compat","fire-perf-compat"),i(rr,"@firebase/remote-config","fire-rc"),i(rr,"@firebase/remote-config-compat","fire-rc-compat"),i(rr,"@firebase/storage","fire-gcs"),i(rr,"@firebase/storage-compat","fire-gcs-compat"),i(rr,"@firebase/firestore","fire-fst"),i(rr,"@firebase/firestore-compat","fire-fst-compat"),i(rr,"fire-js","fire-js"),i(rr,"firebase","fire-js-all"),rr),mr=new Map,yr=new Map;function gr(e,t){try{e.container.addComponent(t)}catch(uF){dr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),uF)}}function kr(e,t){e.container.addOrOverwriteComponent(t)}function br(e){var t=e.name;if(yr.has(t))return dr.debug("There were multiple attempts to register component ".concat(t,".")),!1;yr.set(t,e);var n,r=ln(mr.values());try{for(r.s();!(n=r.n()).done;){gr(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function wr(e,t){return e.container.getProvider(t)}function xr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pr;wr(e,t).clearInstance(n)}function _r(){yr.clear()}var Er,Tr,Ir=(i(ir={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),i(ir,"bad-app-name","Illegal App name: '{$appName}"),i(ir,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),i(ir,"app-deleted","Firebase App named '{$appName}' already deleted"),i(ir,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),i(ir,"invalid-log-argument","First argument to `onLog` must be null or a function."),ir),Sr=new Ln("app","Firebase",Ir),Cr=function(){function e(t,n,r){var i=this;sn(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xn("app",(function(){return i}),"PUBLIC"))}return cn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Sr.create("app-deleted",{appName:this._name})}}]),e}(),Ar="9.6.3";function Rr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:pr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Sr.create("bad-app-name",{appName:String(i)});var a=mr.get(i);if(a){if(jn(e,a.options)&&jn(r,a.config))return a;throw Sr.create("duplicate-app",{appName:i})}var o,s=new tr(i),u=ln(yr.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new Cr(e,r,s);return mr.set(i,l),l}function Nr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pr,t=mr.get(e);if(!t)throw Sr.create("no-app",{appName:e});return t}function Pr(){return Array.from(mr.values())}function Or(e){return Dr.apply(this,arguments)}function Dr(){return Dr=g(E.mark((function e(t){var n;return E.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!mr.has(n)){e.next=6;break}return mr.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Dr.apply(this,arguments)}function Lr(e,t,n){var r,i=null!==(r=vr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void dr.warn(s.join(" "))}br(new Xn("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Mr(e,t){if(null!==e&&"function"!==typeof e)throw Sr.create("invalid-log-argument");!function(e,t){var n,r=ln(nr);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=ar[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:er[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Fr(e){var t;t=e,nr.forEach((function(e){e.setLogLevel(t)}))}Er="",br(new Xn("platform-logger",(function(e){return new lr(e)}),"PRIVATE")),Lr(fr,hr,Er),Lr(fr,hr,"esm2017"),Lr("fire-js","");var Ur=function(){function e(t,n){var r=this;sn(this,e),this._delegate=t,this.firebase=n,gr(t,new Xn("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return cn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Or(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pr;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pr;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){gr(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){kr(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),jr=(i(Tr={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),i(Tr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Tr),Vr=new Ln("app-compat","Firebase",jr);var Br=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Rr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Un(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Lr,setLogLevel:Fr,onLog:Mr,apps:null,SDK_VERSION:Ar,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(br(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Vr.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&En(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Un(n,e=e||pr))throw Vr.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Ur);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){En(n,e)},createSubscribe:Wn,ErrorFactory:Ln,deepExtend:En}),n}(),qr=new cr("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){qr.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var zr=self.firebase.SDK_VERSION;zr&&zr.indexOf("LITE")>=0&&qr.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Wr=Br;!function(e){Lr("@firebase/app-compat","0.1.14",e)}();function Hr(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=dn(e)););return e}function Kr(){return Kr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Hr(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Kr.apply(this,arguments)}Wr.registerVersion("firebase","9.6.3","app-compat");var Gr=function(e,t){return Gr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Gr(e,t)};function Qr(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Gr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Yr=function(){return Yr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Yr.apply(this,arguments)};function Xr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;function Jr(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function $r(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var Zr;Object.create;var ei="facebook.com",ti="github.com",ni="google.com",ri="password",ii="twitter.com",ai="EMAIL_SIGNIN",oi="PASSWORD_RESET",si="RECOVER_EMAIL",ui="REVERT_SECOND_FACTOR_ADDITION",ci="VERIFY_AND_CHANGE_EMAIL",li="VERIFY_EMAIL";function fi(){return i({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var hi=function(){var e;return i(e={},"admin-restricted-operation","This operation is restricted to administrators only."),i(e,"argument-error",""),i(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),i(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),i(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),i(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),i(e,"cordova-not-ready","Cordova framework is not ready."),i(e,"cors-unsupported","This browser is not supported."),i(e,"credential-already-in-use","This credential is already associated with a different user account."),i(e,"custom-token-mismatch","The custom token corresponds to a different audience."),i(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),i(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),i(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),i(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),i(e,"email-already-in-use","The email address is already in use by another account."),i(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),i(e,"expired-action-code","The action code has expired."),i(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),i(e,"internal-error","An internal AuthError has occurred."),i(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),i(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),i(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),i(e,"invalid-auth-event","An internal AuthError has occurred."),i(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),i(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),i(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),i(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),i(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),i(e,"invalid-email","The email address is badly formatted."),i(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),i(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),i(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),i(e,"invalid-credential","The supplied auth credential is malformed or has expired."),i(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),i(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),i(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),i(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),i(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),i(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),i(e,"wrong-password","The password is invalid or the user does not have a password."),i(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),i(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),i(e,"invalid-provider-id","The specified provider ID is invalid."),i(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),i(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),i(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),i(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),i(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),i(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),i(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),i(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),i(e,"missing-continue-uri","A continue URL must be provided in the request."),i(e,"missing-iframe-start","An internal AuthError has occurred."),i(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),i(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),i(e,"missing-multi-factor-info","No second factor identifier is provided."),i(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),i(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),i(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),i(e,"app-deleted","This instance of FirebaseApp has been deleted."),i(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),i(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),i(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),i(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),i(e,"no-auth-event","An internal AuthError has occurred."),i(e,"no-such-provider","User was not linked to an account with the given provider."),i(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),i(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),i(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),i(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),i(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),i(e,"provider-already-linked","User can only be linked to one identity for the given provider."),i(e,"quota-exceeded","The project's quota for this operation has been exceeded."),i(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),i(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),i(e,"rejected-credential","The request contains malformed or mismatching credentials."),i(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),i(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),i(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),i(e,"timeout","The operation has timed out."),i(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),i(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),i(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),i(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),i(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),i(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),i(e,"unverified-email","The operation requires a verified email."),i(e,"user-cancelled","The user did not grant your application the permissions it requested."),i(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),i(e,"user-disabled","The user account has been disabled by an administrator."),i(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),i(e,"user-signed-out",""),i(e,"weak-password","The password must be 6 characters long or more."),i(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),i(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},di=fi,pi=new Ln("auth","Firebase",fi()),vi=new cr("@firebase/auth");function mi(e){if(vi.logLevel<=er.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];vi.error.apply(vi,["Auth (".concat(Ar,"): ").concat(e)].concat(n))}}function yi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw wi.apply(void 0,[e].concat(n))}function gi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return wi.apply(void 0,[e].concat(n))}function ki(e,t,n){var r=Object.assign(Object.assign({},di()),i({},t,n));return new Ln("auth","Firebase",r).create(t,{appName:e.name})}function bi(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&yi(e,"argument-error"),ki(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function wi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Yn(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Yn(o)))}return pi.create.apply(pi,[e].concat(n))}function xi(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw wi.apply(void 0,[t].concat(r))}}function _i(e){var t="INTERNAL ASSERTION FAILED: "+e;throw mi(t),new Error(t)}function Ei(e,t){e||_i(t)}var Ti=new Map;function Ii(e){Ei(e instanceof Function,"Expected a class definition");var t=Ti.get(e);return t?(Ei(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ti.set(e,t),t)}function Si(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ci(){return"http:"===Ai()||"https:"===Ai()}function Ai(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Ri=function(){function e(t,n){sn(this,e),this.shortDelay=t,this.longDelay=n,Ei(n>t,"Short delay should be less than long delay!"),this.isMobile=Cn()||Nn()}return cn(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ci()||Rn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Ni(e,t){Ei(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Pi=function(){function e(){sn(this,e)}return cn(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void _i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void _i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void _i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Oi=(i(Zr={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),i(Zr,"MISSING_CUSTOM_TOKEN","internal-error"),i(Zr,"INVALID_IDENTIFIER","invalid-email"),i(Zr,"MISSING_CONTINUE_URI","internal-error"),i(Zr,"INVALID_PASSWORD","wrong-password"),i(Zr,"MISSING_PASSWORD","internal-error"),i(Zr,"EMAIL_EXISTS","email-already-in-use"),i(Zr,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),i(Zr,"INVALID_IDP_RESPONSE","invalid-credential"),i(Zr,"INVALID_PENDING_TOKEN","invalid-credential"),i(Zr,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),i(Zr,"MISSING_REQ_TYPE","internal-error"),i(Zr,"EMAIL_NOT_FOUND","user-not-found"),i(Zr,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),i(Zr,"EXPIRED_OOB_CODE","expired-action-code"),i(Zr,"INVALID_OOB_CODE","invalid-action-code"),i(Zr,"MISSING_OOB_CODE","internal-error"),i(Zr,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),i(Zr,"INVALID_ID_TOKEN","invalid-user-token"),i(Zr,"TOKEN_EXPIRED","user-token-expired"),i(Zr,"USER_NOT_FOUND","user-token-expired"),i(Zr,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),i(Zr,"INVALID_CODE","invalid-verification-code"),i(Zr,"INVALID_SESSION_INFO","invalid-verification-id"),i(Zr,"INVALID_TEMPORARY_PROOF","invalid-credential"),i(Zr,"MISSING_SESSION_INFO","missing-verification-id"),i(Zr,"SESSION_EXPIRED","code-expired"),i(Zr,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),i(Zr,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),i(Zr,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),i(Zr,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),i(Zr,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),i(Zr,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),i(Zr,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),i(Zr,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),i(Zr,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),i(Zr,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),i(Zr,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Zr),Di=new Ri(3e4,6e4);function Li(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Mi(e,t,n,r){return Fi.apply(this,arguments)}function Fi(){return Fi=g(T().mark((function e(t,n,r,i){var a,o=arguments;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Ui(t,a,g(T().mark((function e(){var a,o,s,u;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Bn(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Pi.fetch()(qi(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Fi.apply(this,arguments)}function Ui(e,t,n){return ji.apply(this,arguments)}function ji(){return ji=g(T().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Oi),n),e.prev=2,a=new zi(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Wi(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),l=_(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Wi(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==f){e.next=25;break}throw Wi(t,"email-already-in-use",s);case 25:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=30;break}throw ki(t,d,h);case 30:yi(t,d);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Dn)){e.next=37;break}throw e.t0;case 37:yi(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),ji.apply(this,arguments)}function Vi(e,t,n,r){return Bi.apply(this,arguments)}function Bi(){return Bi=g(T().mark((function e(t,n,r,i){var a,o,s=arguments;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Mi(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&yi(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Bi.apply(this,arguments)}function qi(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ni(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var zi=function(){function e(t){var n=this;sn(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(gi(n.auth,"timeout"))}),Di.get())}))}return cn(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Wi(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=gi(e,t,r);return i.customData._tokenResponse=n,i}function Hi(e,t){return Ki.apply(this,arguments)}function Ki(){return Ki=g(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mi(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Ki.apply(this,arguments)}function Gi(e,t){return Qi.apply(this,arguments)}function Qi(){return Qi=g(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mi(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Qi.apply(this,arguments)}function Yi(e,t){return Xi.apply(this,arguments)}function Xi(){return Xi=g(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mi(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Xi.apply(this,arguments)}function Ji(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(uF){}}function $i(){return $i=g(T().mark((function e(t){var n,r,i,a,o,s,u=arguments;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Gn(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,xi((a=ea(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Ji(Zi(a.auth_time)),issuedAtTime:Ji(Zi(a.iat)),expirationTime:Ji(Zi(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),$i.apply(this,arguments)}function Zi(e){return 1e3*Number(e)}function ea(e){var t=_(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return mi("JWT malformed, contained fewer than 3 sections"),null;try{var a=_n(r);return a?JSON.parse(a):(mi("Failed to decode base64 JWT payload"),null)}catch(uF){return mi("Caught error parsing JWT payload as JSON",uF),null}}function ta(e,t){return na.apply(this,arguments)}function na(){return na=g(T().mark((function e(t,n){var r=arguments;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Dn&&ra(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),na.apply(this,arguments)}function ra(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var ia=function(){function e(t){sn(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return cn(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(g(T().mark((function t(){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=g(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),aa=function(){function e(t,n){sn(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return cn(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Ji(this.lastLoginAt),this.creationTime=Ji(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function oa(e){return sa.apply(this,arguments)}function sa(){return sa=g(T().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,ta(t,Yi(r,{idToken:i}));case 6:xi(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?la(o.providerUserInfo):[],u=ca(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new aa(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),sa.apply(this,arguments)}function ua(){return(ua=g(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Gn(t),e.next=3,oa(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ca(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Yn(n),Yn(t))}function la(e){return e.map((function(e){var t=e.providerId,n=Xr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function fa(e,t){return ha.apply(this,arguments)}function ha(){return ha=g(T().mark((function e(t,n){var r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ui(t,{},g(T().mark((function e(){var r,i,a,o,s,u;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bn({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=qi(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Pi.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),ha.apply(this,arguments)}var da=function(){function e(){sn(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return cn(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){xi(e.idToken,"internal-error"),xi("undefined"!==typeof e.idToken,"internal-error"),xi("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=ea(e);return xi(t,"internal-error"),xi("undefined"!==typeof t.exp,"internal-error"),xi("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=g(T().mark((function e(t){var n,r=arguments;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],xi(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=g(T().mark((function e(t,n){var r,i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fa(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return _i("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(xi("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(xi("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(xi("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function pa(e,t){xi("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var va=function(){function e(t){sn(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Xr(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new ia(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.metadata=new aa(a.createdAt||void 0,a.lastLoginAt||void 0)}return cn(e,[{key:"getIdToken",value:function(){var e=g(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ta(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(xi(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return $i.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ua.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(xi(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){xi(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=g(T().mark((function e(t){var n,r,i=arguments;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,oa(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=g(T().mark((function e(){var t;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,ta(this,Hi(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;xi(k&&_,t,"internal-error");var E=da.fromJSON(this.name,_);xi("string"===typeof k,t,"internal-error"),pa(f,t.name),pa(h,t.name),xi("boolean"===typeof b,t,"internal-error"),xi("boolean"===typeof w,t,"internal-error"),pa(d,t.name),pa(p,t.name),pa(v,t.name),pa(m,t.name),pa(y,t.name),pa(g,t.name);var T=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(T.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(T._redirectEventId=m),T}},{key:"_fromIdTokenResponse",value:function(){var t=g(T().mark((function t(n,r){var i,a,o,s=arguments;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new da).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,oa(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),ma=function(){function e(){sn(this,e),this.type="NONE",this.storage={}}return cn(e,[{key:"_isAvailable",value:function(){var e=g(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=g(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=g(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=g(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();ma.type="NONE";var ya=ma;function ga(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var ka=function(){function e(t,n,r){sn(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=ga(this.userKey,a.apiKey,o),this.fullPersistenceKey=ga("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return cn(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=g(T().mark((function e(){var t;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?va._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=g(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=g(T().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Ii(ya),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=g(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Ii(ya),s=ga(i,n.config.apiKey,n.name),u=null,c=ln(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=va._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=g(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function ba(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ea(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(wa(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ia(t))return"Blackberry";if(Sa(t))return"Webos";if(xa(t))return"Safari";if((t.includes("chrome/")||_a(t))&&!t.includes("edge/"))return"Chrome";if(Ta(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function wa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn();return/firefox\//i.test(e)}function xa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function _a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn();return/crios\//i.test(e)}function Ea(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn();return/iemobile/i.test(e)}function Ta(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn();return/android/i.test(e)}function Ia(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn();return/blackberry/i.test(e)}function Sa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn();return/webos/i.test(e)}function Ca(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn();return/iphone|ipad|ipod/i.test(e)}function Aa(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn();return Ca(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Ra(){return Pn()&&10===document.documentMode}function Na(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn();return Ca(e)||Ta(e)||Sa(e)||Ia(e)||/windows phone/i.test(e)||Ea(e)}function Pa(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ba(Sn());break;case"Worker":t="".concat(ba(Sn()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ar,"/").concat(r)}var Oa=function(){function e(t,n){sn(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new La(this),this.idTokenSubscription=new La(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pi,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return cn(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Ii(t)),this._initializationPromise=this.queue(g(T().mark((function r(){var i,a;return T().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,ka.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=g(T().mark((function e(){var t;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=g(T().mark((function e(t){var n,r,i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return xi(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=g(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=g(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oa(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=g(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=g(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Gn(t):null)&&xi(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=g(T().mark((function e(t){var n=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&xi(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(g(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=g(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(g(T().mark((function n(){return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Ii(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ln("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=g(T().mark((function e(t,n){var r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=g(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return xi(n=t&&Ii(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,ka.create(this,[Ii(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=g(T().mark((function e(t){var n,r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(g(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=g(T().mark((function e(t){var n=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(g(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return xi(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=g(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return xi(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Pa(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=g(T().mark((function e(){var t;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Da(e){return Gn(e)}var La=function(){function e(t){var n=this;sn(this,e),this.auth=t,this.observer=null,this.addObserver=Wn((function(e){return n.observer=e}))}return cn(e,[{key:"next",get:function(){return xi(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Ma(e,t,n){var r=Da(e);xi(r._canInitEmulator,r,"emulator-config-failed"),xi(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Fa(t),o=function(e){var t=Fa(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Ua(r.substr(a.length+1))}}var o=_(r.split(":"),2);return{host:o[0],port:Ua(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Fa(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ua(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var ja=function(){function e(t,n){sn(this,e),this.providerId=t,this.signInMethod=n}return cn(e,[{key:"toJSON",value:function(){return _i("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return _i("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return _i("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return _i("not implemented")}}]),e}();function Va(e,t){return Ba.apply(this,arguments)}function Ba(){return Ba=g(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mi(t,"POST","/v1/accounts:resetPassword",Li(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ba.apply(this,arguments)}function qa(e,t){return za.apply(this,arguments)}function za(){return za=g(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mi(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),za.apply(this,arguments)}function Wa(e,t){return Ha.apply(this,arguments)}function Ha(){return Ha=g(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mi(t,"POST","/v1/accounts:update",Li(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ha.apply(this,arguments)}function Ka(e,t){return Ga.apply(this,arguments)}function Ga(){return Ga=g(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vi(t,"POST","/v1/accounts:signInWithPassword",Li(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ga.apply(this,arguments)}function Qa(e,t){return Ya.apply(this,arguments)}function Ya(){return Ya=g(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mi(t,"POST","/v1/accounts:sendOobCode",Li(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ya.apply(this,arguments)}function Xa(e,t){return Ja.apply(this,arguments)}function Ja(){return Ja=g(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qa(t,n));case 1:case"end":return e.stop()}}),e)}))),Ja.apply(this,arguments)}function $a(e,t){return Za.apply(this,arguments)}function Za(){return Za=g(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qa(t,n));case 1:case"end":return e.stop()}}),e)}))),Za.apply(this,arguments)}function eo(e,t){return to.apply(this,arguments)}function to(){return to=g(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qa(t,n));case 1:case"end":return e.stop()}}),e)}))),to.apply(this,arguments)}function no(e,t){return ro.apply(this,arguments)}function ro(){return ro=g(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qa(t,n));case 1:case"end":return e.stop()}}),e)}))),ro.apply(this,arguments)}function io(e,t){return ao.apply(this,arguments)}function ao(){return ao=g(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vi(t,"POST","/v1/accounts:signInWithEmailLink",Li(t,n)));case 1:case"end":return e.stop()}}),e)}))),ao.apply(this,arguments)}function oo(e,t){return so.apply(this,arguments)}function so(){return so=g(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vi(t,"POST","/v1/accounts:signInWithEmailLink",Li(t,n)));case 1:case"end":return e.stop()}}),e)}))),so.apply(this,arguments)}var uo=function(e){hn(n,e);var t=yn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return sn(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return cn(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=g(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ka(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",io(t,{email:this._email,oobCode:this._password}));case 5:yi(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=g(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",qa(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",oo(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:yi(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(ja);function co(e,t){return lo.apply(this,arguments)}function lo(){return lo=g(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vi(t,"POST","/v1/accounts:signInWithIdp",Li(t,n)));case 1:case"end":return e.stop()}}),e)}))),lo.apply(this,arguments)}var fo=function(e){hn(n,e);var t=yn(n);function n(){var e;return sn(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return cn(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return co(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,co(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,co(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Bn(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):yi("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Xr(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(ja);function ho(e,t){return po.apply(this,arguments)}function po(){return po=g(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mi(t,"POST","/v1/accounts:sendVerificationCode",Li(t,n)));case 1:case"end":return e.stop()}}),e)}))),po.apply(this,arguments)}function vo(){return vo=g(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vi(t,"POST","/v1/accounts:signInWithPhoneNumber",Li(t,n)));case 1:case"end":return e.stop()}}),e)}))),vo.apply(this,arguments)}function mo(){return mo=g(T().mark((function e(t,n){var r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vi(t,"POST","/v1/accounts:signInWithPhoneNumber",Li(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Wi(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),mo.apply(this,arguments)}var yo=i({},"USER_NOT_FOUND","user-not-found");function go(){return go=g(T().mark((function e(t,n){var r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Vi(t,"POST","/v1/accounts:signInWithPhoneNumber",Li(t,r),yo));case 2:case"end":return e.stop()}}),e)}))),go.apply(this,arguments)}var ko=function(e){hn(n,e);var t=yn(n);function n(e){var r;return sn(this,n),(r=t.call(this,"phone","phone")).params=e,r}return cn(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return vo.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return mo.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return go.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(ja);var bo=function(){function e(t){var n,r,i,a,o,s;sn(this,e);var u=qn(zn(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);xi(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return cn(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=qn(zn(e)).link,n=t?qn(zn(t)).deep_link_id:null,r=qn(zn(e)).deep_link_id;return(r?qn(zn(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(PE){return null}}}]),e}();var wo=function(){function e(){sn(this,e),this.providerId=e.PROVIDER_ID}return cn(e,null,[{key:"credential",value:function(e,t){return uo._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=bo.parseLink(t);return xi(n,"argument-error"),uo._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();wo.PROVIDER_ID="password",wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password",wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var xo=function(){function e(t){sn(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return cn(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),_o=function(e){hn(n,e);var t=yn(n);function n(){var e;return sn(this,n),(e=t.apply(this,arguments)).scopes=[],e}return cn(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Yn(this.scopes)}}]),n}(xo),Eo=function(e){hn(n,e);var t=yn(n);function n(){return sn(this,n),t.apply(this,arguments)}return cn(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return xi(e.idToken||e.accessToken,"argument-error"),fo._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return xi("providerId"in t&&"signInMethod"in t,"argument-error"),fo._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(uF){return null}}}]),n}(_o),To=function(e){hn(n,e);var t=yn(n);function n(){return sn(this,n),t.call(this,"facebook.com")}return cn(n,null,[{key:"credential",value:function(e){return fo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(PE){return null}}}]),n}(_o);To.FACEBOOK_SIGN_IN_METHOD="facebook.com",To.PROVIDER_ID="facebook.com";var Io=function(e){hn(n,e);var t=yn(n);function n(){var e;return sn(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return cn(n,null,[{key:"credential",value:function(e,t){return fo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(PE){return null}}}]),n}(_o);Io.GOOGLE_SIGN_IN_METHOD="google.com",Io.PROVIDER_ID="google.com";var So=function(e){hn(n,e);var t=yn(n);function n(){return sn(this,n),t.call(this,"github.com")}return cn(n,null,[{key:"credential",value:function(e){return fo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(PE){return null}}}]),n}(_o);So.GITHUB_SIGN_IN_METHOD="github.com",So.PROVIDER_ID="github.com";var Co=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return cn(n,[{key:"_getIdTokenResponse",value:function(e){return co(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,co(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,co(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(ja),Ao=function(e){hn(n,e);var t=yn(n);function n(e){return sn(this,n),xi(e.startsWith("saml."),"argument-error"),t.call(this,e)}return cn(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Co.fromJSON(e);return xi(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Co._create(r,n)}catch(uF){return null}}}]),n}(xo),Ro=function(e){hn(n,e);var t=yn(n);function n(){return sn(this,n),t.call(this,"twitter.com")}return cn(n,null,[{key:"credential",value:function(e,t){return fo._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(PE){return null}}}]),n}(_o);function No(e,t){return Po.apply(this,arguments)}function Po(){return Po=g(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vi(t,"POST","/v1/accounts:signUp",Li(t,n)));case 1:case"end":return e.stop()}}),e)}))),Po.apply(this,arguments)}Ro.TWITTER_SIGN_IN_METHOD="twitter.com",Ro.PROVIDER_ID="twitter.com";var Oo=function(){function e(t){sn(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return cn(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=g(T().mark((function t(n,r,i){var a,o,s,u,c=arguments;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,va._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Do(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=g(T().mark((function t(n,r,i){var a;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Do(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Do(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Lo(){return Lo=g(T().mark((function e(t){var n,r,i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Da(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Oo({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,No(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Oo._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Lo.apply(this,arguments)}var Mo=function(e){hn(n,e);var t=yn(n);function n(e,r,i,a){var o,s;return sn(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(fn(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return cn(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Dn);function Fo(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Mo._fromErrorAndOperation(e,n,t,r);throw n}))}function Uo(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function jo(e,t){return Vo.apply(this,arguments)}function Vo(){return Vo=g(T().mark((function e(t,n){var r,i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gn(t),e.next=3,zo(!0,r,n);case 3:return e.t0=Gi,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Uo(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Vo.apply(this,arguments)}function Bo(e,t){return qo.apply(this,arguments)}function qo(){return qo=g(T().mark((function e(t,n){var r,i,a=arguments;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=ta,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Oo._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),qo.apply(this,arguments)}function zo(e,t,n){return Wo.apply(this,arguments)}function Wo(){return(Wo=g(T().mark((function e(t,n,r){var i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oa(n);case 2:i=Uo(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",xi(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ho(e,t){return Ko.apply(this,arguments)}function Ko(){return Ko=g(T().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,ta(t,Fo(i,a,n,t),r);case 6:return xi((o=e.sent).idToken,i,"internal-error"),xi(s=ea(o.idToken),i,"internal-error"),u=s.sub,xi(t.uid===u,i,"user-mismatch"),e.abrupt("return",Oo._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&yi(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Ko.apply(this,arguments)}function Go(e,t){return Qo.apply(this,arguments)}function Qo(){return Qo=g(T().mark((function e(t,n){var r,i,a,o,s=arguments;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Fo(t,i,n);case 4:return a=e.sent,e.next=7,Oo._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Qo.apply(this,arguments)}function Yo(e,t){return Xo.apply(this,arguments)}function Xo(){return Xo=g(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go(Da(t),n));case 1:case"end":return e.stop()}}),e)}))),Xo.apply(this,arguments)}function Jo(e,t){return $o.apply(this,arguments)}function $o(){return($o=g(T().mark((function e(t,n){var r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gn(t),e.next=3,zo(!1,r,n.providerId);case 3:return e.abrupt("return",Bo(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zo(e,t){return es.apply(this,arguments)}function es(){return(es=g(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ho(Gn(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ts(e,t){return ns.apply(this,arguments)}function ns(){return ns=g(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vi(t,"POST","/v1/accounts:signInWithCustomToken",Li(t,n)));case 1:case"end":return e.stop()}}),e)}))),ns.apply(this,arguments)}function rs(){return rs=g(T().mark((function e(t,n){var r,i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Da(t),e.next=3,ts(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Oo._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),rs.apply(this,arguments)}var is=function(){function e(t,n){sn(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return cn(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?as._fromServerResponse(e,t):yi(e,"internal-error")}}]),e}(),as=function(e){hn(n,e);var t=yn(n);function n(e){var r;return sn(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return cn(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(is);function os(e,t,n){var r;xi((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),xi("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(xi(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(xi(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function ss(){return ss=g(T().mark((function e(t,n,r){var i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Gn(t),a={requestType:"PASSWORD_RESET",email:n},r&&os(i,a,r),e.next=5,$a(i,a);case 5:case"end":return e.stop()}}),e)}))),ss.apply(this,arguments)}function us(){return us=g(T().mark((function e(t,n,r){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Va(Gn(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),us.apply(this,arguments)}function cs(){return cs=g(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wa(Gn(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),cs.apply(this,arguments)}function ls(e,t){return fs.apply(this,arguments)}function fs(){return fs=g(T().mark((function e(t,n){var r,i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gn(t),e.next=3,Va(r,{oobCode:n});case 3:i=e.sent,xi(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return xi(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:xi(i.mfaInfo,r,"internal-error");case 13:xi(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=is._fromServerResponse(Da(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),fs.apply(this,arguments)}function hs(){return hs=g(T().mark((function e(t,n){var r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ls(Gn(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),hs.apply(this,arguments)}function ds(e,t,n){return ps.apply(this,arguments)}function ps(){return ps=g(T().mark((function e(t,n,r){var i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Da(t),e.next=3,No(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Oo._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),ps.apply(this,arguments)}function vs(){return vs=g(T().mark((function e(t,n,r){var i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Gn(t),a={requestType:"EMAIL_SIGNIN",email:n},xi(r.handleCodeInApp,i,"argument-error"),r&&os(i,a,r),e.next=6,eo(i,a);case 6:case"end":return e.stop()}}),e)}))),vs.apply(this,arguments)}function ms(){return ms=g(T().mark((function e(t,n,r){var i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Gn(t),xi((a=wo.credentialWithLink(n,r||Si()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Yo(i,a));case 4:case"end":return e.stop()}}),e)}))),ms.apply(this,arguments)}function ys(e,t){return gs.apply(this,arguments)}function gs(){return gs=g(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mi(t,"POST","/v1/accounts:createAuthUri",Li(t,n)));case 1:case"end":return e.stop()}}),e)}))),gs.apply(this,arguments)}function ks(){return ks=g(T().mark((function e(t,n){var r,i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ci()?Si():"http://localhost",i={identifier:n,continueUri:r},e.next=4,ys(Gn(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),ks.apply(this,arguments)}function bs(){return(bs=g(T().mark((function e(t,n){var r,i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gn(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&os(r.auth,a,n),e.next=8,Xa(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ws(){return(ws=g(T().mark((function e(t,n,r){var i,a,o,s;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Gn(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&os(i.auth,o,r),e.next=8,no(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xs(e,t){return _s.apply(this,arguments)}function _s(){return _s=g(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mi(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),_s.apply(this,arguments)}function Es(){return(Es=g(T().mark((function e(t,n){var r,i,a,o,s,u,c;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Gn(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,ta(a,xs(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ts(e,t,n){return Is.apply(this,arguments)}function Is(){return Is=g(T().mark((function e(t,n,r){var i,a,o,s;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,ta(t,qa(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),Is.apply(this,arguments)}var Ss=cn((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};sn(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Cs=function(e){hn(n,e);var t=yn(n);function n(e,r,i,a){var o;return sn(this,n),(o=t.call(this,e,r,i)).username=a,o}return cn(n)}(Ss),As=function(e){hn(n,e);var t=yn(n);function n(e,r){return sn(this,n),t.call(this,e,"facebook.com",r)}return cn(n)}(Ss),Rs=function(e){hn(n,e);var t=yn(n);function n(e,r){return sn(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return cn(n)}(Cs),Ns=function(e){hn(n,e);var t=yn(n);function n(e,r){return sn(this,n),t.call(this,e,"google.com",r)}return cn(n)}(Ss),Ps=function(e){hn(n,e);var t=yn(n);function n(e,r,i){return sn(this,n),t.call(this,e,"twitter.com",r,i)}return cn(n)}(Cs);function Os(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=ea(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Ss(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new As(a,i);case"github.com":return new Rs(a,i);case"google.com":return new Ns(a,i);case"twitter.com":return new Ps(a,i,e.screenName||null);case"custom":case"anonymous":return new Ss(a,null);default:return new Ss(a,r,i)}}(n)}var Ds=function(){function e(t,n){sn(this,e),this.type=t,this.credential=n}return cn(e,[{key:"toJSON",value:function(){return{multiFactorSession:i({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Ls=function(){function e(t,n,r){sn(this,e),this.session=t,this.hints=n,this.signInResolver=r}return cn(e,[{key:"resolveSignIn",value:function(){var e=g(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Da(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return is._fromServerResponse(r,e)}));xi(i.mfaPendingCredential,r,"internal-error");var o=Ds._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=g(T().mark((function e(t){var a,s,u;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Oo._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return xi(n.user,r,"internal-error"),e.abrupt("return",Oo._forOperation(n.user,n.operationType,s));case 17:yi(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Ms(e,t){return Mi(e,"POST","/v2/accounts/mfaEnrollment:start",Li(e,t))}function Fs(e,t){return Mi(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Li(e,t))}var Us=function(){function e(t){var n=this;sn(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return is._fromServerResponse(t.auth,e)})))}))}return cn(e,[{key:"getSession",value:function(){var e=g(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ds,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=g(T().mark((function e(t,n){var r,i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,ta(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=g(T().mark((function e(t){var n,r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,ta(this.user,Fs(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),js=new WeakMap;var Vs="__sak",Bs=function(){function e(t,n){sn(this,e),this.storageRetriever=t,this.type=n}return cn(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Vs,"1"),this.storage.removeItem(Vs),Promise.resolve(!0)):Promise.resolve(!1)}catch(PE){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var qs=function(e){hn(n,e);var t=yn(n);function n(){var e;return sn(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Sn();return xa(e)||Ca(e)}()&&function(){try{return!(!window||window===window.top)}catch(uF){return!1}}(),e.fallbackToPolling=Na(),e._shouldAllowMigration=!0,e}return cn(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Ra()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=g(T().mark((function e(t,r){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kr(dn(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=g(T().mark((function e(t){var r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kr(dn(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=g(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kr(dn(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Bs);qs.type="LOCAL";var zs=qs,Ws=function(e){hn(n,e);var t=yn(n);function n(){return sn(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return cn(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Bs);Ws.type="SESSION";var Hs=Ws;function Ks(e){return Promise.all(e.map(function(){var e=g(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Gs=function(){function e(t){sn(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return cn(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=g(T().mark((function e(t){var n,r,i,a,o,s,u,c;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=g(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Ks(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Qs(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Gs.receivers=[];var Ys=function(){function e(t){sn(this,e),this.target=t,this.handlers=new Set}return cn(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=g(T().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Qs("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Xs(){return window}function Js(){return"undefined"!==typeof Xs().WorkerGlobalScope&&"function"===typeof Xs().importScripts}function $s(){return Zs.apply(this,arguments)}function Zs(){return(Zs=g(T().mark((function e(){var t;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function eu(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var tu="firebaseLocalStorageDb",nu="firebaseLocalStorage",ru="fbase_key",iu=function(){function e(t){sn(this,e),this.request=t}return cn(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function au(e,t){return e.transaction([nu],t?"readwrite":"readonly").objectStore(nu)}function ou(){var e=indexedDB.deleteDatabase(tu);return new iu(e).toPromise()}function su(){var e=indexedDB.open(tu,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(nu,{keyPath:ru})}catch(uF){n(uF)}})),e.addEventListener("success",g(T().mark((function n(){var r;return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(nu)){n.next=12;break}return r.close(),n.next=5,ou();case 5:return n.t0=t,n.next=8,su();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function uu(e,t,n){return cu.apply(this,arguments)}function cu(){return cu=g(T().mark((function e(t,n,r){var a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=au(t,!0).put((i(a={},ru,n),i(a,"value",r),a)),e.abrupt("return",new iu(o).toPromise());case 2:case"end":return e.stop()}}),e)}))),cu.apply(this,arguments)}function lu(e,t){return fu.apply(this,arguments)}function fu(){return fu=g(T().mark((function e(t,n){var r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=au(t,!1).get(n),e.next=3,new iu(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),fu.apply(this,arguments)}function hu(e,t){var n=au(e,!0).delete(t);return new iu(n).toPromise()}var du=function(){function e(){sn(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return cn(e,[{key:"_openDb",value:function(){var e=g(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,su();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=g(T().mark((function e(t){var n,r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=g(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Js()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=g(T().mark((function e(){var t=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Gs._getInstance(Js()?self:null),this.receiver._subscribe("keyChanged",function(){var e=g(T().mark((function e(n,r){var i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=g(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=g(T().mark((function e(){var t,n,r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$s();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Ys(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=g(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&eu()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=g(T().mark((function e(){var t;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,su();case 5:return t=e.sent,e.next=8,uu(t,Vs,"1");case 8:return e.next=10,hu(t,Vs);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=g(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=g(T().mark((function e(t,n){var r=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(g(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return uu(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=g(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return lu(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=g(T().mark((function e(t){var n=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(g(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return hu(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=g(T().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=au(e,!1).getAll();return new iu(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=ln(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(g(T().mark((function t(){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();du.type="LOCAL";var pu=du;function vu(e,t){return Mi(e,"POST","/v2/accounts/mfaSignIn:start",Li(e,t))}function mu(e){return yu.apply(this,arguments)}function yu(){return yu=g(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mi(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),yu.apply(this,arguments)}function gu(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=gi("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function ku(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var bu=1e12,wu=function(){function e(t){sn(this,e),this.auth=t,this.counter=bu,this._widgets=new Map}return cn(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new xu(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||bu;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||bu;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=g(T().mark((function e(t){var n,r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||bu,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),xu=function(){function e(t,n,r){var i=this;sn(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;xi(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return cn(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(uF){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(uF){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var _u=ku("rcb"),Eu=new Ri(3e4,6e4),Tu="https://www.google.com/recaptcha/api.js?",Iu=function(){function e(){sn(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Xs().grecaptcha}return cn(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return xi(Su(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Xs().grecaptcha):new Promise((function(r,i){var a=Xs().setTimeout((function(){i(gi(e,"network-request-failed"))}),Eu.get());Xs()[_u]=function(){Xs().clearTimeout(a),delete Xs()[_u];var o=Xs().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(gi(e,"internal-error"))},gu("".concat(Tu,"?").concat(Bn({onload:_u,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(gi(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Xs().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Su(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Cu=function(){function e(){sn(this,e)}return cn(e,[{key:"load",value:function(){var e=g(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new wu(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Au="recaptcha",Ru={theme:"light",type:"image"},Nu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Ru),r=arguments.length>2?arguments[2]:void 0;sn(this,e),this.parameters=n,this.type=Au,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Da(r),this.isInvisible="invisible"===this.parameters.size,xi("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;xi(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Cu:new Iu,this.validateStartingState()}return cn(e,[{key:"verify",value:function(){var e=g(T().mark((function e(){var t,n,r,i=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(uF){return Promise.reject(uF)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){xi(!this.parameters.sitekey,this.auth,"argument-error"),xi(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),xi("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Xs()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){xi(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=g(T().mark((function e(){var t,n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=g(T().mark((function e(){var t;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xi(Ci()&&!Js(),this.auth,"internal-error"),e.next=3,Pu();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,mu(this.auth);case 8:xi(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return xi(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Pu(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Ou=function(){function e(t,n){sn(this,e),this.verificationId=t,this.onConfirmation=n}return cn(e,[{key:"confirm",value:function(e){var t=ko._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Du(){return Du=g(T().mark((function e(t,n,r){var i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Da(t),e.next=3,Uu(i,n,Gn(r));case 3:return a=e.sent,e.abrupt("return",new Ou(a,(function(e){return Yo(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Du.apply(this,arguments)}function Lu(e,t,n){return Mu.apply(this,arguments)}function Mu(){return(Mu=g(T().mark((function e(t,n,r){var i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Gn(t),e.next=3,zo(!1,i,"phone");case 3:return e.next=5,Uu(i.auth,n,Gn(r));case 5:return a=e.sent,e.abrupt("return",new Ou(a,(function(e){return Jo(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fu(){return(Fu=g(T().mark((function e(t,n,r){var i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Gn(t),e.next=3,Uu(i.auth,n,Gn(r));case 3:return a=e.sent,e.abrupt("return",new Ou(a,(function(e){return Zo(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uu(e,t,n){return ju.apply(this,arguments)}function ju(){return ju=g(T().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,xi("string"===typeof a,t,"argument-error"),xi(r.type===Au,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return xi("enroll"===s.type,t,"internal-error"),e.next=13,Ms(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return xi("signin"===s.type,t,"internal-error"),xi(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,vu(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,ho(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),ju.apply(this,arguments)}function Vu(){return(Vu=g(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bo(Gn(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Bu=function(){function e(t){sn(this,e),this.providerId=e.PROVIDER_ID,this.auth=Da(t)}return cn(e,[{key:"verifyPhoneNumber",value:function(e,t){return Uu(this.auth,e,Gn(t))}}],[{key:"credential",value:function(e,t){return ko._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?ko._fromTokenResponse(n,r):null}}]),e}();function qu(e,t){return t?Ii(t):(xi(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Bu.PROVIDER_ID="phone",Bu.PHONE_SIGN_IN_METHOD="phone";var zu=function(e){hn(n,e);var t=yn(n);function n(e){var r;return sn(this,n),(r=t.call(this,"custom","custom")).params=e,r}return cn(n,[{key:"_getIdTokenResponse",value:function(e){return co(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return co(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return co(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(ja);function Wu(e){return Go(e.auth,new zu(e),e.bypassAuthState)}function Hu(e){var t=e.auth,n=e.user;return xi(n,t,"internal-error"),Ho(n,new zu(e),e.bypassAuthState)}function Ku(e){return Gu.apply(this,arguments)}function Gu(){return Gu=g(T().mark((function e(t){var n,r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,xi(r=t.user,n,"internal-error"),e.abrupt("return",Bo(r,new zu(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Gu.apply(this,arguments)}var Qu=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];sn(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return cn(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=g(T().mark((function t(n,r){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=g(T().mark((function e(t){var n,r,i,a,o,s,u;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Wu;case"linkViaPopup":case"linkViaRedirect":return Ku;case"reauthViaPopup":case"reauthViaRedirect":return Hu;default:yi(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Yu=new Ri(2e3,1e4);function Xu(e,t,n){return Ju.apply(this,arguments)}function Ju(){return Ju=g(T().mark((function e(t,n,r){var i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Da(t),bi(t,n,xo),a=qu(i,r),o=new tc(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Ju.apply(this,arguments)}function $u(){return($u=g(T().mark((function e(t,n,r){var i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bi((i=Gn(t)).auth,n,xo),a=qu(i.auth,r),o=new tc(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zu(e,t,n){return ec.apply(this,arguments)}function ec(){return(ec=g(T().mark((function e(t,n,r){var i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bi((i=Gn(t)).auth,n,xo),a=qu(i.auth,r),o=new tc(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var tc=function(e){hn(n,e);var t=yn(n);function n(e,r,i,a,o){var s;return sn(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=fn(s),s}return cn(n,[{key:"executeNotNull",value:function(){var e=g(T().mark((function e(){var t;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return xi(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=g(T().mark((function e(){var t,n=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ei(1===this.filter.length,"Popup operations only handle one event"),t=Qs(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(gi(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(gi(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(gi(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Yu.get())}()}}]),n}(Qu);tc.currentPopupAction=null;var nc=new Map,rc=function(e){hn(n,e);var t=yn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return sn(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return cn(n,[{key:"execute",value:function(){var e=g(T().mark((function e(){var t,r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=nc.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,ic(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Kr(dn(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:nc.set(this.auth._key(),t);case 21:return this.bypassAuthState||nc.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=g(T().mark((function e(t){var r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Kr(dn(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Kr(dn(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=g(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Qu);function ic(e,t){return ac.apply(this,arguments)}function ac(){return ac=g(T().mark((function e(t,n){var r,i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cc(n),i=uc(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),ac.apply(this,arguments)}function oc(e,t){return sc.apply(this,arguments)}function sc(){return sc=g(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uc(t)._set(cc(n),"true"));case 1:case"end":return e.stop()}}),e)}))),sc.apply(this,arguments)}function uc(e){return Ii(e._redirectPersistence)}function cc(e){return ga("pendingRedirect",e.config.apiKey,e.name)}function lc(e,t,n){return function(e,t,n){return fc.apply(this,arguments)}(e,t,n)}function fc(){return fc=g(T().mark((function e(t,n,r){var i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Da(t),bi(t,n,xo),a=qu(i,r),e.next=5,oc(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),fc.apply(this,arguments)}function hc(e,t,n){return function(e,t,n){return dc.apply(this,arguments)}(e,t,n)}function dc(){return(dc=g(T().mark((function e(t,n,r){var i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bi((i=Gn(t)).auth,n,xo),a=qu(i.auth,r),e.next=5,oc(a,i.auth);case 5:return e.next=7,bc(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pc(e,t,n){return function(e,t,n){return vc.apply(this,arguments)}(e,t,n)}function vc(){return(vc=g(T().mark((function e(t,n,r){var i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bi((i=Gn(t)).auth,n,xo),a=qu(i.auth,r),e.next=5,zo(!1,i,n.providerId);case 5:return e.next=7,oc(a,i.auth);case 7:return e.next=9,bc(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mc(e,t){return yc.apply(this,arguments)}function yc(){return yc=g(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Da(t)._initializationPromise;case 2:return e.abrupt("return",gc(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),yc.apply(this,arguments)}function gc(e,t){return kc.apply(this,arguments)}function kc(){return kc=g(T().mark((function e(t,n){var r,i,a,o,s,u=arguments;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Da(t),a=qu(i,n),o=new rc(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),kc.apply(this,arguments)}function bc(e){return wc.apply(this,arguments)}function wc(){return(wc=g(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qs("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xc=function(){function e(t){sn(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return cn(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ec(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Ec(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(gi(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(_c(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(_c(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function _c(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Ec(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Tc(e){return Ic.apply(this,arguments)}function Ic(){return Ic=g(T().mark((function e(t){var n,r=arguments;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Mi(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Ic.apply(this,arguments)}var Sc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cc=/^https?/;function Ac(){return Ac=g(T().mark((function e(t){var n,r,i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Tc(t);case 4:n=e.sent,r=n.authorizedDomains,i=ln(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Rc(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:yi(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Ac.apply(this,arguments)}function Rc(e){var t=Si(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Cc.test(r))return!1;if(Sc.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Nc=new Ri(3e4,6e4);function Pc(){var e=Xs().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Yn(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Oc=null;function Dc(e){return Oc=Oc||function(e){return new Promise((function(t,n){var r,i,a;function o(){Pc(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Pc(),n(gi(e,"network-request-failed"))},timeout:Nc.get()})}if(null===(i=null===(r=Xs().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Xs().gapi)||void 0===a?void 0:a.load)){var s=ku("iframefcb");return Xs()[s]=function(){gapi.load?o():n(gi(e,"network-request-failed"))},gu("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Oc=null,e}))}(e),Oc}var Lc=new Ri(5e3,15e3),Mc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Uc(e){var t=e.config;xi(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Ni(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Ar},i=Fc.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Bn(r).slice(1))}function jc(e){return Vc.apply(this,arguments)}function Vc(){return Vc=g(T().mark((function e(t){var n,r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dc(t);case 2:return n=e.sent,xi(r=Xs().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Uc(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mc,dontclear:!0},(function(e){return new Promise(function(){var n=g(T().mark((function n(r,i){var a,o,s;return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Xs().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=gi(t,"network-request-failed"),o=Xs().setTimeout((function(){i(a)}),Lc.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Vc.apply(this,arguments)}var Bc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qc="_blank",zc="http://localhost",Wc=function(){function e(t){sn(this,e),this.window=t,this.associatedEvent=null}return cn(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(uF){}}}]),e}();function Hc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Bc),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Sn().toLowerCase();n&&(s=_a(c)?qc:n),wa(c)&&(t=t||zc,u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=_(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Aa(c)&&"_self"!==s)return Kc(t||"",s),new Wc(null);var f=window.open(t||"",s,l);xi(f,e,"popup-blocked");try{f.focus()}catch(uF){}return new Wc(f)}function Kc(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Gc="__/auth/handler",Qc="emulator/auth/handler";function Yc(e,t,n,r,i,a){xi(e.config.authDomain,e,"auth-domain-config-required"),xi(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ar,eventId:i};if(t instanceof xo){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=_(u[s],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof _o){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Gc);return Ni(t,Qc)}(e),"?").concat(Bn(d).slice(1))}var Xc="webStorageSupport",Jc=function(){function e(){sn(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hs,this._completeRedirectFn=gc}return cn(e,[{key:"_openPopup",value:function(){var e=g(T().mark((function e(t,n,r,i){var a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ei(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Yc(t,n,r,Si(),i),e.abrupt("return",Hc(t,o,Qs()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=g(T().mark((function e(t,n,r,i){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Yc(t,n,r,Si(),i),Xs().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Ei(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=g(T().mark((function e(t){var n,r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jc(t);case 2:return n=e.sent,r=new xc(t),n.register("authEvent",(function(e){return xi(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Xc,{type:Xc},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),yi(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ac.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Na()||xa()||Ca()}}]),e}(),$c=Jc,Zc=function(){function e(t){sn(this,e),this.factorId=t}return cn(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return _i("unexpected MultiFactorSessionType")}}}]),e}(),el=function(e){hn(n,e);var t=yn(n);function n(e){var r;return sn(this,n),(r=t.call(this,"phone")).credential=e,r}return cn(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Mi(e,"POST","/v2/accounts/mfaEnrollment:finalize",Li(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Mi(e,"POST","/v2/accounts/mfaSignIn:finalize",Li(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Zc),tl=function(){function e(){sn(this,e)}return cn(e,null,[{key:"assertion",value:function(e){return el._fromCredential(e)}}]),e}();tl.FACTOR_ID="phone";var nl,rl="@firebase/auth",il="0.19.5",al=function(){function e(t){sn(this,e),this.auth=t,this.internalListeners=new Map}return cn(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=g(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){xi(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function ol(){return window}nl="Browser",br(new Xn("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){xi(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),xi(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:nl,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pa(nl)},r=new Oa(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ii);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),br(new Xn("auth-internal",(function(e){return function(e){return new al(e)}(Da(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(rl,il,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(nl)),Lr(rl,il,"esm2017");function sl(e,t,n){return ul.apply(this,arguments)}function ul(){return ul=g(T().mark((function e(t,n,r){var i,a,o,s,u;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ol(),o=a.BuildInfo,Ei(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,pl(n.sessionId);case 4:return s=e.sent,u={},Ca()?u.ibi=o.packageName:Ta()?u.apn=o.packageName:yi(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",Yc(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),ul.apply(this,arguments)}function cl(){return cl=g(T().mark((function e(t){var n,r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ol(),r=n.BuildInfo,i={},Ca()?i.iosBundleId=r.packageName:Ta()?i.androidPackageName=r.packageName:yi(t,"operation-not-supported-in-this-environment"),e.next=5,Tc(t,i);case 5:case"end":return e.stop()}}),e)}))),cl.apply(this,arguments)}function ll(e){var t=ol().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function fl(e,t,n){return hl.apply(this,arguments)}function hl(){return hl=g(T().mark((function e(t,n,r){var i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ol(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(gi(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),Ta()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),hl.apply(this,arguments)}function dl(e){var t,n,r,i,a,o,s,u,c,l,f=ol();xi("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),xi("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),xi("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),xi("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),xi("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function pl(e){return vl.apply(this,arguments)}function vl(){return(vl=g(T().mark((function e(t){var n,r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ml(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ml(e){if(Ei(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var yl=function(e){hn(n,e);var t=yn(n);function n(){var e;return sn(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return cn(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Kr(dn(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=g(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(xc);function gl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:_l(),postBody:null,tenantId:e.tenantId,error:gi(e,"no-auth-event")}}function kl(e,t){return El()._set(Tl(e),t)}function bl(e){return wl.apply(this,arguments)}function wl(){return wl=g(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,El()._get(Tl(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,El()._remove(Tl(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),wl.apply(this,arguments)}function xl(e,t){var n,r,i=function(e){var t=Il(e),n=t.link?decodeURIComponent(t.link):void 0,r=Il(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Il(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Il(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(uF){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?gi(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function _l(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function El(){return Ii(zs)}function Tl(e){return ga("authEvent",e.config.apiKey,e.name)}function Il(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=k(t=n)||Qn(t)||w(t)||x();r[0];return qn(r.slice(1).join("?"))}var Sl=function(){function e(){sn(this,e),this._redirectPersistence=Hs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=gc}return cn(e,[{key:"_initialize",value:function(){var e=g(T().mark((function e(t){var n,r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new yl(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){yi(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=g(T().mark((function e(t,n,r,i){var a,o,s,u;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dl(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),nc.clear(),e.next=10,this._originValidation(t);case 10:return o=gl(t,r,i),e.next=13,kl(t,o);case 13:return e.next=15,sl(t,o,n);case 15:return s=e.sent,e.next=18,ll(s);case 18:return u=e.sent,e.abrupt("return",fl(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return cl.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=ol(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(g(T().mark((function n(){return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,bl(e);case 2:t.onEvent(Al());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=g(T().mark((function n(r){var i,a;return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,bl(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=xl(i,r.url)),t.onEvent(a||Al());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");ol().handleOpenURL=function(){var e=g(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(uF){console.error(uF)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Cl=Sl;function Al(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:gi("no-auth-event")}}function Rl(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Nl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn();return!("file:"!==Rl()&&"ionic:"!==Rl()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Pl(){return Pn()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Ol(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn();return/Edge\/\d+/.test(e)}function Dl(){try{var e=self.localStorage,t=Qs();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn();return Pl()||Ol(e)}()||On()}catch(uF){return Ll()&&On()}return!1}function Ll(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Ml(){return("http:"===Rl()||"https:"===Rl()||Rn()||Nl())&&!(Nn()||An())&&Dl()&&!Ll()}function Fl(){return Nl()&&"undefined"!==typeof document}function Ul(){return jl.apply(this,arguments)}function jl(){return(jl=g(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Fl()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Vl={LOCAL:"local",NONE:"none",SESSION:"session"},Bl=xi,ql="persistence";function zl(e,t){Bl(Object.values(Vl).includes(t),e,"invalid-persistence-type"),Nn()?Bl(t!==Vl.SESSION,e,"unsupported-persistence-type"):An()?Bl(t===Vl.NONE,e,"unsupported-persistence-type"):Ll()?Bl(t===Vl.NONE||t===Vl.LOCAL&&On(),e,"unsupported-persistence-type"):Bl(t===Vl.NONE||Dl(),e,"unsupported-persistence-type")}function Wl(e){return Hl.apply(this,arguments)}function Hl(){return Hl=g(T().mark((function e(t){var n,r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Kl(),r=ga(ql,t.config.apiKey,t.name),(null===n||void 0===n?void 0:n.sessionStorage)&&n.sessionStorage.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Hl.apply(this,arguments)}function Kl(){return"undefined"!==typeof window?window:null}var Gl=xi,Ql=function(){function e(){sn(this,e),this.browserResolver=Ii($c),this.cordovaResolver=Ii(Cl),this.underlyingResolver=null,this._redirectPersistence=Hs,this._completeRedirectFn=gc}return cn(e,[{key:"_initialize",value:function(){var e=g(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=g(T().mark((function e(t,n,r,i){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=g(T().mark((function e(t,n,r,i){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Fl()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Gl(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=g(T().mark((function e(){var t;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ul();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Yl(e){return e.unwrap()}function Xl(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new tf(e,function(e,t){var n,r=Gn(e),i=t;return xi(t.customData.operationType,r,"argument-error"),xi(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Ls._fromError(r,i)}(e,t));else if(r){var i=Jl(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Jl(e){var t=(e instanceof Dn?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Dn)&&"temporaryProof"in t&&"phoneNumber"in t)return Bu.credentialFromResult(e);var n,r=t.providerId;if(!r||r===ri)return null;switch(r){case ni:n=Io;break;case ei:n=To;break;case ti:n=So;break;case ii:n=Ro;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?Co._create(r,s):fo._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new Eo(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof Dn?n.credentialFromError(e):n.credentialFromResult(e)}function $l(e,t){return t.catch((function(t){throw t instanceof Dn&&Xl(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Jl(t)),additionalUserInfo:Os(e),user:nf.getOrCreate(r)}}))}function Zl(e,t){return ef.apply(this,arguments)}function ef(){return ef=g(T().mark((function e(t,n){var r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return $l(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),ef.apply(this,arguments)}var tf=function(){function e(t,n){sn(this,e),this.resolver=n,this.auth=t.wrapped()}return cn(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return $l(Yl(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),nf=function(){function e(t){sn(this,e),this._delegate=t,this.multiFactor=function(e){var t=Gn(e);return js.has(t)||js.set(t,Us._fromUser(t)),js.get(t)}(t)}return cn(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=g(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$l(this.auth,Jo(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=g(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zl(this.auth,Lu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=g(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$l(this.auth,Zu(this._delegate,t,Ql)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=g(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wl(Da(this.auth));case 2:return e.abrupt("return",pc(this._delegate,t,Ql));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=g(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$l(this.auth,Zo(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Zl(this.auth,function(e,t,n){return Fu.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return $l(this.auth,function(e,t,n){return $u.apply(this,arguments)}(this._delegate,e,Ql))}},{key:"reauthenticateWithRedirect",value:function(){var e=g(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wl(Da(this.auth));case 2:return e.abrupt("return",hc(this._delegate,t,Ql));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return bs.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=g(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jo(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Ts(Gn(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Ts(Gn(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Vu.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Es.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return ws.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();nf.USER_MAP=new WeakMap;var rf=xi,af=function(){function e(t,n){if(sn(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;rf(r,"invalid-api-key",{appName:t.name}),rf(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Ql:void 0;this._delegate=n.initialize({options:{persistence:sf(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(hi),this.linkUnderlyingAuth()}return cn(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?nf.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Ma(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return cs.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return ls(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return us.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=g(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$l(this._delegate,ds(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return ks.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=bo.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=g(T().mark((function e(){var t;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rf(Ml(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,mc(this._delegate,Ql);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",$l(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Da(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=of(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=of(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return vs.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return ss.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=g(T().mark((function e(t){var n,r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:zl(this._delegate,t),e.t0=t,e.next=e.t0===Vl.SESSION?4:e.t0===Vl.LOCAL?6:e.t0===Vl.NONE?11:13;break;case 4:return n=Hs,e.abrupt("break",14);case 6:return e.next=8,Ii(pu)._isAvailable();case 8:return r=e.sent,n=r?pu:zs,e.abrupt("break",14);case 11:return n=ya,e.abrupt("break",14);case 13:return e.abrupt("return",yi("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return $l(this._delegate,function(e){return Lo.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return $l(this._delegate,Yo(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return $l(this._delegate,function(e,t){return rs.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return $l(this._delegate,function(e,t,n){return Yo(Gn(e),wo.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return $l(this._delegate,function(e,t,n){return ms.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Zl(this._delegate,function(e,t,n){return Du.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=g(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rf(Ml(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",$l(this._delegate,Xu(this._delegate,t,Ql)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=g(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rf(Ml(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Wl(this._delegate);case 3:return e.abrupt("return",lc(this._delegate,t,Ql));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return hs.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function of(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&nf.getOrCreate(e))},error:t,complete:n}}function sf(e,t){var n=function(e,t){var n=Kl();if(!(null===n||void 0===n?void 0:n.sessionStorage))return[];var r=ga(ql,e,t);switch(n.sessionStorage.getItem(r)){case Vl.NONE:return[ya];case Vl.LOCAL:return[pu,Hs];case Vl.SESSION:return[Hs];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(pu)||n.push(pu),"undefined"!==typeof window)for(var r=0,i=[zs,Hs];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(ya)||n.push(ya),n}af.Persistence=Vl;var uf=function(){function e(){sn(this,e),this.providerId="phone",this._delegate=new Bu(Yl(Wr.auth()))}return cn(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Bu.credential(e,t)}}]),e}();uf.PHONE_SIGN_IN_METHOD=Bu.PHONE_SIGN_IN_METHOD,uf.PROVIDER_ID=Bu.PROVIDER_ID;var cf,lf=xi,ff=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wr.app();sn(this,e),lf(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Nu(t,n,i.auth()),this.type=this._delegate.type}return cn(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(cf=Wr).INTERNAL.registerComponent(new Xn("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new af(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ai,PASSWORD_RESET:oi,RECOVER_EMAIL:si,REVERT_SECOND_FACTOR_ADDITION:ui,VERIFY_AND_CHANGE_EMAIL:ci,VERIFY_EMAIL:li}},EmailAuthProvider:wo,FacebookAuthProvider:To,GithubAuthProvider:So,GoogleAuthProvider:Io,OAuthProvider:Eo,SAMLAuthProvider:Ao,PhoneAuthProvider:uf,PhoneMultiFactorGenerator:tl,RecaptchaVerifier:ff,TwitterAuthProvider:Ro,Auth:af,AuthCredential:ja,Error:Dn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),cf.registerVersion("@firebase/auth-compat","0.2.5");var hf,df="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},pf={},vf=vf||{},mf=df||self;function yf(){}function gf(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function kf(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var bf="closure_uid_"+(1e9*Math.random()>>>0),wf=0;function xf(e,t,n){return e.call.apply(e.bind,arguments)}function _f(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ef(e,t,n){return(Ef=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xf:_f).apply(null,arguments)}function Tf(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function If(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Sf(){this.s=this.s,this.o=this.o}var Cf={};Sf.prototype.s=!1,Sf.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,bf)&&e[bf]||(e[bf]=++wf)}(this);delete Cf[e]}},Sf.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Af=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Rf=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Nf(e){return Array.prototype.concat.apply([],arguments)}function Pf(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Of(e){return/^[\s\xa0]*$/.test(e)}var Df,Lf=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Mf(e,t){return-1!=e.indexOf(t)}function Ff(e,t){return e<t?-1:e>t?1:0}e:{var Uf=mf.navigator;if(Uf){var jf=Uf.userAgent;if(jf){Df=jf;break e}}Df=""}function Vf(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Bf(e){var t={};for(var n in e)t[n]=e[n];return t}var qf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zf(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<qf.length;a++)n=qf[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Wf(e){return Wf[" "](e),e}Wf[" "]=yf;var Hf,Kf=Mf(Df,"Opera"),Gf=Mf(Df,"Trident")||Mf(Df,"MSIE"),Qf=Mf(Df,"Edge"),Yf=Qf||Gf,Xf=Mf(Df,"Gecko")&&!(Mf(Df.toLowerCase(),"webkit")&&!Mf(Df,"Edge"))&&!(Mf(Df,"Trident")||Mf(Df,"MSIE"))&&!Mf(Df,"Edge"),Jf=Mf(Df.toLowerCase(),"webkit")&&!Mf(Df,"Edge");function $f(){var e=mf.document;return e?e.documentMode:void 0}e:{var Zf="",eh=function(){var e=Df;return Xf?/rv:([^\);]+)(\)|;)/.exec(e):Qf?/Edge\/([\d\.]+)/.exec(e):Gf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Jf?/WebKit\/(\S+)/.exec(e):Kf?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(eh&&(Zf=eh?eh[1]:""),Gf){var th=$f();if(null!=th&&th>parseFloat(Zf)){Hf=String(th);break e}}Hf=Zf}var nh,rh={};function ih(){return function(e){var t=rh;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Lf(String(Hf)).split("."),n=Lf("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Ff(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Ff(0==a[2].length,0==o[2].length)||Ff(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(mf.document&&Gf){var ah=$f();nh=ah||(parseInt(Hf,10)||void 0)}else nh=void 0;var oh=nh,sh=function(){if(!mf.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{mf.addEventListener("test",yf,t),mf.removeEventListener("test",yf,t)}catch(cP){}return e}();function uh(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function ch(e,t){if(uh.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Xf){e:{try{Wf(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:lh[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ch.Z.h.call(this)}}uh.prototype.h=function(){this.defaultPrevented=!0},If(ch,uh);var lh={2:"touch",3:"pen",4:"mouse"};ch.prototype.h=function(){ch.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var fh="closure_listenable_"+(1e6*Math.random()|0),hh=0;function dh(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++hh,this.ca=this.fa=!1}function ph(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function vh(e){this.src=e,this.g={},this.h=0}function mh(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Af(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(ph(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function yh(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}vh.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=yh(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new dh(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var gh="closure_lm_"+(1e6*Math.random()|0),kh={};function bh(e,t,n,r,i){if(r&&r.once)return xh(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)bh(e,t[a],n,r,i);return null}return n=Ah(n),e&&e[fh]?e.N(t,n,kf(r)?!!r.capture:!!r,i):wh(e,t,n,!1,r,i)}function wh(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=kf(i)?!!i.capture:!!i,s=Sh(e);if(s||(e[gh]=s=new vh(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Ih;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)sh||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Th(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function xh(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)xh(e,t[a],n,r,i);return null}return n=Ah(n),e&&e[fh]?e.O(t,n,kf(r)?!!r.capture:!!r,i):wh(e,t,n,!0,r,i)}function _h(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)_h(e,t[a],n,r,i);else r=kf(r)?!!r.capture:!!r,n=Ah(n),e&&e[fh]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=yh(a=e.g[t],n,r,i))&&(ph(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Sh(e))&&(t=e.g[t.toString()],e=-1,t&&(e=yh(t,n,r,i)),(n=-1<e?t[e]:null)&&Eh(n))}function Eh(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[fh])mh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Th(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Sh(t))?(mh(n,e),0==n.h&&(n.src=null,t[gh]=null)):ph(e)}}}function Th(e){return e in kh?kh[e]:kh[e]="on"+e}function Ih(e,t){if(e.ca)e=!0;else{t=new ch(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Eh(e),e=n.call(r,t)}return e}function Sh(e){return(e=e[gh])instanceof vh?e:null}var Ch="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ah(e){return"function"===typeof e?e:(e[Ch]||(e[Ch]=function(t){return e.handleEvent(t)}),e[Ch])}function Rh(){Sf.call(this),this.i=new vh(this),this.P=this,this.I=null}function Nh(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new uh(t,e);else if(t instanceof uh)t.target=t.target||e;else{var i=t;zf(t=new uh(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ph(o,r,!0,t)&&i}if(i=Ph(o=t.g=e,r,!0,t)&&i,i=Ph(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ph(o=t.g=n[a],r,!1,t)&&i}function Ph(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&mh(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}If(Rh,Sf),Rh.prototype[fh]=!0,Rh.prototype.removeEventListener=function(e,t,n,r){_h(this,e,t,n,r)},Rh.prototype.M=function(){if(Rh.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ph(n[r]);delete t.g[e],t.h--}}this.I=null},Rh.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Rh.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Oh=mf.JSON.stringify;function Dh(){var e=qh,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Lh,Mh=function(){function e(){sn(this,e),this.h=this.g=null}return cn(e,[{key:"add",value:function(e,t){var n=Fh.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Fh=new(function(){function e(t,n){sn(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return cn(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Uh}),(function(e){return e.reset()})),Uh=function(){function e(){sn(this,e),this.next=this.g=this.h=null}return cn(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function jh(e){mf.setTimeout((function(){throw e}),0)}function Vh(e,t){Lh||function(){var e=mf.Promise.resolve(void 0);Lh=function(){e.then(zh)}}(),Bh||(Lh(),Bh=!0),qh.add(e,t)}var Bh=!1,qh=new Mh;function zh(){for(var e;e=Dh();){try{e.h.call(e.g)}catch(cP){jh(cP)}var t=Fh;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Bh=!1}function Wh(e,t){Rh.call(this),this.h=e||1,this.g=t||mf,this.j=Ef(this.kb,this),this.l=Date.now()}function Hh(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Kh(e,t,n){if("function"===typeof e)n&&(e=Ef(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ef(e.handleEvent,e)}return 2147483647<Number(t)?-1:mf.setTimeout(e,t||0)}function Gh(e){e.g=Kh((function(){e.g=null,e.i&&(e.i=!1,Gh(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}If(Wh,Rh),(hf=Wh.prototype).da=!1,hf.S=null,hf.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Nh(this,"tick"),this.da&&(Hh(this),this.start()))}},hf.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},hf.M=function(){Wh.Z.M.call(this),Hh(this),delete this.g};var Qh=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return cn(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Gh(this)}},{key:"M",value:function(){Kr(dn(n.prototype),"M",this).call(this),this.g&&(mf.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Sf);function Yh(e){Sf.call(this),this.h=e,this.g={}}If(Yh,Sf);var Xh=[];function Jh(e,t,n,r){Array.isArray(n)||(n&&(Xh[0]=n.toString()),n=Xh);for(var i=0;i<n.length;i++){var a=bh(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function $h(e){Vf(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Eh(e)}),e),e.g={}}function Zh(){this.g=!0}function ed(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Oh(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Yh.prototype.M=function(){Yh.Z.M.call(this),$h(this)},Yh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zh.prototype.Aa=function(){this.g=!1},Zh.prototype.info=function(){};var td={},nd=null;function rd(){return nd=nd||new Rh}function id(e){uh.call(this,td.Ma,e)}function ad(e){var t=rd();Nh(t,new id(t,e))}function od(e,t){uh.call(this,td.STAT_EVENT,e),this.stat=t}function sd(e){var t=rd();Nh(t,new od(t,e))}function ud(e,t){uh.call(this,td.Na,e),this.size=t}function cd(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return mf.setTimeout((function(){e()}),t)}td.Ma="serverreachability",If(id,uh),td.STAT_EVENT="statevent",If(od,uh),td.Na="timingevent",If(ud,uh);var ld={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},fd={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function hd(){}function dd(e){return e.h||(e.h=e.i())}function pd(){}hd.prototype.h=null;var vd,md={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function yd(){uh.call(this,"d")}function gd(){uh.call(this,"c")}function kd(){}function bd(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Yh(this),this.P=xd,e=Yf?125:void 0,this.W=new Wh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new wd}function wd(){this.i=null,this.g="",this.h=!1}If(yd,uh),If(gd,uh),If(kd,hd),kd.prototype.g=function(){return new XMLHttpRequest},kd.prototype.i=function(){return{}},vd=new kd;var xd=45e3,_d={},Ed={};function Td(e,t,n){e.K=1,e.v=Qd(qd(t)),e.s=n,e.U=!0,Id(e,null)}function Id(e,t){e.F=Date.now(),Rd(e),e.A=qd(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),sp(n.h,"t",r),e.C=0,n=e.l.H,e.h=new wd,e.g=uv(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Qh(Ef(e.Ia,e,e.g),e.O)),Jh(e.V,e.g,"readystatechange",e.gb),t=e.H?Bf(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ad(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Sd(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Cd(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Ad(e,n))==Ed){4==t&&(e.o=4,sd(14),i=!1),ed(e.j,e.m,null,"[Incomplete Response]");break}if(r==_d){e.o=4,sd(15),ed(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ed(e.j,e.m,r,null),Ld(e,r)}Sd(e)&&r!=Ed&&r!=_d&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,sd(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ev(t),t.L=!0,sd(11))):(ed(e.j,e.m,n,"[Invalid Chunked Response]"),Dd(e),Od(e))}function Ad(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ed:(n=Number(t.substring(n,r)),isNaN(n)?_d:(r+=1)+n>t.length?Ed:(t=t.substr(r,n),e.C=r+n,t))}function Rd(e){e.Y=Date.now()+e.P,Nd(e,e.P)}function Nd(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=cd(Ef(e.eb,e),t)}function Pd(e){e.B&&(mf.clearTimeout(e.B),e.B=null)}function Od(e){0==e.l.G||e.I||rv(e.l,e)}function Dd(e){Pd(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Hh(e.W),$h(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ld(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||pp(n.i,e)))if(n.I=e.N,!e.J&&pp(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;nv(n),Hp(n)}Zp(n),sd(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=cd(Ef(n.ab,n),6e3));if(1>=dp(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else av(n,11)}else if((e.J||n.g==e)&&nv(n),!Of(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Mf(l,"spdy")||Mf(l,"quic")||Mf(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(vp(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Gd(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=sv(r,r.H?r.la:null,r.W),d.J){mp(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Pd(p),Rd(p)),r.g=d}else $p(r);0<n.l.length&&Qp(n)}else"stop"!=a[0]&&"close"!=a[0]||av(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?av(n,7):Wp(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}ad(4)}catch(a){}}function Md(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(gf(e)||"string"===typeof e)Rf(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(gf(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(gf(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Fd(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Fd)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ud(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];jd(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)jd(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function jd(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(hf=bd.prototype).setTimeout=function(e){this.P=e},hf.gb=function(e){e=e.target;var t=this.L;t&&3==jp(e)?t.l():this.Ia(e)},hf.Ia=function(e){try{if(e==this.g)e:{var t=jp(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Yf||this.g&&(this.h.h||this.g.ga()||Vp(this.g)))){this.I||4!=t||7==n||ad(8==n||0>=r?3:2),Pd(this);var i=this.g.ba();this.N=i;t:if(Sd(this)){var a=Vp(this.g);e="";var o=a.length,s=4==jp(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Dd(this),Od(this);var u="";break t}this.h.i=new mf.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Of(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,sd(12),Dd(this),Od(this);break e}ed(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ld(this,i)}this.U?(Cd(this,t,u),Yf&&this.i&&3==t&&(Jh(this.V,this.W,"tick",this.fb),this.W.start())):(ed(this.j,this.m,u,null),Ld(this,u)),4==t&&Dd(this),this.i&&!this.I&&(4==t?rv(this.l,this):(this.i=!1,Rd(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,sd(12)):(this.o=0,sd(13)),Dd(this),Od(this)}}}catch(t){}},hf.fb=function(){if(this.g){var e=jp(this.g),t=this.g.ga();this.C<t.length&&(Pd(this),Cd(this,e,t),this.i&&4!=e&&Rd(this))}},hf.cancel=function(){this.I=!0,Dd(this)},hf.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(ad(3),sd(17)),Dd(this),this.o=2,Od(this)):Nd(this,this.Y-e)},(hf=Fd.prototype).R=function(){Ud(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},hf.T=function(){return Ud(this),this.g.concat()},hf.get=function(e,t){return jd(this.h,e)?this.h[e]:t},hf.set=function(e,t){jd(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},hf.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Vd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Bd(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Bd){this.g=void 0!==t?t:e.g,zd(this,e.j),this.s=e.s,Wd(this,e.i),Hd(this,e.m),this.l=e.l,t=e.h;var n=new rp;n.i=t.i,t.g&&(n.g=new Fd(t.g),n.h=t.h),Kd(this,n),this.o=e.o}else e&&(n=String(e).match(Vd))?(this.g=!!t,zd(this,n[1]||"",!0),this.s=Yd(n[2]||""),Wd(this,n[3]||"",!0),Hd(this,n[4]),this.l=Yd(n[5]||"",!0),Kd(this,n[6]||"",!0),this.o=Yd(n[7]||"")):(this.g=!!t,this.h=new rp(null,this.g))}function qd(e){return new Bd(e)}function zd(e,t,n){e.j=n?Yd(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Wd(e,t,n){e.i=n?Yd(t,!0):t}function Hd(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Kd(e,t,n){t instanceof rp?(e.h=t,function(e,t){t&&!e.j&&(ip(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ap(this,t),sp(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Xd(t,tp)),e.h=new rp(t,e.g))}function Gd(e,t,n){e.h.set(t,n)}function Qd(e){return Gd(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Yd(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Xd(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Jd),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Jd(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Bd.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Xd(t,$d,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Xd(t,$d,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Xd(n,"/"==n.charAt(0)?ep:Zd,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Xd(n,np)),e.join("")};var $d=/[#\/\?@]/g,Zd=/[#\?:]/g,ep=/[#\?]/g,tp=/[#\?@]/g,np=/#/g;function rp(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ip(e){e.g||(e.g=new Fd,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ap(e,t){ip(e),t=up(e,t),jd(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,jd((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Ud(e)))}function op(e,t){return ip(e),t=up(e,t),jd(e.g.h,t)}function sp(e,t,n){ap(e,t),0<n.length&&(e.i=null,e.g.set(up(e,t),Pf(n)),e.h+=n.length)}function up(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(hf=rp.prototype).add=function(e,t){ip(this),this.i=null,e=up(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},hf.forEach=function(e,t){ip(this),this.g.forEach((function(n,r){Rf(n,(function(n){e.call(t,n,r,this)}),this)}),this)},hf.T=function(){ip(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},hf.R=function(e){ip(this);var t=[];if("string"===typeof e)op(this,e)&&(t=Nf(t,this.g.get(up(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Nf(t,e[n])}return t},hf.set=function(e,t){return ip(this),this.i=null,op(this,e=up(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},hf.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},hf.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var cp=cn((function e(t,n){sn(this,e),this.h=t,this.g=n}));function lp(e){this.l=e||fp,mf.PerformanceNavigationTiming?e=0<(e=mf.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(mf.g&&mf.g.Ea&&mf.g.Ea()&&mf.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var fp=10;function hp(e){return!!e.h||!!e.g&&e.g.size>=e.j}function dp(e){return e.h?1:e.g?e.g.size:0}function pp(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function vp(e,t){e.g?e.g.add(t):e.h=t}function mp(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function yp(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=ln(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Pf(e.i)}function gp(){}function kp(){this.g=new gp}function bp(e,t,n){var r=n||"";try{Md(e,(function(e,n){var i=e;kf(e)&&(i=Oh(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(uF){throw t.push(r+"type="+encodeURIComponent("_badmap")),uF}}function wp(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function xp(e){this.l=e.$b||null,this.j=e.ib||!1}function _p(e,t){Rh.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Ep,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}lp.prototype.cancel=function(){if(this.i=yp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=ln(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},gp.prototype.stringify=function(e){return mf.JSON.stringify(e,void 0)},gp.prototype.parse=function(e){return mf.JSON.parse(e,void 0)},If(xp,hd),xp.prototype.g=function(){return new _p(this.l,this.j)},xp.prototype.i=function(e){return function(){return e}}({}),If(_p,Rh);var Ep=0;function Tp(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Ip(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Sp(e)}function Sp(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(hf=_p.prototype).open=function(e,t){if(this.readyState!=Ep)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Sp(this)},hf.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||mf).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},hf.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ip(this)),this.readyState=Ep},hf.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Sp(this)),this.g&&(this.readyState=3,Sp(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof mf.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Tp(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},hf.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ip(this):Sp(this),3==this.readyState&&Tp(this)}},hf.Ua=function(e){this.g&&(this.response=this.responseText=e,Ip(this))},hf.Ta=function(e){this.g&&(this.response=e,Ip(this))},hf.ha=function(){this.g&&Ip(this)},hf.setRequestHeader=function(e,t){this.v.append(e,t)},hf.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},hf.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(_p.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Cp=mf.JSON.parse;function Ap(e){Rh.call(this),this.headers=new Fd,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Rp,this.K=this.L=!1}If(Ap,Rh);var Rp="",Np=/^https?$/i,Pp=["POST","PUT"];function Op(e){return"content-type"==e.toLowerCase()}function Dp(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Lp(e),Fp(e)}function Lp(e){e.D||(e.D=!0,Nh(e,"complete"),Nh(e,"error"))}function Mp(e){if(e.h&&"undefined"!=typeof vf&&(!e.C[1]||4!=jp(e)||2!=e.ba()))if(e.v&&4==jp(e))Kh(e.Fa,0,e);else if(Nh(e,"readystatechange"),4==jp(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Vd)[1]||null;if(!a&&mf.self&&mf.self.location){var o=mf.self.location.protocol;a=o.substr(0,o.length-1)}i=!Np.test(a?a.toLowerCase():"")}t=i}if(t)Nh(e,"complete"),Nh(e,"success");else{e.m=6;try{var s=2<jp(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",Lp(e)}}finally{Fp(e)}}}function Fp(e,t){if(e.g){Up(e);var n=e.g,r=e.C[0]?yf:null;e.g=null,e.C=null,t||Nh(e,"ready");try{n.onreadystatechange=r}catch(uF){}}}function Up(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(mf.clearTimeout(e.A),e.A=null)}function jp(e){return e.g?e.g.readyState:0}function Vp(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Rp:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(uP){return null}}function Bp(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Vf(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Gd(e,t,n))}function qp(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function zp(e){this.za=0,this.l=[],this.h=new Zh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=qp("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=qp("baseRetryDelayMs",5e3,e),this.$a=qp("retryDelaySeedMs",1e4,e),this.Ya=qp("forwardChannelMaxRetries",2,e),this.ra=qp("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new lp(e&&e.concurrentRequestLimit),this.Ca=new kp,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Wp(e){if(Kp(e),3==e.G){var t=e.V++,n=qd(e.F);Gd(n,"SID",e.J),Gd(n,"RID",t),Gd(n,"TYPE","terminate"),Xp(e,n),(t=new bd(e,e.h,t,void 0)).K=2,t.v=Qd(qd(n)),n=!1,mf.navigator&&mf.navigator.sendBeacon&&(n=mf.navigator.sendBeacon(t.v.toString(),"")),!n&&mf.Image&&((new Image).src=t.v,n=!0),n||(t.g=uv(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Rd(t)}ov(e)}function Hp(e){e.g&&(ev(e),e.g.cancel(),e.g=null)}function Kp(e){Hp(e),e.u&&(mf.clearTimeout(e.u),e.u=null),nv(e),e.i.cancel(),e.m&&("number"===typeof e.m&&mf.clearTimeout(e.m),e.m=null)}function Gp(e,t){e.l.push(new cp(e.Za++,t)),3==e.G&&Qp(e)}function Qp(e){hp(e.i)||e.m||(e.m=!0,Vh(e.Ha,e),e.C=0)}function Yp(e,t){var n;n=t?t.m:e.V++;var r=qd(e.F);Gd(r,"SID",e.J),Gd(r,"RID",n),Gd(r,"AID",e.U),Xp(e,r),e.o&&e.s&&Bp(r,e.o,e.s),n=new bd(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Jp(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),vp(e.i,n),Td(n,r,t)}function Xp(e,t){e.j&&Md({},(function(e,n){Gd(t,n,e)}))}function Jp(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Ef(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{bp(l,o,"req"+c+"_")}catch(jv){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function $p(e){e.g||e.u||(e.Y=1,Vh(e.Ga,e),e.A=0)}function Zp(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=cd(Ef(e.Ga,e),iv(e,e.A)),e.A++,!0)}function ev(e){null!=e.B&&(mf.clearTimeout(e.B),e.B=null)}function tv(e){e.g=new bd(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=qd(e.oa);Gd(t,"RID","rpc"),Gd(t,"SID",e.J),Gd(t,"CI",e.N?"0":"1"),Gd(t,"AID",e.U),Xp(e,t),Gd(t,"TYPE","xmlhttp"),e.o&&e.s&&Bp(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Qd(qd(t)),n.s=null,n.U=!0,Id(n,e)}function nv(e){null!=e.v&&(mf.clearTimeout(e.v),e.v=null)}function rv(e,t){var n=null;if(e.g==t){nv(e),ev(e),e.g=null;var r=2}else{if(!pp(e.i,t))return;n=t.D,mp(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Nh(r=rd(),new ud(r,n,t,i)),Qp(e)}else $p(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(dp(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=cd(Ef(e.Ha,e,t),iv(e,e.C)),e.C++,!0))}(e,t)||2==r&&Zp(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:av(e,5);break;case 4:av(e,10);break;case 3:av(e,6);break;default:av(e,2)}}function iv(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function av(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Ef(e.jb,e);n||(n=new Bd("//www.google.com/images/cleardot.gif"),mf.location&&"http"==mf.location.protocol||zd(n,"https"),Qd(n)),function(e,t){var n=new Zh;if(mf.Image){var r=new Image;r.onload=Tf(wp,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Tf(wp,n,r,"TestLoadImage: error",!1,t),r.onabort=Tf(wp,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Tf(wp,n,r,"TestLoadImage: timeout",!1,t),mf.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else sd(2);e.G=0,e.j&&e.j.va(t),ov(e),Kp(e)}function ov(e){e.G=0,e.I=-1,e.j&&(0==yp(e.i).length&&0==e.l.length||(e.i.i.length=0,Pf(e.l),e.l.length=0),e.j.ua())}function sv(e,t,n){var r=function(e){return e instanceof Bd?qd(e):new Bd(e,void 0)}(n);if(""!=r.i)t&&Wd(r,t+"."+r.i),Hd(r,r.m);else{var i=mf.location;r=function(e,t,n,r){var i=new Bd(null,void 0);return e&&zd(i,e),t&&Wd(i,t),n&&Hd(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Vf(e.aa,(function(e,t){Gd(r,t,e)})),t=e.D,n=e.sa,t&&n&&Gd(r,t,n),Gd(r,"VER",e.ma),Xp(e,r),r}function uv(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Ap(new xp({ib:!0})):new Ap(e.qa)).L=e.H,t}function cv(){}function lv(){if(Gf&&!(10<=Number(oh)))throw Error("Environmental error: no available transport.")}function fv(e,t){Rh.call(this),this.g=new zp(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Of(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Of(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new pv(this)}function hv(e){yd.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function dv(){gd.call(this),this.status=1}function pv(e){this.g=e}(hf=Ap.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():vd.g(),this.C=this.u?dd(this.u):dd(vd),this.g.onreadystatechange=Ef(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Dp(this,a)}e=n||"";var i=new Fd(this.headers);r&&Md(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Op,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=mf.FormData&&e instanceof mf.FormData,!(0<=Af(Pp,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Up(this),0<this.B&&((this.K=function(e){return Gf&&ih()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ef(this.pa,this)):this.A=Kh(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Dp(this,a)}},hf.pa=function(){"undefined"!=typeof vf&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nh(this,"timeout"),this.abort(8))},hf.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Nh(this,"complete"),Nh(this,"abort"),Fp(this))},hf.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fp(this,!0)),Ap.Z.M.call(this)},hf.Fa=function(){this.s||(this.F||this.v||this.l?Mp(this):this.cb())},hf.cb=function(){Mp(this)},hf.ba=function(){try{return 2<jp(this)?this.g.status:-1}catch(sP){return-1}},hf.ga=function(){try{return this.g?this.g.responseText:""}catch(sP){return""}},hf.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Cp(t)}},hf.Da=function(){return this.m},hf.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(hf=zp.prototype).ma=8,hf.G=1,hf.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(uP){}},hf.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new bd(this,this.h,e,void 0),n=this.s;if(this.P&&(n?zf(n=Bf(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Jp(this,t,r),Gd(i=qd(this.F),"RID",e),Gd(i,"CVER",22),this.D&&Gd(i,"X-HTTP-Session-Id",this.D),Xp(this,i),this.o&&n&&Bp(i,this.o,n),vp(this.i,t),this.Ra&&Gd(i,"TYPE","init"),this.ja?(Gd(i,"$req",r),Gd(i,"SID","null"),t.$=!0,Td(t,i,null)):Td(t,i,r),this.G=2}}else 3==this.G&&(e?Yp(this,e):0==this.l.length||hp(this.i)||Yp(this))},hf.Ga=function(){if(this.u=null,tv(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=cd(Ef(this.bb,this),e)}},hf.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,sd(10),Hp(this),tv(this))},hf.ab=function(){null!=this.v&&(this.v=null,Hp(this),Zp(this),sd(19))},hf.jb=function(e){e?(this.h.info("Successfully pinged google.com"),sd(2)):(this.h.info("Failed to ping google.com"),sd(1))},(hf=cv.prototype).xa=function(){},hf.wa=function(){},hf.va=function(){},hf.ua=function(){},hf.Oa=function(){},lv.prototype.g=function(e,t){return new fv(e,t)},If(fv,Rh),fv.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Vh(Ef(e.hb,e,t))),sd(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=sv(e,null,e.W),Qp(e)},fv.prototype.close=function(){Wp(this.g)},fv.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Gp(this.g,t)}else this.v?((t={}).__data__=Oh(e),Gp(this.g,t)):Gp(this.g,e)},fv.prototype.M=function(){this.g.j=null,delete this.j,Wp(this.g),delete this.g,fv.Z.M.call(this)},If(hv,yd),If(dv,gd),If(pv,cv),pv.prototype.xa=function(){Nh(this.g,"a")},pv.prototype.wa=function(e){Nh(this.g,new hv(e))},pv.prototype.va=function(e){Nh(this.g,new dv(e))},pv.prototype.ua=function(){Nh(this.g,"b")},lv.prototype.createWebChannel=lv.prototype.g,fv.prototype.send=fv.prototype.u,fv.prototype.open=fv.prototype.m,fv.prototype.close=fv.prototype.close,ld.NO_ERROR=0,ld.TIMEOUT=8,ld.HTTP_ERROR=6,fd.COMPLETE="complete",pd.EventType=md,md.OPEN="a",md.CLOSE="b",md.ERROR="c",md.MESSAGE="d",Rh.prototype.listen=Rh.prototype.N,Ap.prototype.listenOnce=Ap.prototype.O,Ap.prototype.getLastError=Ap.prototype.La,Ap.prototype.getLastErrorCode=Ap.prototype.Da,Ap.prototype.getStatus=Ap.prototype.ba,Ap.prototype.getResponseJson=Ap.prototype.Qa,Ap.prototype.getResponseText=Ap.prototype.ga,Ap.prototype.send=Ap.prototype.ea;var vv=pf.createWebChannelTransport=function(){return new lv},mv=pf.getStatEventTarget=function(){return rd()},yv=pf.ErrorCode=ld,gv=pf.EventType=fd,kv=pf.Event=td,bv=pf.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},wv=pf.FetchXmlHttpFactory=xp,xv=pf.WebChannel=pd,_v=pf.XhrIo=Ap,Ev="@firebase/firestore",Tv=function(){function e(t){sn(this,e),this.uid=t}return cn(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Tv.UNAUTHENTICATED=new Tv(null),Tv.GOOGLE_CREDENTIALS=new Tv("google-credentials-uid"),Tv.FIRST_PARTY=new Tv("first-party-uid"),Tv.MOCK_USER=new Tv("mock-user");var Iv="9.6.3",Sv=new cr("@firebase/firestore");function Cv(){return Sv.logLevel}function Av(e){if(Sv.logLevel<=er.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Pv);Sv.debug.apply(Sv,["Firestore (".concat(Iv,"): ").concat(e)].concat(Yn(i)))}}function Rv(e){if(Sv.logLevel<=er.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Pv);Sv.error.apply(Sv,["Firestore (".concat(Iv,"): ").concat(e)].concat(Yn(i)))}}function Nv(e){if(Sv.logLevel<=er.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Pv);Sv.warn.apply(Sv,["Firestore (".concat(Iv,"): ").concat(e)].concat(Yn(i)))}}function Pv(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Ov(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Iv,") INTERNAL ASSERTION FAILED: ")+e;throw Rv(t),new Error(t)}function Dv(e,t){e||Ov()}function Lv(e,t){return e}var Mv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Fv=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return cn(n)}(Dn),Uv=cn((function e(){var t=this;sn(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),jv=cn((function e(t,n){sn(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Vv=function(){function e(){sn(this,e)}return cn(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Tv.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Bv=function(){function e(t){sn(this,e),this.token=t,this.changeListener=null}return cn(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),qv=function(){function e(t){sn(this,e),this.t=t,this.currentUser=Tv.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return cn(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Uv;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Uv,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(g(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Av("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Av("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Uv)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Av("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Dv("string"==typeof n.accessToken),new jv(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Dv(null===e||"string"==typeof e),new Tv(e)}}]),e}(),zv=cn((function e(t,n,r){sn(this,e),this.type="FirstParty",this.user=Tv.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Wv=function(){function e(t,n,r){sn(this,e),this.h=t,this.l=n,this.m=r}return cn(e,[{key:"getToken",value:function(){return Promise.resolve(new zv(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Tv.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Hv=cn((function e(t){sn(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Kv=function(){function e(t){sn(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return cn(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&Av("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){Av("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):Av("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(Dv("string"==typeof e.token),new Hv(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Gv=function(){function e(t,n){var r=this;sn(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return cn(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Qv(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Gv.I=-1;var Yv=function(){function e(){sn(this,e)}return cn(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Qv(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Xv(e,t){return e<t?-1:e>t?1:0}function Jv(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function $v(e){return e+"\0"}var Zv=function(){function e(t,n){if(sn(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Fv(Mv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Fv(Mv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Fv(Mv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Fv(Mv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return cn(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Xv(this.nanoseconds,e.nanoseconds):Xv(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),em=function(){function e(t){sn(this,e),this.timestamp=t}return cn(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Zv(0,0))}}]),e}();function tm(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function nm(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function rm(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var im=function(){function e(t,n,r){sn(this,e),void 0===n?n=0:n>t.length&&Ov(),void 0===r?r=t.length-n:r>t.length-n&&Ov(),this.segments=t,this.offset=n,this.len=r}return cn(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),am=function(e){hn(n,e);var t=yn(n);function n(){return sn(this,n),t.apply(this,arguments)}return cn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Fv(Mv.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,Yn(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(im),om=/^[_a-zA-Z][_a-zA-Z0-9]*$/,sm=function(e){hn(n,e);var t=yn(n);function n(){return sn(this,n),t.apply(this,arguments)}return cn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return om.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Fv(Mv.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Fv(Mv.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Fv(Mv.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Fv(Mv.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(im),um=function(){function e(t){sn(this,e),this.fields=t,t.sort(sm.comparator)}return cn(e,[{key:"covers",value:function(e){var t,n=ln(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Jv(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var cm=function(e){function t(e){sn(this,t),this.binaryString=e}return cn(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Xv(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();cm.EMPTY_BYTE_STRING=new cm("");var lm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fm(e){if(Dv(!!e),"string"==typeof e){var t=0,n=lm.exec(e);if(Dv(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:hm(e.seconds),nanos:hm(e.nanos)}}function hm(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function dm(e){return"string"==typeof e?cm.fromBase64String(e):cm.fromUint8Array(e)}function pm(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function vm(e){var t=e.mapValue.fields.__previous_value__;return pm(t)?vm(t):t}function mm(e){var t=fm(e.mapValue.fields.__local_write_time__.timestampValue);return new Zv(t.seconds,t.nanos)}function ym(e){return null==e}function gm(e){return 0===e&&1/e==-1/0}function km(e){return"number"==typeof e&&Number.isInteger(e)&&!gm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var bm=function(){function e(t){sn(this,e),this.path=t}return cn(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===am.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(am.fromString(t))}},{key:"fromName",value:function(t){return new e(am.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return am.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new am(t.slice()))}}]),e}();function wm(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?pm(e)?4:10:Ov()}function xm(e,t){if(e===t)return!0;var n=wm(e);if(n!==wm(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return mm(e).isEqual(mm(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=fm(e.timestampValue),r=fm(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return dm(e.bytesValue).isEqual(dm(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return hm(e.geoPointValue.latitude)===hm(t.geoPointValue.latitude)&&hm(e.geoPointValue.longitude)===hm(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return hm(e.integerValue)===hm(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=hm(e.doubleValue),r=hm(t.doubleValue);return n===r?gm(n)===gm(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Jv(e.arrayValue.values||[],t.arrayValue.values||[],xm);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(tm(n)!==tm(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!xm(n[i],r[i])))return!1;return!0}(e,t);default:return Ov()}}function _m(e,t){return void 0!==(e.values||[]).find((function(e){return xm(e,t)}))}function Em(e,t){if(e===t)return 0;var n=wm(e),r=wm(t);if(n!==r)return Xv(n,r);switch(n){case 0:return 0;case 1:return Xv(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=hm(e.integerValue||e.doubleValue),r=hm(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Tm(e.timestampValue,t.timestampValue);case 4:return Tm(mm(e),mm(t));case 5:return Xv(e.stringValue,t.stringValue);case 6:return function(e,t){var n=dm(e),r=dm(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Xv(n[i],r[i]);if(0!==a)return a}return Xv(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Xv(hm(e.latitude),hm(t.latitude));return 0!==n?n:Xv(hm(e.longitude),hm(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Em(n[i],r[i]);if(a)return a}return Xv(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Xv(r[o],a[o]);if(0!==s)return s;var u=Em(n[r[o]],i[a[o]]);if(0!==u)return u}return Xv(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Ov()}}function Tm(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Xv(e,t);var n=fm(e),r=fm(t),i=Xv(n.seconds,r.seconds);return 0!==i?i:Xv(n.nanos,r.nanos)}function Im(e){return Sm(e)}function Sm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=fm(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?dm(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,bm.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=ln(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Sm(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=ln(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Sm(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Ov();var t,n}function Cm(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Am(e){return!!e&&"integerValue"in e}function Rm(e){return!!e&&"arrayValue"in e}function Nm(e){return!!e&&"nullValue"in e}function Pm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Om(e){return!!e&&"mapValue"in e}function Dm(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return nm(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Dm(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Dm(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Lm=function(){function e(t){sn(this,e),this.value=t}return cn(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Om(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dm(t)}},{key:"setAll",value:function(e){var t=this,n=sm.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Dm(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Om(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return xm(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Om(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){nm(t,(function(t,n){return e[t]=n}));var r,i=ln(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Dm(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Mm(e){var t=[];return nm(e.fields,(function(e,n){var r=new sm([e]);if(Om(n)){var i=Mm(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=ln(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new um(t)}var Fm=function(){function e(t,n,r,i,a){sn(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return cn(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Lm.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Lm.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,em.min(),Lm.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Lm.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Lm.empty(),2)}}]),e}(),Um=cn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;sn(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.R=null}));function jm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Um(e,t,n,r,i,a,o)}function Vm(e){var t=Lv(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Im(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ym(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Zm(t.startAt)),t.endAt&&(n+="|ub:",n+=Zm(t.endAt)),t.R=n}return t.R}function Bm(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!ty(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!xm(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ry(e.startAt,t.startAt)&&ry(e.endAt,t.endAt)}function qm(e){return bm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var zm=function(e){hn(n,e);var t=yn(n);function n(e,r,i){var a;return sn(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return cn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Em(t,this.value)):null!==t&&wm(this.value)===wm(t)&&this.v(Em(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ov()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new Wm(e,t,r):"array-contains"===t?new Qm(e,r):"in"===t?new Ym(e,r):"not-in"===t?new Xm(e,r):"array-contains-any"===t?new Jm(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new Hm(e,n):new Km(e,n)}}]),n}(function(){return cn((function e(){sn(this,e)}))}());var Wm=function(e){hn(n,e);var t=yn(n);function n(e,r,i){var a;return sn(this,n),(a=t.call(this,e,r,i)).key=bm.fromName(i.referenceValue),a}return cn(n,[{key:"matches",value:function(e){var t=bm.comparator(e.key,this.key);return this.v(t)}}]),n}(zm),Hm=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this,e,"in",r)).keys=Gm("in",r),i}return cn(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(zm),Km=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this,e,"not-in",r)).keys=Gm("not-in",r),i}return cn(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(zm);function Gm(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return bm.fromName(e.referenceValue)}))}var Qm=function(e){hn(n,e);var t=yn(n);function n(e,r){return sn(this,n),t.call(this,e,"array-contains",r)}return cn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Rm(t)&&_m(t.arrayValue,this.value)}}]),n}(zm),Ym=function(e){hn(n,e);var t=yn(n);function n(e,r){return sn(this,n),t.call(this,e,"in",r)}return cn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&_m(this.value.arrayValue,t)}}]),n}(zm),Xm=function(e){hn(n,e);var t=yn(n);function n(e,r){return sn(this,n),t.call(this,e,"not-in",r)}return cn(n,[{key:"matches",value:function(e){if(_m(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!_m(this.value.arrayValue,t)}}]),n}(zm),Jm=function(e){hn(n,e);var t=yn(n);function n(e,r){return sn(this,n),t.call(this,e,"array-contains-any",r)}return cn(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Rm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return _m(t.value.arrayValue,e)}))}}]),n}(zm),$m=cn((function e(t,n){sn(this,e),this.position=t,this.before=n}));function Zm(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return Im(e)})).join(","))}var ey=cn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";sn(this,e),this.field=t,this.dir=n}));function ty(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function ny(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?bm.comparator(bm.fromName(o.referenceValue),n.key):Em(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function ry(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!xm(e.position[n],t.position[n]))return!1;return!0}var iy=cn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;sn(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.S=null,this.D=null,this.startAt,this.endAt}));function ay(e,t,n,r,i,a,o,s){return new iy(e,t,n,r,i,a,o,s)}function oy(e){return new iy(e)}function sy(e){return!ym(e.limit)&&"F"===e.limitType}function uy(e){return!ym(e.limit)&&"L"===e.limitType}function cy(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ly(e){var t,n=ln(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function fy(e){return null!==e.collectionGroup}function hy(e){var t=Lv(e);if(null===t.S){t.S=[];var n=ly(t),r=cy(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new ey(n)),t.S.push(new ey(sm.keyField(),"asc"));else{var i,a=!1,o=ln(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.S.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new ey(sm.keyField(),u))}}}return t.S}function dy(e){var t=Lv(e);if(!t.D)if("F"===t.limitType)t.D=jm(t.path,t.collectionGroup,hy(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=ln(hy(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new ey(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new $m(t.endAt.position,!t.endAt.before):null,u=t.startAt?new $m(t.startAt.position,!t.startAt.before):null;t.D=jm(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.D}function py(e,t,n){return new iy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function vy(e,t){return Bm(dy(e),dy(t))&&e.limitType===t.limitType}function my(e){return"".concat(Vm(dy(e)),"|lt:").concat(e.limitType)}function yy(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Im(t.value));var t})).join(", "),"]")),ym(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+Zm(e.startAt)),e.endAt&&(t+=", endAt: "+Zm(e.endAt)),"Target(".concat(t,")")}(dy(e)),"; limitType=").concat(e.limitType,")")}function gy(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):bm.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=ln(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=ln(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!ny(e.startAt,hy(e),t))&&(!e.endAt||!ny(e.endAt,hy(e),t))}(e,t)}function ky(e){return function(t,n){var r,i=!1,a=ln(hy(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=by(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function by(e,t,n){var r=e.field.isKeyField()?bm.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Em(r,i):Ov()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ov()}}function wy(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gm(t)?"-0":t}}function xy(e){return{integerValue:""+e}}function _y(e,t){return km(t)?xy(t):wy(e,t)}var Ey=cn((function e(){sn(this,e),this._=void 0}));function Ty(e,t,n){return e instanceof Cy?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ay?Ry(e,t):e instanceof Ny?Py(e,t):function(e,t){var n=Sy(e,t),r=Dy(n)+Dy(e.N);return Am(n)&&Am(e.N)?xy(r):wy(e.k,r)}(e,t)}function Iy(e,t,n){return e instanceof Ay?Ry(e,t):e instanceof Ny?Py(e,t):n}function Sy(e,t){return e instanceof Oy?Am(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Cy=function(e){hn(n,e);var t=yn(n);function n(){return sn(this,n),t.apply(this,arguments)}return cn(n)}(Ey),Ay=function(e){hn(n,e);var t=yn(n);function n(e){var r;return sn(this,n),(r=t.call(this)).elements=e,r}return cn(n)}(Ey);function Ry(e,t){var n,r=Ly(t),i=ln(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return xm(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Ny=function(e){hn(n,e);var t=yn(n);function n(e){var r;return sn(this,n),(r=t.call(this)).elements=e,r}return cn(n)}(Ey);function Py(e,t){var n,r=Ly(t),i=ln(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!xm(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Oy=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this)).k=e,i.N=r,i}return cn(n)}(Ey);function Dy(e){return hm(e.integerValue||e.doubleValue)}function Ly(e){return Rm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var My=cn((function e(t,n){sn(this,e),this.field=t,this.transform=n}));var Fy=cn((function e(t,n){sn(this,e),this.version=t,this.transformResults=n})),Uy=function(){function e(t,n){sn(this,e),this.updateTime=t,this.exists=n}return cn(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function jy(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Vy=cn((function e(){sn(this,e)}));function By(e,t,n){e instanceof Ky?function(e,t,n){var r=e.value.clone(),i=Yy(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Gy?function(e,t,n){if(jy(e.precondition,t)){var r=Yy(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Qy(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function qy(e,t,n){e instanceof Ky?function(e,t,n){if(jy(e.precondition,t)){var r=e.value.clone(),i=Xy(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Hy(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Gy?function(e,t,n){if(jy(e.precondition,t)){var r=Xy(e.fieldTransforms,n,t),i=t.data;i.setAll(Qy(e)),i.setAll(r),t.convertToFoundDocument(Hy(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){jy(e.precondition,t)&&t.convertToNoDocument(em.min())}(e,t)}function zy(e,t){var n,r=null,i=ln(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Sy(a.transform,o||null);null!=s&&(null==r&&(r=Lm.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Wy(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Jv(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ay&&t instanceof Ay||e instanceof Ny&&t instanceof Ny?Jv(e.elements,t.elements,xm):e instanceof Oy&&t instanceof Oy?xm(e.N,t.N):e instanceof Cy&&t instanceof Cy}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Hy(e){return e.isFoundDocument()?e.version:em.min()}var Ky=function(e){hn(n,e);var t=yn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return sn(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return cn(n)}(Vy),Gy=function(e){hn(n,e);var t=yn(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return sn(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return cn(n)}(Vy);function Qy(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Yy(e,t,n){var r=new Map;Dv(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Iy(o,s,n[i]))}return r}function Xy(e,t,n){var r,i=new Map,a=ln(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Ty(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Jy,$y,Zy=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return cn(n)}(Vy),eg=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return cn(n)}(Vy),tg=cn((function e(t){sn(this,e),this.count=t}));function ng(e){switch(e){default:return Ov();case Mv.CANCELLED:case Mv.UNKNOWN:case Mv.DEADLINE_EXCEEDED:case Mv.RESOURCE_EXHAUSTED:case Mv.INTERNAL:case Mv.UNAVAILABLE:case Mv.UNAUTHENTICATED:return!1;case Mv.INVALID_ARGUMENT:case Mv.NOT_FOUND:case Mv.ALREADY_EXISTS:case Mv.PERMISSION_DENIED:case Mv.FAILED_PRECONDITION:case Mv.ABORTED:case Mv.OUT_OF_RANGE:case Mv.UNIMPLEMENTED:case Mv.DATA_LOSS:return!0}}function rg(e){if(void 0===e)return Rv("GRPC error has no .code"),Mv.UNKNOWN;switch(e){case Jy.OK:return Mv.OK;case Jy.CANCELLED:return Mv.CANCELLED;case Jy.UNKNOWN:return Mv.UNKNOWN;case Jy.DEADLINE_EXCEEDED:return Mv.DEADLINE_EXCEEDED;case Jy.RESOURCE_EXHAUSTED:return Mv.RESOURCE_EXHAUSTED;case Jy.INTERNAL:return Mv.INTERNAL;case Jy.UNAVAILABLE:return Mv.UNAVAILABLE;case Jy.UNAUTHENTICATED:return Mv.UNAUTHENTICATED;case Jy.INVALID_ARGUMENT:return Mv.INVALID_ARGUMENT;case Jy.NOT_FOUND:return Mv.NOT_FOUND;case Jy.ALREADY_EXISTS:return Mv.ALREADY_EXISTS;case Jy.PERMISSION_DENIED:return Mv.PERMISSION_DENIED;case Jy.FAILED_PRECONDITION:return Mv.FAILED_PRECONDITION;case Jy.ABORTED:return Mv.ABORTED;case Jy.OUT_OF_RANGE:return Mv.OUT_OF_RANGE;case Jy.UNIMPLEMENTED:return Mv.UNIMPLEMENTED;case Jy.DATA_LOSS:return Mv.DATA_LOSS;default:return Ov()}}($y=Jy||(Jy={}))[$y.OK=0]="OK",$y[$y.CANCELLED=1]="CANCELLED",$y[$y.UNKNOWN=2]="UNKNOWN",$y[$y.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$y[$y.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$y[$y.NOT_FOUND=5]="NOT_FOUND",$y[$y.ALREADY_EXISTS=6]="ALREADY_EXISTS",$y[$y.PERMISSION_DENIED=7]="PERMISSION_DENIED",$y[$y.UNAUTHENTICATED=16]="UNAUTHENTICATED",$y[$y.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$y[$y.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$y[$y.ABORTED=10]="ABORTED",$y[$y.OUT_OF_RANGE=11]="OUT_OF_RANGE",$y[$y.UNIMPLEMENTED=12]="UNIMPLEMENTED",$y[$y.INTERNAL=13]="INTERNAL",$y[$y.UNAVAILABLE=14]="UNAVAILABLE",$y[$y.DATA_LOSS=15]="DATA_LOSS";var ig=function(){function e(t,n){sn(this,e),this.comparator=t,this.root=n||og.EMPTY}return cn(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,og.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,og.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new ag(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new ag(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new ag(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new ag(this.root,e,this.comparator,!0)}}]),e}(),ag=function(){function e(t,n,r,i){sn(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return cn(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),og=function(){function e(t,n,r,i,a){sn(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return cn(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Ov();if(this.right.isRed())throw Ov();var e=this.left.check();if(e!==this.right.check())throw Ov();return e+(this.isRed()?0:1)}}]),e}();og.EMPTY=null,og.RED=!0,og.BLACK=!1,og.EMPTY=new(function(){function e(){sn(this,e),this.size=0}return cn(e,[{key:"key",get:function(){throw Ov()}},{key:"value",get:function(){throw Ov()}},{key:"color",get:function(){throw Ov()}},{key:"left",get:function(){throw Ov()}},{key:"right",get:function(){throw Ov()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new og(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var sg=function(){function e(t){sn(this,e),this.comparator=t,this.data=new ig(this.comparator)}return cn(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new ug(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new ug(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),ug=function(){function e(t){sn(this,e),this.iter=t}return cn(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),cg=new ig(bm.comparator);function lg(){return cg}var fg=new ig(bm.comparator);function hg(){return fg}var dg=new ig(bm.comparator);function pg(){return dg}var vg=new sg(bm.comparator);function mg(){for(var e=vg,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var yg=new sg(Xv);function gg(){return yg}var kg=function(){function e(t,n,r,i,a){sn(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return cn(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,bg.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(em.min(),r,gg(),lg(),mg())}}]),e}(),bg=function(){function e(t,n,r,i,a){sn(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return cn(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(cm.EMPTY_BYTE_STRING,n,mg(),mg(),mg())}}]),e}(),wg=cn((function e(t,n,r,i){sn(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.O=i})),xg=cn((function e(t,n){sn(this,e),this.targetId=t,this.M=n})),_g=cn((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cm.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;sn(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Eg=function(){function e(){sn(this,e),this.F=0,this.L=Sg(),this.B=cm.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return cn(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.F}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=mg(),t=mg(),n=mg();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ov()}})),new bg(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=Sg()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.F+=1}},{key:"Z",value:function(){this.F-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),Tg=function(){function e(t){sn(this,e),this.et=t,this.nt=new Map,this.st=lg(),this.it=Ig(),this.rt=new sg(Xv)}return cn(e,[{key:"ot",value:function(e){var t,n=ln(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.O&&e.O.isFoundDocument()?this.ct(r,e.O):this.at(r,e.key,e.O)}}catch(s){n.e(s)}finally{n.f()}var i,a=ln(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.at(o,e.key,e.O)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:Ov()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.M.count,r=this.wt(t);if(r){var i=r.target;if(qm(i))if(0===n){var a=new bm(i.path);this.at(t,a,Fm.newNoDocument(a,em.min()))}else Dv(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&qm(a.target)){var o=new bm(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.at(i,o,Fm.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=mg();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new kg(e,n,this.rt,this.st,r);return this.st=lg(),this.it=Ig(),this.rt=new sg(Xv),i}},{key:"ct",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new Eg,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new sg(Xv),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||Av("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new Eg),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.at(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function Ig(){return new ig(bm.comparator)}function Sg(){return new ig(bm.comparator)}var Cg={asc:"ASCENDING",desc:"DESCENDING"},Ag={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rg=cn((function e(t,n){sn(this,e),this.databaseId=t,this.C=n}));function Ng(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Pg(e,t){return e.C?t.toBase64():t.toUint8Array()}function Og(e,t){return Ng(e,t.toTimestamp())}function Dg(e){return Dv(!!e),em.fromTimestamp(function(e){var t=fm(e);return new Zv(t.seconds,t.nanos)}(e))}function Lg(e,t){return function(e){return new am(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Mg(e){var t=am.fromString(e);return Dv(sk(t)),t}function Fg(e,t){return Lg(e.databaseId,t.path)}function Ug(e,t){var n=Mg(t);if(n.get(1)!==e.databaseId.projectId)throw new Fv(Mv.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Fv(Mv.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new bm(qg(n))}function jg(e,t){return Lg(e.databaseId,t)}function Vg(e){var t=Mg(e);return 4===t.length?am.emptyPath():qg(t)}function Bg(e){return new am(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function qg(e){return Dv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function zg(e,t,n){return{name:Fg(e,t),fields:n.value.mapValue.fields}}function Wg(e,t,n){var r=Ug(e,t.name),i=Dg(t.updateTime),a=new Lm({mapValue:{fields:t.fields}}),o=Fm.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Hg(e,t){return"found"in t?function(e,t){Dv(!!t.found),t.found.name,t.found.updateTime;var n=Ug(e,t.found.name),r=Dg(t.found.updateTime),i=new Lm({mapValue:{fields:t.found.fields}});return Fm.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Dv(!!t.missing),Dv(!!t.readTime);var n=Ug(e,t.missing),r=Dg(t.readTime);return Fm.newNoDocument(n,r)}(e,t):Ov()}function Kg(e,t){var n;if(t instanceof Ky)n={update:zg(e,t.key,t.value)};else if(t instanceof Zy)n={delete:Fg(e,t.key)};else if(t instanceof Gy)n={update:zg(e,t.key,t.data),updateMask:ok(t.fieldMask)};else{if(!(t instanceof eg))return Ov();n={verify:Fg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Cy)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ay)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ny)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Oy)return{fieldPath:t.field.canonicalString(),increment:n.N};throw Ov()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Og(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ov()}(e,t.precondition)),n}function Gg(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Uy.updateTime(Dg(e.updateTime)):void 0!==e.exists?Uy.exists(e.exists):Uy.none()}(t.currentDocument):Uy.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Dv("REQUEST_TIME"===t.setToServerValue),n=new Cy;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Ay(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Ny(i)}else"increment"in t?n=new Oy(e,t.increment):Ov();var a=sm.fromServerFormat(t.fieldPath);return new My(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Ug(e,t.update.name),a=new Lm({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new um(t.map((function(e){return sm.fromServerFormat(e)})))}(t.updateMask);return new Gy(i,a,o,n,r)}return new Ky(i,a,n,r)}if(t.delete){var s=Ug(e,t.delete);return new Zy(s,n)}if(t.verify){var u=Ug(e,t.verify);return new eg(u,n)}return Ov()}function Qg(e,t){return{documents:[jg(e,t.path)]}}function Yg(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=jg(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=jg(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Pm(e.value))return{unaryFilter:{field:nk(e.field),op:"IS_NAN"}};if(Nm(e.value))return{unaryFilter:{field:nk(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Pm(e.value))return{unaryFilter:{field:nk(e.field),op:"IS_NOT_NAN"}};if(Nm(e.value))return{unaryFilter:{field:nk(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nk(e.field),op:tk(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:nk(e.field),direction:ek(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||ym(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=$g(t.startAt)),t.endAt&&(n.structuredQuery.endAt=$g(t.endAt)),n}function Xg(e){var t=Vg(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Dv(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Jg(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new ey(rk(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return ym(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Zg(n.startAt));var l=null;return n.endAt&&(l=Zg(n.endAt)),ay(t,i,s,o,u,"F",c,l)}function Jg(e){return e?void 0!==e.unaryFilter?[ak(e)]:void 0!==e.fieldFilter?[ik(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Jg(e)})).reduce((function(e,t){return e.concat(t)})):Ov():[]}function $g(e){return{before:e.before,values:e.position}}function Zg(e){var t=!!e.before,n=e.values||[];return new $m(n,t)}function ek(e){return Cg[e]}function tk(e){return Ag[e]}function nk(e){return{fieldPath:e.canonicalString()}}function rk(e){return sm.fromServerFormat(e.fieldPath)}function ik(e){return zm.create(rk(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ov()}}(e.fieldFilter.op),e.fieldFilter.value)}function ak(e){switch(e.unaryFilter.op){case"IS_NAN":var t=rk(e.unaryFilter.field);return zm.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=rk(e.unaryFilter.field);return zm.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=rk(e.unaryFilter.field);return zm.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=rk(e.unaryFilter.field);return zm.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ov()}}function ok(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function sk(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function uk(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=lk(t)),t=ck(e.get(n),t);return lk(t)}function ck(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function lk(e){return e+"\x01\x01"}function fk(e){var t=e.length;if(Dv(t>=2),2===t)return Dv("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),am.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Ov(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Ov()}a=o+2}return new am(r)}var hk=cn((function e(t,n){sn(this,e),this.seconds=t,this.nanoseconds=n})),dk=cn((function e(t,n,r){sn(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));dk.store="owner",dk.key="owner";var pk=cn((function e(t,n,r){sn(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));pk.store="mutationQueues",pk.keyPath="userId";var vk=cn((function e(t,n,r,i,a){sn(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));vk.store="mutations",vk.keyPath="batchId",vk.userMutationsIndex="userMutationsIndex",vk.userMutationsKeyPath=["userId","batchId"];var mk=function(){function e(){sn(this,e)}return cn(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,uk(t)]}},{key:"key",value:function(e,t,n){return[e,uk(t),n]}}]),e}();mk.store="documentMutations",mk.PLACEHOLDER=new mk;var yk=cn((function e(t,n){sn(this,e),this.path=t,this.readTime=n})),gk=cn((function e(t,n){sn(this,e),this.path=t,this.version=n})),kk=cn((function e(t,n,r,i,a,o){sn(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));kk.store="remoteDocuments",kk.readTimeIndex="readTimeIndex",kk.readTimeIndexPath="readTime",kk.collectionReadTimeIndex="collectionReadTimeIndex",kk.collectionReadTimeIndexPath=["parentPath","readTime"];var bk=cn((function e(t){sn(this,e),this.byteSize=t}));bk.store="remoteDocumentGlobal",bk.key="remoteDocumentGlobalKey";var wk=cn((function e(t,n,r,i,a,o,s){sn(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=s}));wk.store="targets",wk.keyPath="targetId",wk.queryTargetsIndexName="queryTargetsIndex",wk.queryTargetsKeyPath=["canonicalId","targetId"];var xk=cn((function e(t,n,r){sn(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));xk.store="targetDocuments",xk.keyPath=["targetId","path"],xk.documentTargetsIndex="documentTargetsIndex",xk.documentTargetsKeyPath=["path","targetId"];var _k=cn((function e(t,n,r,i){sn(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));_k.key="targetGlobalKey",_k.store="targetGlobal";var Ek=cn((function e(t,n){sn(this,e),this.collectionId=t,this.parent=n}));Ek.store="collectionParents",Ek.keyPath=["collectionId","parent"];var Tk=cn((function e(t,n,r,i){sn(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));Tk.store="clientMetadata",Tk.keyPath="clientId";var Ik=cn((function e(t,n,r){sn(this,e),this.bundleId=t,this.createTime=n,this.version=r}));Ik.store="bundles",Ik.keyPath="bundleId";var Sk=cn((function e(t,n,r){sn(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));Sk.store="namedQueries",Sk.keyPath="name";var Ck=[pk.store,vk.store,mk.store,kk.store,wk.store,dk.store,_k.store,xk.store].concat([Tk.store]).concat([bk.store]).concat([Ek.store]).concat([Ik.store,Sk.store]),Ak="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Rk=function(){function e(){sn(this,e),this.onCommittedListeners=[]}return cn(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Nk=function(){function e(t){var n=this;sn(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return cn(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Ov(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=ln(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Pk=function(){function e(t,n){var r=this;sn(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.It=new Uv,this.transaction.oncomplete=function(){r.It.resolve()},this.transaction.onabort=function(){n.error?r.It.reject(new Lk(t,n.error)):r.It.resolve()},this.transaction.onerror=function(e){var n=Vk(e.target.error);r.It.reject(new Lk(t,n))}}return cn(e,[{key:"At",get:function(){return this.It.promise}},{key:"abort",value:function(e){e&&this.It.reject(e),this.aborted||(Av("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Fk(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Lk(n,t)}}}]),e}(),Ok=function(){function e(t,n,r){sn(this,e),this.name=t,this.version=n,this.Rt=r,12.2===e.bt(Sn())&&Rv("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return cn(e,[{key:"Ct",value:function(){var e=g(T().mark((function e(t){var n=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Av("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Lk(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Fv(Mv.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Fv(Mv.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Lk(t,n))},i.onupgradeneeded=function(e){Av("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Rt.Nt(t,i.transaction,e.oldVersion,n.version).next((function(){Av("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.kt&&(this.db.onversionchange=function(e){return n.kt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){this.kt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=g(T().mark((function e(t,n,r,i){var a,o,s,u,c=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(T().mark((function e(){var n,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Ct(t);case 2:return c.db=e.sent,n=Pk.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).catch((function(e){return n.abort(e),Nk.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.At;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u="FirebaseError"!==e.t1.name&&o<3,Av("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",u),this.close(),u){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Av("SimpleDb","Removing database:",e),Uk(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"Pt",value:function(){if(!On())return!1;if(e.vt())return!0;var t=Sn(),n=e.bt(t),r=0<n&&n<10,i=e.Vt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"vt",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyCDBxxUWQ_fvjI4IDW9gJ6OQJwuR9zM5pg",REACT_APP_FIREBASE_APP_ID:"1:346043752093:web:fbac0730a5d73155087e74",REACT_APP_FIREBASE_AUTH_DOMAIN:"npotw-d3879.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://npotw-production.firebaseio.com/",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-EHZYW1WSKQ",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"346043752093",REACT_APP_FIREBASE_PROJECTID:"npotw-d3879",REACT_APP_FIREBASE_STORAGE_BUCKET:"npotw-d3879.appspot.com"})||void 0===e?void 0:e.St)}},{key:"Dt",value:function(e,t){return e.store(t)}},{key:"bt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Dk=function(){function e(t){sn(this,e),this.$t=t,this.Ot=!1,this.Mt=null}return cn(e,[{key:"isDone",get:function(){return this.Ot}},{key:"Ft",get:function(){return this.Mt}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ot=!0}},{key:"Lt",value:function(e){this.Mt=e}},{key:"delete",value:function(){return Uk(this.$t.delete())}}]),e}(),Lk=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this,Mv.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return cn(n)}(Fv);function Mk(e){return"IndexedDbTransactionError"===e.name}var Fk=function(){function e(t){sn(this,e),this.store=t}return cn(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Av("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Av("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Uk(n)}},{key:"add",value:function(e){return Av("SimpleDb","ADD",this.store.name,e,e),Uk(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Uk(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Av("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Av("SimpleDb","DELETE",this.store.name,e),Uk(this.store.delete(e))}},{key:"count",value:function(){return Av("SimpleDb","COUNT",this.store.name),Uk(this.store.count())}},{key:"Bt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,(function(e,t){r.push(t)})).next((function(){return r}))}},{key:"qt",value:function(e,t){Av("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Kt=!1;var r=this.cursor(n);return this.Ut(r,(function(e,t,n){return n.delete()}))}},{key:"jt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Ut(r,t)}},{key:"Qt",value:function(e){var t=this.cursor({});return new Nk((function(n,r){t.onerror=function(e){var t=Vk(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Ut",value:function(e,t){var n=[];return new Nk((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Dk(i),o=t(i.primaryKey,i.value,a);if(o instanceof Nk){var s=o.catch((function(e){return a.done(),Nk.reject(e)}));n.push(s)}a.isDone?r():null===a.Ft?i.continue():i.continue(a.Ft)}else r()}})).next((function(){return Nk.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Uk(e){return new Nk((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Vk(e.target.error);n(t)}}))}var jk=!1;function Vk(e){var t=Ok.bt(Sn());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Fv("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return jk||(jk=!0,setTimeout((function(){throw r}),0)),r}}return e}var Bk=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this)).Wt=e,i.currentSequenceNumber=r,i}return cn(n)}(Rk);function qk(e,t){var n=Lv(e);return Ok.Dt(n.Wt,t)}var zk=function(){function e(t,n,r,i){sn(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return cn(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&By(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=ln(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&qy(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=ln(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&qy(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(em.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),mg())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Jv(this.mutations,e.mutations,(function(e,t){return Wy(e,t)}))&&Jv(this.baseMutations,e.baseMutations,(function(e,t){return Wy(e,t)}))}}]),e}(),Wk=function(){function e(t,n,r,i){sn(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return cn(e,null,[{key:"from",value:function(t,n,r){Dv(t.mutations.length===r.length);for(var i=pg(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Hk=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:em.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:em.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:cm.EMPTY_BYTE_STRING;sn(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return cn(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Kk=cn((function e(t){sn(this,e),this.Gt=t}));function Gk(e,t){if(t.document)return Wg(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=bm.fromSegments(t.noDocument.path),r=$k(t.noDocument.readTime),i=Fm.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=bm.fromSegments(t.unknownDocument.path),o=$k(t.unknownDocument.version);return Fm.newUnknownDocument(a,o)}return Ov()}function Qk(e,t,n){var r=Yk(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(e,t){return{name:Fg(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Ng(e,t.version.toTimestamp())}}(e.Gt,t),o=t.hasCommittedMutations;return new kk(null,null,a,o,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=Jk(t.version),c=t.hasCommittedMutations;return new kk(null,new yk(s,u),null,c,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=Jk(t.version);return new kk(new gk(l,f),null,null,!0,r,i)}return Ov()}function Yk(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Xk(e){var t=new Zv(e[0],e[1]);return em.fromTimestamp(t)}function Jk(e){var t=e.toTimestamp();return new hk(t.seconds,t.nanoseconds)}function $k(e){var t=new Zv(e.seconds,e.nanoseconds);return em.fromTimestamp(t)}function Zk(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Gg(e.Gt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Gg(e.Gt,t)})),s=Zv.fromMillis(t.localWriteTimeMs);return new zk(t.batchId,s,n,o)}function eb(e){var t,n,r=$k(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?$k(e.lastLimboFreeSnapshotVersion):em.min();return void 0!==e.query.documents?(Dv(1===(n=e.query).documents.length),t=dy(oy(Vg(n.documents[0])))):t=function(e){return dy(Xg(e))}(e.query),new Hk(t,e.targetId,0,e.lastListenSequenceNumber,r,i,cm.fromBase64String(e.resumeToken))}function tb(e,t){var n,r=Jk(t.snapshotVersion),i=Jk(t.lastLimboFreeSnapshotVersion);n=qm(t.target)?Qg(e.Gt,t.target):Yg(e.Gt,t.target);var a=t.resumeToken.toBase64();return new wk(t.targetId,Vm(t.target),r,a,t.sequenceNumber,i,n)}function nb(e){var t=Xg({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?py(t,t.limit,"L"):t}var rb=function(){function e(){sn(this,e)}return cn(e,[{key:"getBundleMetadata",value:function(e,t){return ib(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:$k(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return ib(e).put({bundleId:(n=t).id,createTime:Jk(Dg(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return ab(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:nb(t.bundledQuery),readTime:$k(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return ab(e).put(function(e){return{name:e.name,readTime:Jk(Dg(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function ib(e){return qk(e,Ik.store)}function ab(e){return qk(e,Sk.store)}var ob=function(){function e(){sn(this,e),this.zt=new sb}return cn(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),Nk.resolve()}},{key:"getCollectionParents",value:function(e,t){return Nk.resolve(this.zt.getEntries(t))}}]),e}(),sb=function(){function e(){sn(this,e),this.index={}}return cn(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new sg(am.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new sg(am.comparator)).toArray()}}]),e}(),ub=function(){function e(){sn(this,e),this.Ht=new sb}return cn(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ht.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ht.add(t)}));var a={collectionId:r,parent:uk(i)};return cb(e).put(a)}return Nk.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[$v(t),""],!1,!0);return cb(e).Bt(r).next((function(e){var r,i=ln(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(fk(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}}]),e}();function cb(e){return qk(e,Ek.store)}var lb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fb=function(){function e(t,n,r){sn(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return cn(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function hb(e,t,n){var r=e.store(vk.store),i=e.store(mk.store),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.jt({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){Dv(1===s)})));var c,l=[],f=ln(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=mk.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Nk.waitFor(a).next((function(){return l}))}function db(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ov();t=e.noDocument}return JSON.stringify(t).length}fb.DEFAULT_COLLECTION_PERCENTILE=10,fb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fb.DEFAULT=new fb(41943040,fb.DEFAULT_COLLECTION_PERCENTILE,fb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fb.DISABLED=new fb(-1,0,0);var pb=function(){function e(t,n,r,i){sn(this,e),this.userId=t,this.k=n,this.Jt=r,this.referenceDelegate=i,this.Yt={}}return cn(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return mb(e).jt({index:vk.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=yb(e),o=mb(e);return o.add({}).next((function(s){Dv("number"==typeof s);var u,c=new zk(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Kg(e.Gt,t)})),i=n.mutations.map((function(t){return Kg(e.Gt,t)}));return new vk(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.k,i.userId,c),f=[],h=new sg((function(e,t){return Xv(e.canonicalString(),t.canonicalString())})),d=ln(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=mk.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,mk.PLACEHOLDER))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Yt[s]=c.keys()})),Nk.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return mb(e).get(t).next((function(e){return e?(Dv(e.userId===n.userId),Zk(n.k,e)):null}))}},{key:"Zt",value:function(e,t){var n=this;return this.Yt[t]?Nk.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Yt[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return mb(e).jt({index:vk.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Dv(t.batchId>=r),a=Zk(n.k,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return mb(e).jt({index:vk.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return mb(e).Bt(vk.userMutationsIndex,n).next((function(e){return e.map((function(e){return Zk(t.k,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=mk.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return yb(e).jt({range:i},(function(r,i,o){var s=_(r,3),u=s[0],c=s[1],l=s[2],f=fk(c);if(u===n.userId&&t.path.isEqual(f))return mb(e).get(l).next((function(e){if(!e)throw Ov();Dv(e.userId===n.userId),a.push(Zk(n.k,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new sg(Xv),i=[];return t.forEach((function(t){var a=mk.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=yb(e).jt({range:o},(function(e,i,a){var o=_(e,3),s=o[0],u=o[1],c=o[2],l=fk(u);s===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(s)})),Nk.waitFor(i).next((function(){return n.te(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=mk.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new sg(Xv);return yb(e).jt({range:o},(function(e,t,a){var o=_(e,3),u=o[0],c=o[1],l=o[2],f=fk(c);u===n.userId&&r.isPrefixOf(f)?f.length===i&&(s=s.add(l)):a.done()})).next((function(){return n.te(e,s)}))}},{key:"te",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(mb(e).get(t).next((function(e){if(null===e)throw Ov();Dv(e.userId===n.userId),r.push(Zk(n.k,e))})))})),Nk.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return hb(e.Wt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.ee(t.batchId)})),Nk.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"ee",value:function(e){delete this.Yt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Nk.resolve();var r=IDBKeyRange.lowerBound(mk.prefixForUser(t.userId)),i=[];return yb(e).jt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=fk(e[1]);i.push(a)}else r.done()})).next((function(){Dv(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return vb(e,this.userId,t)}},{key:"ne",value:function(e){var t=this;return gb(e).get(this.userId).next((function(e){return e||new pk(t.userId,-1,"")}))}}],[{key:"Xt",value:function(t,n,r,i){return Dv(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function vb(e,t,n){var r=mk.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return yb(e).jt({range:a,Kt:!0},(function(e,n,r){var a=_(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function mb(e){return qk(e,vk.store)}function yb(e){return qk(e,mk.store)}function gb(e){return qk(e,pk.store)}var kb=function(){function e(t){sn(this,e),this.se=t}return cn(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}(),bb=function(){function e(t,n){sn(this,e),this.referenceDelegate=t,this.k=n}return cn(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.oe(e).next((function(n){var r=new kb(n.highestTargetId);return n.highestTargetId=r.next(),t.ce(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.oe(e).next((function(e){return em.fromTimestamp(new Zv(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.oe(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.oe(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ce(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.ae(e,t).next((function(){return n.oe(e).next((function(r){return r.targetCount+=1,n.ue(t,r),n.ce(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.ae(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return wb(e).delete(t.targetId)})).next((function(){return n.oe(e)})).next((function(t){return Dv(t.targetCount>0),t.targetCount-=1,n.ce(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return wb(e).jt((function(o,s){var u=eb(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return Nk.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return wb(e).jt((function(e,n){var r=eb(n);t(r)}))}},{key:"oe",value:function(e){return xb(e).get(_k.key).next((function(e){return Dv(null!==e),e}))}},{key:"ce",value:function(e,t){return xb(e).put(_k.key,t)}},{key:"ae",value:function(e,t){return wb(e).put(tb(this.k,t))}},{key:"ue",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.oe(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Vm(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return wb(e).jt({range:r,index:wk.queryTargetsIndexName},(function(e,n,r){var a=eb(n);Bm(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=_b(e);return t.forEach((function(t){var o=uk(t.path);i.push(a.put(new xk(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),Nk.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=_b(e);return Nk.forEach(t,(function(t){var a=uk(t.path);return Nk.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=_b(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=_b(e),i=mg();return r.jt({range:n,Kt:!0},(function(e,t,n){var r=fk(e[1]),a=new bm(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=uk(t.path),r=IDBKeyRange.bound([n],[$v(n)],!1,!0),i=0;return _b(e).jt({index:xk.documentTargetsIndex,Kt:!0,range:r},(function(e,t,n){var r=_(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return wb(e).get(t).next((function(e){return e?eb(e):null}))}}]),e}();function wb(e){return qk(e,wk.store)}function xb(e){return qk(e,_k.store)}function _b(e){return qk(e,xk.store)}function Eb(e){return Tb.apply(this,arguments)}function Tb(){return Tb=g(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Mv.FAILED_PRECONDITION&&t.message===Ak){e.next=2;break}throw t;case 2:Av("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Tb.apply(this,arguments)}function Ib(e,t){var n=_(e,2),r=n[0],i=n[1],a=_(t,2),o=a[0],s=a[1],u=Xv(r,o);return 0===u?Xv(i,s):u}var Sb=function(){function e(t){sn(this,e),this.he=t,this.buffer=new sg(Ib),this.le=0}return cn(e,[{key:"fe",value:function(){return++this.le}},{key:"de",value:function(e){var t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Ib(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Cb=function(){function e(t,n){sn(this,e),this.garbageCollector=t,this.asyncQueue=n,this.we=!1,this._e=null}return cn(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}},{key:"stop",value:function(){this._e&&(this._e.cancel(),this._e=null)}},{key:"started",get:function(){return null!==this._e}},{key:"me",value:function(e){var t=this,n=this.we?3e5:6e4;Av("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,g(T().mark((function n(){return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t._e=null,t.we=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!Mk(n.t0)){n.next=12;break}Av("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Eb(n.t0);case 14:return n.next=16,t.me(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),Ab=function(){function e(t,n){sn(this,e),this.ge=t,this.params=n}return cn(e,[{key:"calculateTargetCount",value:function(e,t){return this.ge.ye(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Nk.resolve(Gv.I);var r=new Sb(t);return this.ge.forEachTarget(e,(function(e){return r.de(e.sequenceNumber)})).next((function(){return n.ge.pe(e,(function(e){return r.de(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.ge.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.ge.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Av("LruGarbageCollector","Garbage collection skipped; disabled"),Nk.resolve(lb)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Av("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),lb):n.Te(e,t)}))}},{key:"getCacheSize",value:function(e){return this.ge.getCacheSize(e)}},{key:"Te",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Av("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Cv()<=er.DEBUG&&Av("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),Nk.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Rb=function(){function e(t,n){sn(this,e),this.db=t,this.garbageCollector=function(e,t){return new Ab(e,t)}(this,n)}return cn(e,[{key:"ye",value:function(e){var t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Ee",value:function(e){var t=0;return this.pe(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"pe",value:function(e,t){return this.Ie(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Nb(e,n)}},{key:"removeReference",value:function(e,t,n){return Nb(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Nb(e,t)}},{key:"Ae",value:function(e,t){return function(e,t){var n=!1;return gb(e).Qt((function(r){return vb(e,r,t).next((function(e){return e&&(n=!0),Nk.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ie(e,(function(o,s){if(s<=t){var u=n.Ae(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o),_b(e).delete([0,uk(o.path)])}))}));i.push(u)}})).next((function(){return Nk.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Nb(e,t)}},{key:"Ie",value:function(e,t){var n,r=_b(e),i=Gv.I;return r.jt({index:xk.documentTargetsIndex},(function(e,r){var a=_(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==Gv.I&&t(new bm(fk(n)),i),i=u,n=s):i=Gv.I})).next((function(){i!==Gv.I&&t(new bm(fk(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Nb(e,t){return _b(e).put(function(e,t){return new xk(0,uk(e.path),t)}(t,e.currentSequenceNumber))}var Pb=function(){function e(t,n){sn(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return cn(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=ln(n);try{for(i.s();!(r=i.n()).done;){var a=_(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){nm(this.inner,(function(t,n){var r,i=ln(n);try{for(i.s();!(r=i.n()).done;){var a=_(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return rm(this.inner)}}]),e}(),Ob=function(){function e(){sn(this,e),this.changes=new Pb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return cn(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:em.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:Fm.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Nk.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Db=function(){function e(t,n){sn(this,e),this.k=t,this.Jt=n}return cn(e,[{key:"addEntry",value:function(e,t,n){return Fb(e).put(Ub(t),n)}},{key:"removeEntry",value:function(e,t){var n=Fb(e),r=Ub(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Re(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return Fb(e).get(Ub(t)).next((function(e){return n.be(t,e)}))}},{key:"Pe",value:function(e,t){var n=this;return Fb(e).get(Ub(t)).next((function(e){return{document:n.be(t,e),size:db(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=lg();return this.ve(e,t,(function(e,t){var i=n.be(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ve",value:function(e,t){var n=this,r=lg(),i=new ig(bm.comparator);return this.ve(e,t,(function(e,t){var a=n.be(e,t);r=r.insert(e,a),i=i.insert(e,db(t))})).next((function(){return{documents:r,Se:i}}))}},{key:"ve",value:function(e,t,n){if(t.isEmpty())return Nk.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return Fb(e).jt({range:r},(function(e,t,r){for(var o=bm.fromSegments(e);a&&bm.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Lt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=lg(),a=t.path.length+1,o={};if(n.isEqual(em.min())){var s=t.path.toArray();o.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=Yk(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=kk.collectionReadTimeIndex}return Fb(e).jt(o,(function(e,n,o){if(e.length===a){var s=Gk(r.k,n);t.path.isPrefixOf(s.key.path)?gy(t,s)&&(i=i.insert(s.key,s)):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new Lb(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Mb(e).get(bk.key).next((function(e){return Dv(!!e),e}))}},{key:"Re",value:function(e,t){return Mb(e).put(bk.key,t)}},{key:"be",value:function(e,t){if(t){var n=Gk(this.k,t);if(!n.isNoDocument()||!n.version.isEqual(em.min()))return n}return Fm.newInvalidDocument(e)}}]),e}(),Lb=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this)).De=e,i.trackRemovals=r,i.Ce=new Pb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return cn(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new sg((function(e,t){return Xv(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Ce.get(a);if(o.document.isValidDocument()){var u=Qk(t.De.k,o.document,t.getReadTime(a));i=i.add(a.path.popLast());var c=db(u);r+=c-s,n.push(t.De.addEntry(e,a,u))}else if(r-=s,t.trackRemovals){var l=Qk(t.De.k,Fm.newNoDocument(a,em.min()),t.getReadTime(a));n.push(t.De.addEntry(e,a,l))}else n.push(t.De.removeEntry(e,a))})),i.forEach((function(r){n.push(t.De.Jt.addToCollectionParentIndex(e,r))})),n.push(this.De.updateMetadata(e,r)),Nk.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.De.Pe(e,t).next((function(e){return n.Ce.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.De.Ve(e,t).next((function(e){var t=e.documents;return e.Se.forEach((function(e,t){n.Ce.set(e,t)})),t}))}}]),n}(Ob);function Mb(e){return qk(e,bk.store)}function Fb(e){return qk(e,kk.store)}function Ub(e){return e.path.toArray()}var jb=function(){function e(t){sn(this,e),this.k=t}return cn(e,[{key:"Nt",value:function(e,t,n,r){var i=this;Dv(n<r&&n>=0&&r<=11);var a=new Pk("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(dk.store)}(e),function(e){e.createObjectStore(pk.store,{keyPath:pk.keyPath}),e.createObjectStore(vk.store,{keyPath:vk.keyPath,autoIncrement:!0}).createIndex(vk.userMutationsIndex,vk.userMutationsKeyPath,{unique:!0}),e.createObjectStore(mk.store)}(e),Vb(e),function(e){e.createObjectStore(kk.store)}(e));var o=Nk.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(xk.store),e.deleteObjectStore(wk.store),e.deleteObjectStore(_k.store)}(e),Vb(e)),o=o.next((function(){return function(e){var t=e.store(_k.store),n=new _k(0,0,em.min().toTimestamp(),0);return t.put(_k.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(vk.store).Bt().next((function(n){e.deleteObjectStore(vk.store),e.createObjectStore(vk.store,{keyPath:vk.keyPath,autoIncrement:!0}).createIndex(vk.userMutationsIndex,vk.userMutationsKeyPath,{unique:!0});var r=t.store(vk.store),i=n.map((function(e){return r.put(e)}));return Nk.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(Tk.store,{keyPath:Tk.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ne(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(bk.store)}(e),i.ke(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.xe(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.$e(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(kk.store);t.createIndex(kk.readTimeIndex,kk.readTimeIndexPath,{unique:!1}),t.createIndex(kk.collectionReadTimeIndex,kk.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Oe(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(Ik.store,{keyPath:Ik.keyPath})}(e),function(e){e.createObjectStore(Sk.store,{keyPath:Sk.keyPath})}(e)}))),o}},{key:"ke",value:function(e){var t=0;return e.store(kk.store).jt((function(e,n){t+=db(n)})).next((function(){var n=new bk(t);return e.store(bk.store).put(bk.key,n)}))}},{key:"Ne",value:function(e){var t=this,n=e.store(pk.store),r=e.store(vk.store);return n.Bt().next((function(n){return Nk.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Bt(vk.userMutationsIndex,i).next((function(r){return Nk.forEach(r,(function(r){Dv(r.userId===n.userId);var i=Zk(t.k,r);return hb(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"xe",value:function(e){var t=e.store(xk.store),n=e.store(kk.store);return e.store(_k.store).get(_k.key).next((function(e){var r=[];return n.jt((function(n,i){var a=new am(n),o=function(e){return[0,uk(e)]}(a);r.push(t.get(o).next((function(n){return n?Nk.resolve():function(n){return t.put(new xk(0,uk(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return Nk.waitFor(r)}))}))}},{key:"$e",value:function(e,t){e.createObjectStore(Ek.store,{keyPath:Ek.keyPath});var n=t.store(Ek.store),r=new sb,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:uk(i)})}};return t.store(kk.store).jt({Kt:!0},(function(e,t){var n=new am(e);return i(n.popLast())})).next((function(){return t.store(mk.store).jt({Kt:!0},(function(e,t){var n=_(e,3),r=(n[0],n[1]),a=(n[2],fk(r));return i(a.popLast())}))}))}},{key:"Oe",value:function(e){var t=this,n=e.store(wk.store);return n.jt((function(e,r){var i=eb(r),a=tb(t.k,i);return n.put(a)}))}}]),e}();function Vb(e){e.createObjectStore(xk.store,{keyPath:xk.keyPath}).createIndex(xk.documentTargetsIndex,xk.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(wk.store,{keyPath:wk.keyPath}).createIndex(wk.queryTargetsIndexName,wk.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(_k.store)}var Bb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",qb=function(){function e(t,n,r,i,a,o,s,u,c,l){if(sn(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Me=a,this.window=o,this.document=s,this.Fe=c,this.Le=l,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=function(e){return Promise.resolve()},!e.Pt())throw new Fv(Mv.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Rb(this,i),this.Ge=n+"main",this.k=new Kk(u),this.ze=new Ok(this.Ge,11,new jb(this.k)),this.He=new bb(this.referenceDelegate,this.k),this.Jt=new ub,this.Je=function(e,t){return new Db(e,t)}(this.k,this.Jt),this.Ye=new rb,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===l&&Rv("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return cn(e,[{key:"start",value:function(){var e=this;return this.Ze().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Fv(Mv.FAILED_PRECONDITION,Bb);return e.tn(),e.en(),e.nn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.He.getHighestSequenceNumber(t)}))})).then((function(t){e.Be=new Gv(t,e.Fe)})).then((function(){e.Ue=!0})).catch((function(t){return e.ze&&e.ze.close(),Promise.reject(t)}))}},{key:"sn",value:function(e){var t=this;return this.We=function(){var n=g(T().mark((function n(r){return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ze.xt(function(){var t=g(T().mark((function t(n){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget(g(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ze();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ze",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Wb(t).put(new Tk(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.rn(t).next((function(t){t||(e.isPrimary=!1,e.Me.enqueueRetryable((function(){return e.We(!1)})))}))})).next((function(){return e.on(t)})).next((function(n){return e.isPrimary&&!n?e.cn(t).next((function(){return!1})):!!n&&e.an(t).next((function(){return!0}))}))})).catch((function(t){if(Mk(t))return Av("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Av("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Me.enqueueRetryable((function(){return e.We(t)})),e.isPrimary=t}))}},{key:"rn",value:function(e){var t=this;return zb(e).get(dk.key).next((function(e){return Nk.resolve(t.un(e))}))}},{key:"hn",value:function(e){return Wb(e).delete(this.clientId)}},{key:"ln",value:function(){var e=g(T().mark((function e(){var t,n,r,i,a=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.fn(this.Qe,18e5)){e.next=6;break}return this.Qe=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=qk(e,Tk.store);return t.Bt().next((function(e){var n=a.dn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Nk.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Xe){n=ln(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Xe.removeItem(this.wn(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nn",value:function(){var e=this;this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ze().then((function(){return e.ln()})).then((function(){return e.nn()}))}))}},{key:"un",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"on",value:function(e){var t=this;return this.Le?Nk.resolve(!0):zb(e).get(dk.key).next((function(n){if(null!==n&&t.fn(n.leaseTimestampMs,5e3)&&!t._n(n.ownerId)){if(t.un(n)&&t.networkEnabled)return!0;if(!t.un(n)){if(!n.allowTabSynchronization)throw new Fv(Mv.FAILED_PRECONDITION,Bb);return!1}}return!(!t.networkEnabled||!t.inForeground)||Wb(e).Bt().next((function(e){return void 0===t.dn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Av("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=g(T().mark((function e(){var t=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),e.next=7,this.ze.runTransaction("shutdown","readwrite",[dk.store,Tk.store],(function(e){var n=new Bk(e,Gv.I);return t.cn(n).next((function(){return t.hn(n)}))}));case 7:this.ze.close(),this.pn();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dn",value:function(e,t){var n=this;return e.filter((function(e){return n.fn(e.updateTimeMs,t)&&!n._n(e.clientId)}))}},{key:"Tn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Wb(t).Bt().next((function(t){return e.dn(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ue}},{key:"getMutationQueue",value:function(e){return pb.Xt(e,this.k,this.Jt,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Av("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite";return this.ze.runTransaction(e,a,Ck,(function(a){return i=new Bk(a,r.Be?r.Be.next():Gv.I),"readwrite-primary"===t?r.rn(i).next((function(e){return!!e||r.on(i)})).next((function(t){if(!t)throw Rv("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Me.enqueueRetryable((function(){return r.We(!1)})),new Fv(Mv.FAILED_PRECONDITION,Ak);return n(i)})).next((function(e){return r.an(i).next((function(){return e}))})):r.En(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"En",value:function(e){var t=this;return zb(e).get(dk.key).next((function(e){if(null!==e&&t.fn(e.leaseTimestampMs,5e3)&&!t._n(e.ownerId)&&!t.un(e)&&!(t.Le||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Fv(Mv.FAILED_PRECONDITION,Bb)}))}},{key:"an",value:function(e){var t=new dk(this.clientId,this.allowTabSynchronization,Date.now());return zb(e).put(dk.key,t)}},{key:"cn",value:function(e){var t=this,n=zb(e);return n.get(dk.key).next((function(e){return t.un(e)?(Av("IndexedDbPersistence","Releasing primary lease."),n.delete(dk.key)):Nk.resolve()}))}},{key:"fn",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Rv("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"tn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=function(){e.Me.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ze()}))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}},{key:"gn",value:function(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}},{key:"en",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=function(){t.mn(),!An()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Me.enterRestrictedMode(!0),t.Me.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.qe))}},{key:"yn",value:function(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}},{key:"_n",value:function(e){var t;try{var n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Av("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Rv("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"mn",value:function(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(If){Rv("Failed to set zombie client id.",If)}}},{key:"pn",value:function(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(If){}}},{key:"wn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"Pt",value:function(){return Ok.Pt()}}]),e}();function zb(e){return qk(e,dk.store)}function Wb(e){return qk(e,Tk.store)}function Hb(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Kb=cn((function e(t,n){sn(this,e),this.progress=t,this.In=n})),Gb=function(){function e(t,n,r){sn(this,e),this.Je=t,this.An=n,this.Jt=r}return cn(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.bn(e,t,r)}))}},{key:"bn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=ln(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Pn",value:function(e,t){e.forEach((function(e,n){var r,i=ln(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Pn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return bm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):fy(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new bm(t)).next((function(e){var t=hg();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=hg();return this.Jt.getCollectionParents(e,i).next((function(o){return Nk.forEach(o,(function(o){var s=function(e,t){return new iy(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=ln(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,s=ln(o.mutations);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=u.key,l=r.get(c);null==l&&(l=Fm.newInvalidDocument(c),r=r.insert(c,l)),qy(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(f){s.e(f)}finally{s.f()}}}catch(f){n.e(f)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){gy(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=mg(),a=ln(t);try{for(a.s();!(r=a.n()).done;){var o,s=ln(r.value.mutations);try{for(s.s();!(o=s.n()).done;){var u=o.value;u instanceof Gy&&null===n.get(u.key)&&(i=i.add(u.key))}}catch(l){s.e(l)}finally{s.f()}}}catch(l){a.e(l)}finally{a.f()}var c=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))}}]),e}(),Qb=function(){function e(t,n,r,i){sn(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return cn(e,null,[{key:"$n",value:function(t,n){var r,i=mg(),a=mg(),o=ln(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Yb=function(){function e(){sn(this,e)}return cn(e,[{key:"On",value:function(e){this.Mn=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(em.min())?this.Fn(e,t):this.Mn.vn(e,r).next((function(a){var o=i.Ln(t,a);return(sy(t)||uy(t))&&i.Bn(t.limitType,o,r,n)?i.Fn(e,t):(Cv()<=er.DEBUG&&Av("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),yy(t)),i.Mn.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new sg(ky(e));return t.forEach((function(t,r){gy(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Fn",value:function(e,t){return Cv()<=er.DEBUG&&Av("QueryEngine","Using full collection scan to execute query:",yy(t)),this.Mn.getDocumentsMatchingQuery(e,t,em.min())}}]),e}(),Xb=function(){function e(t,n,r,i){sn(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new ig(Xv),this.Kn=new Pb((function(e){return Vm(e)}),Bm),this.jn=em.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new Gb(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.On(this.Wn)}return cn(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function Jb(e,t,n,r){return new Xb(e,t,n,r)}function $b(e,t){return Zb.apply(this,arguments)}function Zb(){return Zb=g(T().mark((function e(t,n){var r,i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lv(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new Gb(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],s=mg(),u=ln(t);try{for(u.s();!(r=u.n()).done;){var c=r.value;i.push(c.batchId);var l,f=ln(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=ln(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=ln(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return a.vn(e,s).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.On(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),Zb.apply(this,arguments)}function ew(e,t){var n=Lv(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Nk.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Dv(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function tw(e){var t=Lv(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function nw(e,t){var n=Lv(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.He.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.He.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(cm.EMPTY_BYTE_STRING,em.min()).withLastLimboFreeSnapshotVersion(em.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.He.updateTargetData(e,c))}}));var s=lg();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(rw(e,a,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(em.min())){var u=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return Nk.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,s)})).next((function(){return s}))})).then((function(e){return n.qn=i,e}))}function rw(e,t,n,r,i){var a=mg();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=lg();return n.forEach((function(n,o){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(em.min())?(t.removeEntry(n,u),a=a.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o,u),a=a.insert(n,o)):Av("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),a}))}function iw(e,t){var n=Lv(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}function aw(e,t){var n=Lv(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,Nk.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new Hk(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function ow(e,t,n){return sw.apply(this,arguments)}function sw(){return sw=g(T().mark((function e(t,n,r){var i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Lv(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Mk(e.t1)){e.next=12;break}throw e.t1;case 12:Av("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),sw.apply(this,arguments)}function uw(e,t,n){var r=Lv(e),i=em.min(),a=mg();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Lv(e),i=r.Kn.get(n);return void 0!==i?Nk.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,dy(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:em.min(),n?a:mg())})).next((function(e){return{documents:e,zn:a}}))}))}function cw(e,t){var n=Lv(e),r=Lv(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function lw(e){var t=Lv(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Lv(e),i=lg(),a=Yk(n),o=Fb(t),s=IDBKeyRange.lowerBound(a,!0);return o.jt({index:kk.readTimeIndex,range:s},(function(e,t){var n=Gk(r.k,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{In:i,readTime:Xk(a)}}))}(t.Qn,e,t.jn)})).then((function(e){var n=e.In,r=e.readTime;return t.jn=r,n}))}function fw(e){return hw.apply(this,arguments)}function hw(){return hw=g(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Lv(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Fb(e),n=em.min();return t.jt({index:kk.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Xk(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.jn=e})));case 2:case"end":return e.stop()}}),e)}))),hw.apply(this,arguments)}function dw(e,t,n,r){return pw.apply(this,arguments)}function pw(){return pw=g(T().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Lv(t),o=mg(),s=lg(),u=pg(),c=ln(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.Hn(f.metadata.name),f.document&&(o=o.add(h)),s=s.insert(h,n.Jn(f)),u=u.insert(h,n.Yn(f.metadata.readTime))}catch(v){c.e(v)}finally{c.f()}return d=a.Qn.newChangeBuffer({trackRemovals:!0}),e.next=7,aw(a,function(e){return dy(oy(am.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return rw(e,d,s,em.min(),u).next((function(t){return d.apply(e),t})).next((function(t){return a.He.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.He.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Wn.Vn(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),pw.apply(this,arguments)}function vw(e,t){return mw.apply(this,arguments)}function mw(){return mw=g(T().mark((function e(t,n){var r,i,a,o=arguments;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:mg(),e.next=3,aw(t,dy(nb(n.bundledQuery)));case 3:return i=e.sent,a=Lv(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Dg(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ye.saveNamedQuery(e,n);var o=i.withResumeToken(cm.EMPTY_BYTE_STRING,t);return a.qn=a.qn.insert(o.targetId,o),a.He.updateTargetData(e,o).next((function(){return a.He.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.He.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ye.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),mw.apply(this,arguments)}var yw=function(){function e(t){sn(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return cn(e,[{key:"getBundleMetadata",value:function(e,t){return Nk.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:Dg(n.createTime)}),Nk.resolve()}},{key:"getNamedQuery",value:function(e,t){return Nk.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:nb(e.bundledQuery),readTime:Dg(e.readTime)}}(t)),Nk.resolve()}}]),e}(),gw=function(){function e(){sn(this,e),this.ts=new sg(kw.es),this.ns=new sg(kw.ss)}return cn(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new kw(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new kw(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new bm(new am([])),r=new kw(n,e),i=new kw(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new bm(new am([])),n=new kw(t,e),r=new kw(t,e+1),i=mg();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new kw(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),kw=function(){function e(t,n){sn(this,e),this.key=t,this.fs=n}return cn(e,null,[{key:"es",value:function(e,t){return bm.comparator(e.key,t.key)||Xv(e.fs,t.fs)}},{key:"ss",value:function(e,t){return Xv(e.fs,t.fs)||bm.comparator(e.key,t.key)}}]),e}(),bw=function(){function e(t,n){sn(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new sg(kw.es)}return cn(e,[{key:"checkEmpty",value:function(e){return Nk.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new zk(i,t,n,r);this.An.push(a);var o,s=ln(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ws=this.ws.add(new kw(u.key,i)),this.Jt.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Nk.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Nk.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return Nk.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Nk.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return Nk.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new kw(t,0),i=new kw(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),Nk.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new sg(Xv);return t.forEach((function(e){var t=new kw(e,0),i=new kw(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),Nk.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;bm.isDocumentKey(i)||(i=i.child(""));var a=new kw(new bm(i),0),o=new sg(Xv);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),Nk.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Dv(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return Nk.forEach(t.mutations,(function(i){var a=new kw(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new kw(t,0),r=this.ws.firstAfterOrEqual(n);return Nk.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,Nk.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),ww=function(){function e(t,n){sn(this,e),this.Jt=t,this.Ts=n,this.docs=new ig(bm.comparator),this.size=0}return cn(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Nk.resolve(n?n.document.mutableCopy():Fm.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=lg();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Fm.newInvalidDocument(e))})),Nk.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=lg(),i=new bm(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||gy(t,c)&&(r=r.insert(c.key,c.mutableCopy()))}return Nk.resolve(r)}},{key:"Es",value:function(e,t){return Nk.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new xw(this)}},{key:"getSize",value:function(e){return Nk.resolve(this.size)}}]),e}(),xw=function(e){hn(n,e);var t=yn(n);function n(e){var r;return sn(this,n),(r=t.call(this)).De=e,r}return cn(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),Nk.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(Ob),_w=function(){function e(t){sn(this,e),this.persistence=t,this.Is=new Pb((function(e){return Vm(e)}),Bm),this.lastRemoteSnapshotVersion=em.min(),this.highestTargetId=0,this.As=0,this.Rs=new gw,this.targetCount=0,this.bs=kb.ie()}return cn(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),Nk.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Nk.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Nk.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.bs.next(),Nk.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),Nk.resolve()}},{key:"ae",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new kb(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ae(t),this.targetCount+=1,Nk.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ae(t),Nk.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Nk.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Nk.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Nk.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return Nk.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),Nk.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Nk.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),Nk.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return Nk.resolve(n)}},{key:"containsKey",value:function(e,t){return Nk.resolve(this.Rs.containsKey(t))}}]),e}(),Ew=function(){function e(t,n){var r=this;sn(this,e),this.Ps={},this.Be=new Gv(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new _w(this),this.Jt=new ob,this.Je=function(e,t){return new ww(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new Kk(n),this.Ye=new yw(this.k)}return cn(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.Ps[e.toKey()];return t||(t=new bw(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Av("MemoryPersistence","Starting transaction:",e);var i=new Tw(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return Nk.or(Object.values(this.Ps).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Tw=function(e){hn(n,e);var t=yn(n);function n(e){var r;return sn(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return cn(n)}(Rk),Iw=function(){function e(t){sn(this,e),this.persistence=t,this.Cs=new gw,this.Ns=null}return cn(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw Ov()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),Nk.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),Nk.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),Nk.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Nk.forEach(this.xs,(function(r){var i=bm.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return Nk.or([function(){return Nk.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();function Sw(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Cw(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Aw(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Rw=function(){function e(t,n,r,i){sn(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return cn(e,[{key:"Ms",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Os",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Fv(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Rv("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Nw=function(){function e(t,n,r){sn(this,e),this.targetId=t,this.state=n,this.error=r}return cn(e,[{key:"Ms",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Os",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Fv(i.error.code,i.error.message))),a?new e(t,i.state,r):(Rv("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Pw=function(){function e(t,n){sn(this,e),this.clientId=t,this.activeTargetIds=n}return cn(e,null,[{key:"Os",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=gg(),o=0;i&&o<r.activeTargetIds.length;++o)i=km(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Rv("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Ow=function(){function e(t,n){sn(this,e),this.clientId=t,this.onlineState=n}return cn(e,null,[{key:"Os",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Rv("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Dw=function(){function e(){sn(this,e),this.activeTargetIds=gg()}return cn(e,[{key:"Fs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Ms",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Lw=function(){function e(t,n,r,i,a){sn(this,e),this.window=t,this.Me=n,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new ig(Xv),this.started=!1,this.js=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Qs=Sw(this.persistenceKey,this.Bs),this.Ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new Dw),this.Gs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.zs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Hs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Js=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ys=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}return cn(e,[{key:"start",value:function(){var e=g(T().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Tn();case 2:t=e.sent,n=ln(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Bs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Sw(this.persistenceKey,i)))&&(o=Pw.Os(i,a))&&(this.Ks=this.Ks.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Xs(),(s=this.storage.getItem(this.Js))&&(u=this.Zs(s))&&this.ti(u),c=ln(this.js);try{for(c.s();!(l=c.n()).done;)f=l.value,this.qs(f)}catch(d){c.e(d)}finally{c.f()}this.js=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ei(this.Ks)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.ni(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ni(e,t,n),this.si(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Aw(this.persistenceKey,e));if(n){var r=Nw.Os(e,n);r&&(t=r.state)}}return this.ii.Fs(e),this.Xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ii.Ls(e),this.Xs()}},{key:"isLocalQueryTarget",value:function(e){return this.ii.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Aw(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ri(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.si(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.oi(e)}},{key:"notifyBundleLoaded",value:function(){this.ci()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Av("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Av("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Av("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"qs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Av("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void Rv("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable(g(T().mark((function e(){var r,i,a,o,s,u;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Gs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ai(n.key),e.abrupt("return",t.ui(r,null));case 6:if(!(i=t.hi(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ui(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.zs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.li(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.fi(a));case 16:e.next=39;break;case 18:if(!t.Hs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.di(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.wi(o));case 23:e.next=39;break;case 25:if(n.key!==t.Js){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Zs(n.newValue))){e.next=30;break}return e.abrupt("return",t.ti(s));case 30:e.next=39;break;case 32:if(n.key!==t.Ws){e.next=37;break}u=function(e){var t=Gv.I;if(null!=e)try{var n=JSON.parse(e);Dv("number"==typeof n),t=n}catch(e){Rv("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==Gv.I&&t.sequenceNumberHandler(u),e.next=39;break;case 37:if(n.key!==t.Ys){e.next=39;break}return e.abrupt("return",t.syncEngine._i());case 39:e.next=42;break;case 41:t.js.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"ii",get:function(){return this.Ks.get(this.Bs)}},{key:"Xs",value:function(){this.setItem(this.Qs,this.ii.Ms())}},{key:"ni",value:function(e,t,n){var r=new Rw(this.currentUser,e,t,n),i=Cw(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ms())}},{key:"si",value:function(e){var t=Cw(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"oi",value:function(e){var t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}},{key:"ri",value:function(e,t,n){var r=Aw(this.persistenceKey,e),i=new Nw(e,t,n);this.setItem(r,i.Ms())}},{key:"ci",value:function(){this.setItem(this.Ys,"value-not-used")}},{key:"ai",value:function(e){var t=this.Gs.exec(e);return t?t[1]:null}},{key:"hi",value:function(e,t){var n=this.ai(e);return Pw.Os(n,t)}},{key:"li",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Rw.Os(new Tv(i),r,t)}},{key:"di",value:function(e,t){var n=this.Hs.exec(e),r=Number(n[1]);return Nw.Os(r,t)}},{key:"Zs",value:function(e){return Ow.Os(e)}},{key:"fi",value:function(){var e=g(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.mi(t.batchId,t.state,t.error));case 2:Av("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wi",value:function(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}},{key:"ui",value:function(e,t){var n=this,r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),a=this.ei(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.yi(o,s).then((function(){n.Ks=r}))}},{key:"ti",value:function(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ei",value:function(e){var t=gg();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"Pt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Mw=function(){function e(){sn(this,e),this.pi=new Dw,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return cn(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new Dw,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),Fw=function(){function e(){sn(this,e)}return cn(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Uw=function(){function e(){var t=this;sn(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.bi()},this.Pi=[],this.vi()}return cn(e,[{key:"Ei",value:function(e){this.Pi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){Av("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=ln(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"bi",value:function(){Av("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=ln(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Pt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),jw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Vw=function(){function e(t){sn(this,e),this.Vi=t.Vi,this.Si=t.Si}return cn(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Oi",value:function(e){this.ki(e)}},{key:"Mi",value:function(e){this.xi(e)}}]),e}(),Bw=function(e){hn(n,e);var t=yn(n);function n(e){var r;return sn(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return cn(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new _v;o.listenOnce(gv.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case yv.NO_ERROR:var t=o.getResponseJson();Av("Connection","XHR received:",JSON.stringify(t)),i(t);break;case yv.TIMEOUT:Av("Connection",'RPC "'+e+'" timed out'),a(new Fv(Mv.DEADLINE_EXCEEDED,"Request time out"));break;case yv.HTTP_ERROR:var n=o.getStatus();if(Av("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Mv).indexOf(t)>=0?t:Mv.UNKNOWN}(r.status);a(new Fv(s,r.message))}else a(new Fv(Mv.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Fv(Mv.UNAVAILABLE,"Connection failed."));break;default:Ov()}}finally{Av("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=vv(),a=mv(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new wv({})),this.qi(o.initMessageHeaders,t,n),Cn()||Nn()||Sn().indexOf("Electron/")>=0||Pn()||Sn().indexOf("MSAppHost/")>=0||Rn()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");Av("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new Vw({Vi:function(e){l?Av("Connection","Not sending because WebChannel is closed:",e):(c||(Av("Connection","Opening WebChannel transport."),u.open(),c=!0),Av("Connection","WebChannel sending:",e),u.send(e))},Si:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,xv.EventType.OPEN,(function(){l||Av("Connection","WebChannel transport opened.")})),h(u,xv.EventType.CLOSE,(function(){l||(l=!0,Av("Connection","WebChannel transport closed"),f.Oi())})),h(u,xv.EventType.ERROR,(function(e){l||(l=!0,Nv("Connection","WebChannel transport errored:",e),f.Oi(new Fv(Mv.UNAVAILABLE,"The operation could not be completed")))})),h(u,xv.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Dv(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Av("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Jy[e];if(void 0!==t)return rg(t)}(a),s=i.message;void 0===o&&(o=Mv.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.Oi(new Fv(o,s)),u.close()}else Av("Connection","WebChannel received:",n),f.Mi(n)}})),h(a,kv.STAT_EVENT,(function(e){e.stat===bv.PROXY?Av("Connection","Detected buffering proxy"):e.stat===bv.NOPROXY&&Av("Connection","Detected no buffering proxy")})),setTimeout((function(){f.$i()}),0),f}}]),n}(function(){function e(t){sn(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Fi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return cn(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);Av("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return Av("RestConnection","Received: ",e),e}),(function(t){throw Nv("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Iv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=jw[e];return"".concat(this.Fi,"/v1/").concat(t,":").concat(n)}}]),e}());function qw(){return"undefined"!=typeof window?window:null}function zw(){return"undefined"!=typeof document?document:null}function Ww(e){return new Rg(e,!0)}var Hw=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;sn(this,e),this.Me=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return cn(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&Av("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Me.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),Kw=function(){function e(t,n,r,i,a,o,s,u){sn(this,e),this.Me=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new Hw(t,n)}return cn(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=g(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=g(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"pr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"close",value:function(){var e=g(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===Mv.RESOURCE_EXHAUSTED?(Rv(n.toString()),Rv("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===Mv.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=_(t,2),i=r[0],a=r[1];e.rr===n&&e.Ir(i,a)}),(function(n){t((function(){var t=new Fv(Mv.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.ar=n.Me.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(g(T().mark((function t(){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return Av("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Me.enqueueAndForget((function(){return t.rr===e?n():(Av("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Gw=function(e){hn(n,e);var t=yn(n);function n(e,r,i,a,o,s){var u;return sn(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).k=o,u}return cn(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ov()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?(Dv(void 0===t||"string"==typeof t),cm.fromBase64String(t||"")):(Dv(void 0===t||t instanceof Uint8Array),cm.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Mv.UNKNOWN:rg(e.code);return new Fv(t,e.message||"")}(o);n=new _g(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=Ug(e,u.document.name),l=Dg(u.document.updateTime),f=new Lm({mapValue:{fields:u.document.fields}}),h=Fm.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new wg(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Ug(e,v.document),y=v.readTime?Dg(v.readTime):em.min(),g=Fm.newNoDocument(m,y),k=v.removedTargetIds||[];n=new wg([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Ug(e,b.document),x=b.removedTargetIds||[];n=new wg([],x,w,null)}else{if(!("filter"in t))return Ov();t.filter;var _=t.filter;_.targetId;var E=_.count||0,T=new tg(E),I=_.targetId;n=new xg(I,T)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return em.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?em.min():t.readTime?Dg(t.readTime):em.min()}(e);return this.listener.br(t,n)}},{key:"Pr",value:function(e){var t={};t.database=Bg(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=qm(r)?{documents:Qg(e,r)}:{query:Yg(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Pg(e,t.resumeToken):t.snapshotVersion.compareTo(em.min())>0&&(n.readTime=Ng(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ov()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=Bg(this.k),t.removeTarget=e,this.gr(t)}}]),n}(Kw),Qw=function(e){hn(n,e);var t=yn(n);function n(e,r,i,a,o,s){var u;return sn(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).k=o,u.Vr=!1,u}return cn(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,Kr(dn(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(Dv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(Dv(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Dg(e.updateTime):Dg(t);return n.isEqual(em.min())&&(n=Dg(t)),new Fy(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Dg(e.commitTime);return this.listener.Cr(n,t)}return Dv(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=Bg(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Kg(t.k,e)}))};this.gr(n)}}]),n}(Kw),Yw=function(e){hn(n,e);var t=yn(n);function n(e,r,i,a){var o;return sn(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.ir=i,o.k=a,o.$r=!1,o}return cn(n,[{key:"Or",value:function(){if(this.$r)throw new Fv(Mv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=_(i,2),o=a[0],s=a[1];return r.ir.Bi(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Mv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Fv(Mv.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=_(i,2),o=a[0],s=a[1];return r.ir.ji(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Mv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Fv(Mv.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return cn((function e(){sn(this,e)}))}()),Xw=function(){function e(t,n){sn(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}return cn(e,[{key:"Br",value:function(){var e=this;0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Fr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(Rv(t),this.Lr=!1):Av("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}]),e}(),Jw=cn((function e(t,n,r,i,a){var o=this;sn(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei((function(e){r.enqueueAndForget(g(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=ux(o),!e.t0){e.next=5;break}return Av("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=g(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Lv(t)).Gr.add(4),e.next=4,ex(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,$w(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new Xw(r,i)}));function $w(e){return Zw.apply(this,arguments)}function Zw(){return Zw=g(T().mark((function e(t){var n,r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ux(t)){e.next=18;break}n=ln(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Zw.apply(this,arguments)}function ex(e){return tx.apply(this,arguments)}function tx(){return tx=g(T().mark((function e(t){var n,r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ln(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),tx.apply(this,arguments)}function nx(e,t){var n=Lv(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),sx(n)?ox(n):Lx(n).lr()&&ix(n,t))}function rx(e,t){var n=Lv(e),r=Lx(n);n.Wr.delete(t),r.lr()&&ax(n,t),0===n.Wr.size&&(r.lr()?r._r():ux(n)&&n.Jr.set("Unknown"))}function ix(e,t){e.Yr.X(t.targetId),Lx(e).Pr(t)}function ax(e,t){e.Yr.X(t),Lx(e).vr(t)}function ox(e){e.Yr=new Tg({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),Lx(e).start(),e.Jr.Br()}function sx(e){return ux(e)&&!Lx(e).hr()&&e.Wr.size>0}function ux(e){return 0===Lv(e).Gr.size}function cx(e){e.Yr=void 0}function lx(e){return fx.apply(this,arguments)}function fx(){return fx=g(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){ix(t,e)}));case 1:case"end":return e.stop()}}),e)}))),fx.apply(this,arguments)}function hx(e,t){return dx.apply(this,arguments)}function dx(){return dx=g(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:cx(t),sx(t)?(t.Jr.Kr(n),ox(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),dx.apply(this,arguments)}function px(e,t,n){return vx.apply(this,arguments)}function vx(){return vx=g(T().mark((function e(t,n,r){var i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof _g&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=g(T().mark((function e(t,n){var r,i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=ln(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Av("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,mx(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof wg?t.Yr.ot(n):n instanceof xg?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(em.min())){e.next=29;break}return e.prev=14,e.next=17,tw(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(cm.EMPTY_BYTE_STRING,n.snapshotVersion)),ax(e,t);var r=new Hk(n.target,t,1,n.sequenceNumber);ix(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Av("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,mx(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),vx.apply(this,arguments)}function mx(e,t,n){return yx.apply(this,arguments)}function yx(){return yx=g(T().mark((function e(t,n,r){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Mk(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,ex(t);case 5:t.Jr.set("Offline"),r||(r=function(){return tw(t.localStore)}),t.asyncQueue.enqueueRetryable(g(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Av("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,$w(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),yx.apply(this,arguments)}function gx(e,t){return t().catch((function(n){return mx(e,n,t)}))}function kx(e){return bx.apply(this,arguments)}function bx(){return bx=g(T().mark((function e(t){var n,r,i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Lv(t),r=Mx(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!wx(n)){e.next=19;break}return e.prev=3,e.next=6,iw(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,xx(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,mx(n,e.t0);case 17:e.next=2;break;case 19:_x(n)&&Ex(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),bx.apply(this,arguments)}function wx(e){return ux(e)&&e.Qr.length<10}function xx(e,t){e.Qr.push(t);var n=Mx(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function _x(e){return ux(e)&&!Mx(e).hr()&&e.Qr.length>0}function Ex(e){Mx(e).start()}function Tx(e){return Ix.apply(this,arguments)}function Ix(){return Ix=g(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Mx(t).kr();case 1:case"end":return e.stop()}}),e)}))),Ix.apply(this,arguments)}function Sx(e){return Cx.apply(this,arguments)}function Cx(){return Cx=g(T().mark((function e(t){var n,r,i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Mx(t),r=ln(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Cx.apply(this,arguments)}function Ax(e,t,n){return Rx.apply(this,arguments)}function Rx(){return Rx=g(T().mark((function e(t,n,r){var i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=Wk.from(i,n,r),e.next=3,gx(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,kx(t);case 5:case"end":return e.stop()}}),e)}))),Rx.apply(this,arguments)}function Nx(e,t){return Px.apply(this,arguments)}function Px(){return Px=g(T().mark((function e(t,n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Mx(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=g(T().mark((function e(t,n){var r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ng(i=n.code)||i===Mv.ABORTED){e.next=7;break}return r=t.Qr.shift(),Mx(t).wr(),e.next=5,gx(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,kx(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:_x(t)&&Ex(t);case 5:case"end":return e.stop()}}),e)}))),Px.apply(this,arguments)}function Ox(e,t){return Dx.apply(this,arguments)}function Dx(){return Dx=g(T().mark((function e(t,n){var r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Lv(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,$w(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,ex(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Dx.apply(this,arguments)}function Lx(e){return e.Xr||(e.Xr=function(e,t,n){var r=Lv(e);return r.Or(),new Gw(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:lx.bind(null,e),Ni:hx.bind(null,e),br:px.bind(null,e)}),e.zr.push(function(){var t=g(T().mark((function t(n){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),sx(e)?ox(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:cx(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}function Mx(e){return e.Zr||(e.Zr=function(e,t,n){var r=Lv(e);return r.Or(),new Qw(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:Tx.bind(null,e),Ni:Nx.bind(null,e),Nr:Sx.bind(null,e),Cr:Ax.bind(null,e)}),e.zr.push(function(){var t=g(T().mark((function t(n){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,kx(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(Av("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var Fx=function(){function e(t,n,r,i,a){sn(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Uv,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return cn(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fv(Mv.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Ux(e,t){if(Rv("AsyncQueue","".concat(t,": ").concat(e)),Mk(e))return new Fv(Mv.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var jx=function(){function e(t){sn(this,e),this.comparator=t?function(e,n){return t(e,n)||bm.comparator(e.key,n.key)}:function(e,t){return bm.comparator(e.key,t.key)},this.keyedMap=hg(),this.sortedSet=new ig(this.comparator)}return cn(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Vx=function(){function e(){sn(this,e),this.eo=new ig(bm.comparator)}return cn(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):Ov():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Bx=function(){function e(t,n,r,i,a,o,s,u){sn(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return cn(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,jx.emptySet(n),a,r,i,!0,!1)}}]),e}(),qx=cn((function e(){sn(this,e),this.so=void 0,this.listeners=[]})),zx=cn((function e(){sn(this,e),this.queries=new Pb((function(e){return my(e)}),vy),this.onlineState="Unknown",this.io=new Set}));function Wx(e,t){return Hx.apply(this,arguments)}function Hx(){return Hx=g(T().mark((function e(t,n){var r,i,a,o,s;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Lv(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new qx),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=Ux(e.t0,"Initialization of query '".concat(yy(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&Xx(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Hx.apply(this,arguments)}function Kx(e,t){return Gx.apply(this,arguments)}function Gx(){return Gx=g(T().mark((function e(t,n){var r,i,a,o,s;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Lv(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Gx.apply(this,arguments)}function Qx(e,t){var n,r=Lv(e),i=!1,a=ln(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=ln(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.oo(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.so=o}}}catch(f){a.e(f)}finally{a.f()}i&&Xx(r)}function Yx(e,t,n){var r=Lv(e),i=r.queries.get(t);if(i){var a,o=ln(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Xx(e){e.io.forEach((function(e){e.next()}))}var Jx=function(){function e(t,n,r){sn(this,e),this.query=t,this.co=n,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return cn(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=ln(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Bx(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.ao?this.ho(e)&&(this.co.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.co.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=Bx.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}]),e}(),$x=function(){function e(t,n){sn(this,e),this.payload=t,this.byteLength=n}return cn(e,[{key:"_o",value:function(){return"metadata"in this.payload}}]),e}(),Zx=function(){function e(t){sn(this,e),this.k=t}return cn(e,[{key:"Hn",value:function(e){return Ug(this.k,e)}},{key:"Jn",value:function(e){return e.metadata.exists?Wg(this.k,e.document,!1):Fm.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}},{key:"Yn",value:function(e){return Dg(e)}}]),e}(),e_=function(){function e(t,n,r){sn(this,e),this.mo=t,this.localStore=n,this.k=r,this.queries=[],this.documents=[],this.progress=t_(t)}return cn(e,[{key:"yo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"po",value:function(e){var t,n=new Map,r=new Zx(this.k),i=ln(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Hn(a.metadata.name),u=ln(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||mg()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=g(T().mark((function e(){var t,n,r,i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dw(this.localStore,new Zx(this.k),this.documents,this.mo.id);case 2:t=e.sent,n=this.po(this.documents),r=ln(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,vw(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new Kb(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function t_(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var n_=cn((function e(t){sn(this,e),this.key=t})),r_=cn((function e(t){sn(this,e),this.key=t})),i_=function(){function e(t,n){sn(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=mg(),this.mutatedKeys=mg(),this.Ao=ky(t),this.Ro=new jx(this.Ao)}return cn(e,[{key:"bo",get:function(){return this.To}},{key:"Po",value:function(e,t){var n=this,r=t?t.vo:new Vx,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=sy(this.query)&&i.size===this.query.limit?i.last():null,c=uy(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=gy(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Vo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Ao(f,u)>0||c&&n.Ao(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),sy(this.query)||uy(this.query))for(;o.size>this.query.limit;){var l=sy(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:s,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ov()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],s=0===this.Io.size&&this.current?1:0,u=s!==this.Eo;return this.Eo=s,0!==a.length||u?{snapshot:new Bx(this.query,e.Ro,i,a,e.mutatedKeys,0===s,u,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new Vx,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=mg(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new r_(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new n_(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=mg();var t=this.Po(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return Bx.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),a_=cn((function e(t,n,r){sn(this,e),this.query=t,this.targetId=n,this.view=r})),o_=cn((function e(t){sn(this,e),this.key=t,this.$o=!1})),s_=function(){function e(t,n,r,i,a,o){sn(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Oo={},this.Mo=new Pb((function(e){return my(e)}),vy),this.Fo=new Map,this.Lo=new Set,this.Bo=new ig(bm.comparator),this.Uo=new Map,this.qo=new gw,this.Ko={},this.jo=new Map,this.Qo=kb.re(),this.onlineState="Unknown",this.Wo=void 0}return cn(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function u_(e,t){return c_.apply(this,arguments)}function c_(){return c_=g(T().mark((function e(t,n){var r,i,a,o,s,u;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=tE(t),!(o=r.Mo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,aw(r.localStore,dy(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,l_(r,n,i,"current"===u);case 13:a=e.sent,r.isPrimaryClient&&nx(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),c_.apply(this,arguments)}function l_(e,t,n,r){return f_.apply(this,arguments)}function f_(){return f_=g(T().mark((function e(t,n,r,i){var a,o,s,u,c,l;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=g(T().mark((function e(t,n,r,i){var a,o,s;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Po(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,uw(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Po(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(N_(t,n.targetId,s.Co),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,uw(t.localStore,n,!0);case 3:return a=e.sent,o=new i_(n,a.zn),s=o.Po(a.documents),u=bg.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),N_(t,r,c.Co),l=new a_(n,r,o),e.abrupt("return",(t.Mo.set(n,l),t.Fo.has(r)?t.Fo.get(r).push(n):t.Fo.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),f_.apply(this,arguments)}function h_(e,t){return d_.apply(this,arguments)}function d_(){return d_=g(T().mark((function e(t,n){var r,i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Lv(t),i=r.Mo.get(n),!((a=r.Fo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Fo.set(i.targetId,a.filter((function(e){return!vy(e,n)}))),void r.Mo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,ow(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),rx(r.remoteStore,i.targetId),A_(r,i.targetId)})).catch(Eb);case 9:e.next=14;break;case 11:return A_(r,i.targetId),e.next=14,ow(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),d_.apply(this,arguments)}function p_(e,t,n){return v_.apply(this,arguments)}function v_(){return v_=g(T().mark((function e(t,n,r){var i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nE(t),e.prev=1,e.next=4,function(e,t){var n,r=Lv(e),i=Zv.now(),a=t.reduce((function(e,t){return e.add(t.key)}),mg());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,s=[],u=ln(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=zy(c,n.get(c.key));null!=l&&s.push(new Gy(c.key,l,Mm(l.value.mapValue),Uy.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return r.An.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new ig(Xv)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,D_(i,a.changes);case 9:return e.next=11,kx(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Ux(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),v_.apply(this,arguments)}function m_(e,t){return y_.apply(this,arguments)}function y_(){return y_=g(T().mark((function e(t,n){var r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lv(t),e.prev=1,e.next=4,nw(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&(Dv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?Dv(n.$o):e.removedDocuments.size>0&&(Dv(n.$o),n.$o=!1))})),e.next=8,D_(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Eb(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),y_.apply(this,arguments)}function g_(e,t,n){var r=Lv(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Mo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Lv(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=ln(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Xx(n)}(r.eventManager,t),i.length&&r.Oo.br(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function k_(e,t,n){return b_.apply(this,arguments)}function b_(){return b_=g(T().mark((function e(t,n,r){var i,a,o,s,u,c;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Lv(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new ig(bm.comparator)).insert(o,Fm.newNoDocument(o,em.min())),u=mg().add(o),c=new kg(em.min(),new Map,new sg(Xv),s,u),e.next=9,m_(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),O_(i),e.next=16;break;case 14:return e.next=16,ow(i.localStore,n,!1).then((function(){return A_(i,n,r)})).catch(Eb);case 16:case"end":return e.stop()}}),e)}))),b_.apply(this,arguments)}function w_(e,t){return x_.apply(this,arguments)}function x_(){return x_=g(T().mark((function e(t,n){var r,i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lv(t),i=n.batch.batchId,e.prev=1,e.next=4,ew(r.localStore,n);case 4:return a=e.sent,C_(r,i,null),S_(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,D_(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Eb(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),x_.apply(this,arguments)}function __(e,t,n){return E_.apply(this,arguments)}function E_(){return E_=g(T().mark((function e(t,n,r){var i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Lv(t),e.prev=1,e.next=4,function(e,t){var n=Lv(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return Dv(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,C_(i,n,r),S_(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,D_(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Eb(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),E_.apply(this,arguments)}function T_(e,t){return I_.apply(this,arguments)}function I_(){return I_=g(T().mark((function e(t,n){var r,i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ux((r=Lv(t)).remoteStore)||Av("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Lv(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.An.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.jo.get(i)||[]).push(n),r.jo.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Ux(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),I_.apply(this,arguments)}function S_(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function C_(e,t,n){var r=Lv(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function A_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=ln(e.Fo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Mo.delete(a),n&&e.Oo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Fo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||R_(e,t)}))}function R_(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(rx(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),O_(e))}function N_(e,t,n){var r,i=ln(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof n_?(e.qo.addReference(a.key,t),P_(e,a)):a instanceof r_?(Av("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||R_(e,a.key)):Ov()}}catch(o){i.e(o)}finally{i.f()}}function P_(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(Av("SyncEngine","New document in limbo: "+n),e.Lo.add(r),O_(e))}function O_(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new bm(am.fromString(t)),r=e.Qo.next();e.Uo.set(r,new o_(n)),e.Bo=e.Bo.insert(n,r),nx(e.remoteStore,new Hk(dy(oy(n.path)),r,2,Gv.I))}}function D_(e,t,n){return L_.apply(this,arguments)}function L_(){return L_=g(T().mark((function e(t,n,r){var i,a,o,s;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Lv(t),a=[],o=[],s=[],e.t0=i.Mo.isEmpty(),e.t0){e.next=9;break}return i.Mo.forEach((function(e,t){s.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Qb.$n(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Oo.br(a),e.next=9,function(){var e=g(T().mark((function e(t,n){var r,i,a,o,s,u,c,l;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lv(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Nk.forEach(n,(function(t){return Nk.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Nk.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Mk(e.t0)){e.next=10;break}throw e.t0;case 10:Av("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=ln(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.qn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.qn=r.qn.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),L_.apply(this,arguments)}function M_(e,t){return F_.apply(this,arguments)}function F_(){return F_=g(T().mark((function e(t,n){var r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Lv(t)).currentUser.isEqual(n)){e.next=11;break}return Av("SyncEngine","User change. New user:",n.toKey()),e.next=5,$b(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new Fv(Mv.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,D_(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),F_.apply(this,arguments)}function U_(e,t){var n=Lv(e),r=n.Uo.get(t);if(r&&r.$o)return mg().add(r.key);var i=mg(),a=n.Fo.get(t);if(!a)return i;var o,s=ln(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.Mo.get(u);i=i.unionWith(c.view.bo)}}catch(l){s.e(l)}finally{s.f()}return i}function j_(e,t){return V_.apply(this,arguments)}function V_(){return V_=g(T().mark((function e(t,n){var r,i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lv(t),e.next=3,uw(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ko(i),e.abrupt("return",(r.isPrimaryClient&&N_(r,n.targetId,a.Co),a));case 6:case"end":return e.stop()}}),e)}))),V_.apply(this,arguments)}function B_(e){return q_.apply(this,arguments)}function q_(){return q_=g(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Lv(t),e.abrupt("return",lw(n.localStore).then((function(e){return D_(n,e)})));case 2:case"end":return e.stop()}}),e)}))),q_.apply(this,arguments)}function z_(e,t,n,r){return W_.apply(this,arguments)}function W_(){return W_=g(T().mark((function e(t,n,r,i){var a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Lv(t),e.next=3,function(e,t){var n=Lv(e),r=Lv(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Zt(e,t).next((function(t){return t?n.Wn.vn(e,t):Nk.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,kx(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(C_(a,n,i||null),S_(a,n),function(e,t){Lv(Lv(e).An).ee(t)}(a.localStore,n)):Ov();case 11:return e.next=13,D_(a,o);case 13:e.next=16;break;case 15:Av("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),W_.apply(this,arguments)}function H_(e,t){return K_.apply(this,arguments)}function K_(){return K_=g(T().mark((function e(t,n){var r,i,a,o,s,u,c,l;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(tE(r=Lv(t)),nE(r),!0!==n||!0===r.Wo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,G_(r,i.toArray());case 5:return a=e.sent,r.Wo=!0,e.next=9,Ox(r.remoteStore,!0);case 9:o=ln(a);try{for(o.s();!(s=o.n()).done;)u=s.value,nx(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Wo){e.next=25;break}return c=[],l=Promise.resolve(),r.Fo.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return A_(r,t),ow(r.localStore,t,!0)})),rx(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,G_(r,c);case 21:return function(e){var t=Lv(e);t.Uo.forEach((function(e,n){rx(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new ig(bm.comparator)}(r),r.Wo=!1,e.next=25,Ox(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),K_.apply(this,arguments)}function G_(e,t,n){return Q_.apply(this,arguments)}function Q_(){return Q_=g(T().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,y;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Lv(t),a=[],o=[],s=ln(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.Fo.get(c))||0===f.length){e.next=34;break}return e.next=11,aw(i.localStore,dy(f[0]));case 11:l=e.sent,h=ln(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Mo.get(p),e.next=20,j_(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,cw(i.localStore,c);case 36:return y=e.sent,e.next=39,aw(i.localStore,y);case 39:return l=e.sent,e.next=42,l_(i,Y_(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Oo.br(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Q_.apply(this,arguments)}function Y_(e){return ay(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function X_(e){var t=Lv(e);return Lv(Lv(t.localStore).persistence).Tn()}function J_(e,t,n,r){return $_.apply(this,arguments)}function $_(){return $_=g(T().mark((function e(t,n,r,i){var a,o,s;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Lv(t)).Wo){e.next=5;break}Av("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Fo.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,lw(a.localStore);case 11:return o=e.sent,s=kg.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,D_(a,o,s);case 15:return e.abrupt("break",21);case 16:return e.next=18,ow(a.localStore,n,!0);case 18:return A_(a,n,i),e.abrupt("break",21);case 20:Ov();case 21:case"end":return e.stop()}}),e)}))),$_.apply(this,arguments)}function Z_(e,t,n){return eE.apply(this,arguments)}function eE(){return eE=g(T().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=tE(t)).Wo){e.next=45;break}a=ln(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.Fo.has(s)){e.next=10;break}return Av("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,cw(i.localStore,s);case 12:return u=e.sent,e.next=15,aw(i.localStore,u);case 15:return c=e.sent,e.next=18,l_(i,Y_(u),c.targetId,!1);case 18:nx(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=ln(r),e.prev=30,h=T().mark((function e(){var t;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Fo.has(t),!e.t0){e.next=5;break}return e.next=5,ow(i.localStore,t,!1).then((function(){rx(i.remoteStore,t),A_(i,t)})).catch(Eb);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),eE.apply(this,arguments)}function tE(e){var t=Lv(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=m_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=U_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=k_.bind(null,t),t.Oo.br=Qx.bind(null,t.eventManager),t.Oo.zo=Yx.bind(null,t.eventManager),t}function nE(e){var t=Lv(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=w_.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=__.bind(null,t),t}function rE(e,t,n){var r=Lv(e);(function(){var e=g(T().mark((function e(t,n,r){var i,a,o,s,u;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Lv(e),r=Dg(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ye.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(t_(i)),a=new e_(i,t.localStore,n.k),e.next=14,n.Ho();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.yo(o);case 18:return(s=e.sent)&&r._updateProgress(s),e.next=22,n.Ho();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return u=e.sent,e.next=30,D_(t,u.In,void 0);case 30:return e.next=32,function(e,t){var n=Lv(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ye.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(u.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),Nv("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var iE=function(){function e(){sn(this,e),this.synchronizeTabs=!1}return cn(e,[{key:"initialize",value:function(){var e=g(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=Ww(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return Jb(this.persistence,new Yb,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new Ew(Iw.ks,this.k)}},{key:"Jo",value:function(e){return new Mw}},{key:"terminate",value:function(){var e=g(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),aE=function(e){hn(n,e);var t=yn(n);function n(e,r,i){var a;return sn(this,n),(a=t.call(this)).tc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return cn(n,[{key:"initialize",value:function(){var e=g(T().mark((function e(t){var r=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kr(dn(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,fw(this.localStore);case 4:return e.next=6,this.tc.initialize(this,t);case 6:return e.next=8,nE(this.tc.syncEngine);case 8:return e.next=10,kx(this.tc.remoteStore);case 10:return e.next=12,this.persistence.sn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Zo",value:function(e){return Jb(this.persistence,new Yb,e.initialUser,this.k)}},{key:"Xo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Cb(t,e.asyncQueue)}},{key:"Yo",value:function(e){var t=Hb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?fb.withCacheSize(this.cacheSizeBytes):fb.DEFAULT;return new qb(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,qw(),zw(),this.k,this.sharedClientState,!!this.forceOwnership)}},{key:"Jo",value:function(e){return new Mw}}]),n}(iE),oE=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this,e,r,!1)).tc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return cn(n,[{key:"initialize",value:function(){var e=g(T().mark((function e(t){var r,i=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kr(dn(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.tc.syncEngine,e.t0=this.sharedClientState instanceof Lw,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={mi:z_.bind(null,r),gi:J_.bind(null,r),yi:Z_.bind(null,r),Tn:X_.bind(null,r),_i:B_.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.sn(function(){var e=g(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H_(i.tc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Jo",value:function(e){var t=qw();if(!Lw.Pt(t))throw new Fv(Mv.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Hb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Lw(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(aE),sE=function(){function e(){sn(this,e)}return cn(e,[{key:"initialize",value:function(){var e=g(T().mark((function e(t,n){var r=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return g_(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=M_.bind(null,this.syncEngine),e.next=12,Ox(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new zx}},{key:"createDatastore",value:function(e){var t,n=Ww(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Bw(t));return function(e,t,n,r){return new Yw(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return g_(o.syncEngine,e,0)},a=Uw.Pt()?new Uw:new Fw,new Jw(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new s_(e,t,n,r,i,a);return o&&(s.Wo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=g(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Lv(t),Av("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,ex(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function uE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return g(T().mark((function r(){var i;return T().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return g(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var cE=function(){function e(t){sn(this,e),this.observer=t,this.muted=!1}return cn(e,[{key:"next",value:function(e){this.observer.next&&this.ec(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"nc",value:function(){this.muted=!0}},{key:"ec",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),lE=function(){function e(t,n){var r=this;sn(this,e),this.sc=t,this.k=n,this.metadata=new Uv,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then((function(e){e&&e._o()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return cn(e,[{key:"close",value:function(){return this.sc.cancel()}},{key:"getMetadata",value:function(){var e=g(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){var e=g(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"rc",value:function(){var e=g(T().mark((function e(){var t,n,r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.oc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ic.decode(t),r=Number(n),isNaN(r)&&this.cc("length string (".concat(n,") is not valid number")),e.next=9,this.ac(r);case 9:return i=e.sent,e.abrupt("return",new $x(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"uc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"oc",value:function(){var e=g(T().mark((function e(){var t,n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.uc()<0)){e.next=7;break}return e.next=3,this.hc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.uc())<0&&this.cc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ac",value:function(){var e=g(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.hc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.cc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ic.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"cc",value:function(e){throw this.sc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"hc",value:function(){var e=g(T().mark((function e(){var t,n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),fE=function(){function e(t){sn(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return cn(e,[{key:"lookup",value:function(){var e=g(T().mark((function e(t){var n,r=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Fv(Mv.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=g(T().mark((function e(t,n){var r,i,a,o,s,u;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lv(t),i=Bg(r.k)+"/documents",a={documents:n.map((function(e){return Fg(r.k,e)}))},e.next=5,r.ji("BatchGetDocuments",i,a);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=Hg(r.k,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());Dv(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Zy(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=g(T().mark((function e(){var t,n=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=bm.fromPath(t);n.mutations.push(new eg(r,n.precondition(r)))})),e.next=7,function(){var e=g(T().mark((function e(t,n){var r,i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lv(t),i=Bg(r.k)+"/documents",a={writes:n.map((function(e){return Kg(r.k,e)}))},e.next=3,r.Bi("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ov();t=em.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Fv(Mv.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Uy.updateTime(t):Uy.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(em.min()))throw new Fv(Mv.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Uy.updateTime(t)}return Uy.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),hE=function(){function e(t,n,r,i){sn(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.lc=5,this.ur=new Hw(this.asyncQueue,"transaction_retry")}return cn(e,[{key:"run",value:function(){this.lc-=1,this.fc()}},{key:"fc",value:function(){var e=this;this.ur.Zi(g(T().mark((function t(){var n,r;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new fE(e.datastore),(r=e.dc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.wc(t)}))}))})).catch((function(t){e.wc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"dc",value:function(e){try{var t=this.updateFunction(e);return!ym(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"wc",value:function(e){var t=this;this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget((function(){return t.fc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"_c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!ng(t)}return!1}}]),e}(),dE=function(){function e(t,n,r,i){var a=this;sn(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Tv.UNAUTHENTICATED,this.clientId=Yv.A(),this.authCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=g(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Av("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(){return Promise.resolve()}))}return cn(e,[{key:"getConfiguration",value:function(){var e=g(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Fv(Mv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Uv;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(T().mark((function n(){var r;return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Ux(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function pE(e,t){return vE.apply(this,arguments)}function vE(){return vE=g(T().mark((function e(t,n){var r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Av("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=g(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,$b(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),vE.apply(this,arguments)}function mE(e,t){return yE.apply(this,arguments)}function yE(){return yE=g(T().mark((function e(t,n){var r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,gE(t);case 3:return r=e.sent,Av("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return function(){var e=g(T().mark((function e(t,n){var r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Lv(t)).asyncQueue.verifyOperationInProgress(),Av("RemoteStore","RemoteStore received new credentials"),i=ux(r),r.Gr.add(3),e.next=6,ex(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,$w(r);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(n.remoteStore,e)})),t.onlineComponents=n;case 12:case"end":return e.stop()}}),e)}))),yE.apply(this,arguments)}function gE(e){return kE.apply(this,arguments)}function kE(){return kE=g(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Av("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,pE(t,new iE);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),kE.apply(this,arguments)}function bE(e){return wE.apply(this,arguments)}function wE(){return wE=g(T().mark((function e(t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Av("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,mE(t,new sE);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),wE.apply(this,arguments)}function xE(e){return gE(e).then((function(e){return e.persistence}))}function _E(e){return gE(e).then((function(e){return e.localStore}))}function EE(e){return bE(e).then((function(e){return e.remoteStore}))}function TE(e){return bE(e).then((function(e){return e.syncEngine}))}function IE(e){return SE.apply(this,arguments)}function SE(){return SE=g(T().mark((function e(t){var n,r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bE(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=u_.bind(null,n.syncEngine),r.onUnlisten=h_.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),SE.apply(this,arguments)}function CE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Uv;return e.asyncQueue.enqueueAndForget(g(T().mark((function i(){return T().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new cE({next:function(a){t.enqueueAndForget((function(){return Kx(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Fv(Mv.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Fv(Mv.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Jx(oy(n.path),a,{includeMetadataChanges:!0,wo:!0});return Wx(e,o)},i.next=3,IE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function AE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Uv;return e.asyncQueue.enqueueAndForget(g(T().mark((function i(){return T().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new cE({next:function(n){t.enqueueAndForget((function(){return Kx(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Fv(Mv.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Jx(n,a,{includeMetadataChanges:!0,wo:!0});return Wx(e,o)},i.next=3,IE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var RE=cn((function e(t,n,r,i,a,o,s,u){sn(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),NE=function(){function e(t,n){sn(this,e),this.projectId=t,this.database=n||"(default)"}return cn(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),PE=new Map;function OE(e,t,n){if(!n)throw new Fv(Mv.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function DE(e,t,n,r){if(!0===t&&!0===r)throw new Fv(Mv.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function LE(e){if(!bm.isDocumentKey(e))throw new Fv(Mv.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ME(e){if(bm.isDocumentKey(e))throw new Fv(Mv.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function FE(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Ov()}function UE(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Fv(Mv.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=FE(e);throw new Fv(Mv.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function jE(e,t){if(t<=0)throw new Fv(Mv.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var VE=function(){function e(t){var n;if(sn(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Fv(Mv.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Fv(Mv.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,DE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return cn(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),BE=function(){function e(t,n,r){sn(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VE({}),this._settingsFrozen=!1,t instanceof NE?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Fv(Mv.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new NE(e.options.projectId)}(t))}return cn(e,[{key:"app",get:function(){if(!this._app)throw new Fv(Mv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Fv(Mv.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VE(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Vv;switch(e.type){case"gapi":var t=e.client;return Dv(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Wv(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Fv(Mv.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=PE.get(e);t&&(Av("ComponentProvider","Removing Datastore"),PE.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function qE(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=UE(e,BE))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Nv("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=Tv.MOCK_USER;else{o=In(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Fv(Mv.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Tv(u)}e._authCredentials=new Bv(new jv(o,s))}}var zE=function(){function e(t,n,r){sn(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return cn(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new HE(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),WE=function(){function e(t,n,r){sn(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return cn(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),HE=function(e){hn(n,e);var t=yn(n);function n(e,r,i){var a;return sn(this,n),(a=t.call(this,e,r,oy(i)))._path=i,a.type="collection",a}return cn(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new zE(this.firestore,null,new bm(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(WE);function KE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Gn(e),OE("collection","path",t),e instanceof BE){var a=am.fromString.apply(am,[t].concat(r));return ME(a),new HE(e,null,a)}if(!(e instanceof zE||e instanceof HE))throw new Fv(Mv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(am.fromString.apply(am,[t].concat(r)));return ME(o),new HE(e.firestore,null,o)}function GE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Gn(e),1===arguments.length&&(t=Yv.A()),OE("doc","path",t),e instanceof BE){var a=am.fromString.apply(am,[t].concat(r));return LE(a),new zE(e,null,new bm(a))}if(!(e instanceof zE||e instanceof HE))throw new Fv(Mv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(am.fromString.apply(am,[t].concat(r)));return LE(o),new zE(e.firestore,e instanceof HE?e.converter:null,new bm(o))}function QE(e,t){return e=Gn(e),t=Gn(t),(e instanceof zE||e instanceof HE)&&(t instanceof zE||t instanceof HE)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function YE(e,t){return e=Gn(e),t=Gn(t),e instanceof WE&&t instanceof WE&&e.firestore===t.firestore&&vy(e._query,t._query)&&e.converter===t.converter}var XE=function(){function e(){var t=this;sn(this,e),this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new Hw(this,"async_queue_retry"),this.bc=function(){var e=zw();e&&Av("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=zw();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.bc)}return cn(e,[{key:"isShuttingDown",get:function(){return this.yc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pc(),this.vc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;var t=zw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pc(),this.yc)return new Promise((function(){}));var n=new Uv;return this.vc((function(){return t.yc&&t.Ac?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.gc.push(e),t.Vc()}))}},{key:"Vc",value:function(){var e=g(T().mark((function e(){var t=this;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.gc.length){e.next=14;break}return e.prev=1,e.next=4,this.gc[0]();case 4:this.gc.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Mk(e.t0)){e.next=12;break}throw e.t0;case 12:Av("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.gc.length>0&&this.ur.Zi((function(){return t.Vc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(e){var t=this,n=this.mc.then((function(){return t.Ic=!0,e().catch((function(e){t.Ec=e,t.Ic=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Rv("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ic=!1,e}))}));return this.mc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);var i=Fx.createAndSchedule(this,e,t,n,(function(e){return r.Sc(e)}));return this.Tc.push(i),i}},{key:"Pc",value:function(){this.Ec&&Ov()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Dc",value:function(){var e=g(T().mark((function e(){var t;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.mc,e.next=3,t;case 3:if(t!==this.mc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(e){var t,n=ln(this.Tc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Nc",value:function(e){var t=this;return this.Dc().then((function(){t.Tc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=ln(t.Tc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Dc()}))}},{key:"kc",value:function(e){this.Rc.push(e)}},{key:"Sc",value:function(e){var t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}]),e}();function JE(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=ln(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var $E=function(){function e(){sn(this,e),this._progressObserver={},this._taskCompletionResolver=new Uv,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return cn(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),ZE=function(e){hn(n,e);var t=yn(n);function n(e,r,i){var a;return sn(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new XE,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return cn(n,[{key:"_terminate",value:function(){return this._firestoreClient||tT(this),this._firestoreClient.terminate()}}]),n}(BE);function eT(e){return e._firestoreClient||tT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function tT(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new RE(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new dE(e._authCredentials,e._appCheckCredentials,e._queue,r)}function nT(e,t,n){var r=new Uv;return e.asyncQueue.enqueue(g(T().mark((function i(){return T().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,pE(e,n);case 3:return i.next=5,mE(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Mv.FAILED_PRECONDITION||e.code===Mv.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function rT(e){return function(e){return e.asyncQueue.enqueue(g(T().mark((function t(){var n,r;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xE(e);case 2:return n=t.sent,t.next=5,EE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Lv(e);return t.Gr.delete(0),$w(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(eT(e=UE(e,ZE)))}function iT(e){return function(e){return e.asyncQueue.enqueue(g(T().mark((function t(){var n,r;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xE(e);case 2:return n=t.sent,t.next=5,EE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=g(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Lv(t)).Gr.add(0),e.next=4,ex(n);case 4:n.Jr.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(eT(e=UE(e,ZE)))}function aT(e,t){var n=eT(e=UE(e,ZE)),r=new $E;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new lE(e,t)}(function(e,t){if(e instanceof Uint8Array)return uE(e,t);if(e instanceof ArrayBuffer)return uE(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Ww(t));e.asyncQueue.enqueueAndForget(g(T().mark((function t(){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=rE,t.next=3,TE(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function oT(e,t){return function(e,t){return e.asyncQueue.enqueue(g(T().mark((function n(){return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Lv(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ye.getNamedQuery(e,t)}))},n.next=3,_E(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(eT(e=UE(e,ZE)),t).then((function(t){return t?new WE(e,null,t.query):null}))}function sT(e){if(e._initialized||e._terminated)throw new Fv(Mv.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var uT=function(){function e(){sn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Fv(Mv.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sm(n)}return cn(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var cT=function(){function e(t){sn(this,e),this._byteString=t}return cn(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(cm.fromBase64String(t))}catch(t){throw new Fv(Mv.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(cm.fromUint8Array(t))}}]),e}(),lT=cn((function e(t){sn(this,e),this._methodName=t})),fT=function(){function e(t,n){if(sn(this,e),!isFinite(t)||t<-90||t>90)throw new Fv(Mv.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Fv(Mv.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return cn(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Xv(this._lat,e._lat)||Xv(this._long,e._long)}}]),e}(),hT=/^__.*__$/,dT=function(){function e(t,n,r){sn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return cn(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Gy(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ky(e,this.data,t,this.fieldTransforms)}}]),e}(),pT=function(){function e(t,n,r){sn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return cn(e,[{key:"toMutation",value:function(e,t){return new Gy(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function vT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ov()}}var mT=function(){function e(t,n,r,i,a,o){sn(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return cn(e,[{key:"path",get:function(){return this.settings.path}},{key:"$c",get:function(){return this.settings.$c}},{key:"Oc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Mc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.Lc(e),r}},{key:"Bc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.xc(),r}},{key:"Uc",value:function(e){return this.Oc({path:void 0,Fc:!0})}},{key:"qc",value:function(e){return MT(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}},{key:"Lc",value:function(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(vT(this.$c)&&hT.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}]),e}(),yT=function(){function e(t,n,r){sn(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||Ww(t)}return cn(e,[{key:"Qc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new mT({$c:e,methodName:t,jc:n,path:sm.emptyPath(),Fc:!1,Kc:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function gT(e){var t=e._freezeSettings(),n=Ww(e._databaseId);return new yT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function kT(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Qc(a.merge||a.mergeFields?2:0,t,n,i);PT("Data must be an object, but it was:",o,r);var s,u,c=RT(r,o);if(a.merge)s=new um(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=ln(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=OT(t,d,n);if(!o.contains(p))throw new Fv(Mv.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));FT(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new um(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new dT(new Lm(c),s,u)}var bT=function(e){hn(n,e);var t=yn(n);function n(){return sn(this,n),t.apply(this,arguments)}return cn(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.$c)throw 1===e.$c?e.qc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.qc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(lT);function wT(e,t,n){return new mT({$c:3,jc:t.settings.jc,methodName:e._methodName,Fc:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}var xT=function(e){hn(n,e);var t=yn(n);function n(){return sn(this,n),t.apply(this,arguments)}return cn(n,[{key:"_toFieldTransform",value:function(e){return new My(e.path,new Cy)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(lT),_T=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this,e)).Wc=r,i}return cn(n,[{key:"_toFieldTransform",value:function(e){var t=wT(this,e,!0),n=this.Wc.map((function(e){return AT(e,t)})),r=new Ay(n);return new My(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(lT),ET=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this,e)).Wc=r,i}return cn(n,[{key:"_toFieldTransform",value:function(e){var t=wT(this,e,!0),n=this.Wc.map((function(e){return AT(e,t)})),r=new Ny(n);return new My(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(lT),TT=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this,e)).Gc=r,i}return cn(n,[{key:"_toFieldTransform",value:function(e){var t=new Oy(e.k,_y(e.k,this.Gc));return new My(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(lT);function IT(e,t,n,r){var i=e.Qc(1,t,n);PT("Data must be an object, but it was:",i,r);var a=[],o=Lm.empty();nm(r,(function(e,r){var s=LT(t,e,n);r=Gn(r);var u=i.Bc(s);if(r instanceof bT)a.push(s);else{var c=AT(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new um(a);return new pT(o,s,i.fieldTransforms)}function ST(e,t,n,r,i,a){var o=e.Qc(1,t,n),s=[OT(t,r,n)],u=[i];if(a.length%2!=0)throw new Fv(Mv.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(OT(t,a[c])),u.push(a[c+1]);for(var l=[],f=Lm.empty(),h=s.length-1;h>=0;--h)if(!FT(l,s[h])){var d=s[h],p=u[h];p=Gn(p);var v=o.Bc(d);if(p instanceof bT)l.push(d);else{var m=AT(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new um(l);return new pT(f,y,o.fieldTransforms)}function CT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return AT(n,e.Qc(r?4:3,t))}function AT(e,t){if(NT(e=Gn(e)))return PT("Unsupported field value:",t,e),RT(e,t);if(e instanceof lT)return function(e,t){if(!vT(t.$c))throw t.qc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.qc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.$c)throw t.qc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=ln(e);try{for(a.s();!(n=a.n()).done;){var o=AT(n.value,t.Uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Gn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return _y(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Zv.fromDate(e);return{timestampValue:Ng(t.k,n)}}if(e instanceof Zv){var r=new Zv(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ng(t.k,r)}}if(e instanceof fT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof cT)return{bytesValue:Pg(t.k,e._byteString)};if(e instanceof zE){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.qc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Lg(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.qc("Unsupported field value: ".concat(FE(e)))}(e,t)}function RT(e,t){var n={};return rm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):nm(e,(function(e,r){var i=AT(r,t.Mc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function NT(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Zv||e instanceof fT||e instanceof cT||e instanceof zE||e instanceof lT)}function PT(e,t,n){if(!NT(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=FE(n);throw"an object"===r?t.qc(e+" a custom object"):t.qc(e+" "+r)}}function OT(e,t,n){if((t=Gn(t))instanceof uT)return t._internalPath;if("string"==typeof t)return LT(e,t);throw MT("Field path arguments must be of type string or ",e,!1,void 0,n)}var DT=new RegExp("[~\\*/\\[\\]]");function LT(e,t,n){if(t.search(DT)>=0)throw MT("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return gn(uT,Yn(t.split(".")))._internalPath}catch(r){throw MT("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function MT(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Fv(Mv.INVALID_ARGUMENT,s+e+u)}function FT(e,t){return e.some((function(e){return e.isEqual(t)}))}var UT=function(){function e(t,n,r,i,a){sn(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return cn(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new zE(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new jT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(VT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),jT=function(e){hn(n,e);var t=yn(n);function n(){return sn(this,n),t.apply(this,arguments)}return cn(n,[{key:"data",value:function(){return Kr(dn(n.prototype),"data",this).call(this)}}]),n}(UT);function VT(e,t){return"string"==typeof t?LT(e,t):t instanceof uT?t._internalPath:t._delegate._internalPath}var BT=function(){function e(t,n){sn(this,e),this.hasPendingWrites=t,this.fromCache=n}return cn(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),qT=function(e){hn(n,e);var t=yn(n);function n(e,r,i,a,o,s){var u;return sn(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return cn(n,[{key:"exists",value:function(){return Kr(dn(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new zT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(VT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(UT),zT=function(e){hn(n,e);var t=yn(n);function n(){return sn(this,n),t.apply(this,arguments)}return cn(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Kr(dn(n.prototype),"data",this).call(this,e)}}]),n}(qT),WT=function(){function e(t,n,r,i){sn(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new BT(i.hasPendingWrites,i.fromCache),this.query=r}return cn(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new zT(n._firestore,n._userDataWriter,r.key,r,new BT(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fv(Mv.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new zT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new BT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new zT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new BT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:HT(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function HT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ov()}}function KT(e,t){return e instanceof qT&&t instanceof qT?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof WT&&t instanceof WT&&e._firestore===t._firestore&&YE(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function GT(e){if(uy(e)&&0===e.explicitOrderBy.length)throw new Fv(Mv.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var QT=cn((function e(){sn(this,e)}));function YT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var XT=function(e){hn(n,e);var t=yn(n);function n(e,r,i){var a;return sn(this,n),(a=t.call(this)).zc=e,a.Hc=r,a.Jc=i,a.type="where",a}return cn(n,[{key:"_apply",value:function(e){var t=gT(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Fv(Mv.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){sI(o,a);var u,c=[],l=ln(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(oI(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=oI(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||sI(o,a),s=CT(n,"where",o,"in"===a||"not-in"===a);var h=zm.create(i,a,s);return function(e,t){if(t.V()){var n=ly(e);if(null!==n&&!n.isEqual(t.field))throw new Fv(Mv.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=cy(e);null!==r&&uI(e,t.field,r)}var i=function(e,t){var n,r=ln(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Fv(Mv.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Fv(Mv.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new WE(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new iy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(QT);var JT=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this)).zc=e,i.Yc=r,i.type="orderBy",i}return cn(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Fv(Mv.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Fv(Mv.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ey(t,n);return function(e,t){if(null===cy(e)){var n=ly(e);null!==n&&uI(e,n,t.field)}}(e,r),r}(e._query,this.zc,this.Yc);return new WE(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new iy(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(QT);var $T=function(e){hn(n,e);var t=yn(n);function n(e,r,i){var a;return sn(this,n),(a=t.call(this)).type=e,a.Xc=r,a.Zc=i,a}return cn(n,[{key:"_apply",value:function(e){return new WE(e.firestore,e.converter,py(e._query,this.Xc,this.Zc))}}]),n}(QT);var ZT=function(e){hn(n,e);var t=yn(n);function n(e,r,i){var a;return sn(this,n),(a=t.call(this)).type=e,a.ta=r,a.ea=i,a}return cn(n,[{key:"_apply",value:function(e){var t=aI(e,this.type,this.ta,this.ea);return new WE(e.firestore,e.converter,function(e,t){return new iy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(QT);function eI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ZT("startAt",t,!0)}function tI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ZT("startAfter",t,!1)}var nI=function(e){hn(n,e);var t=yn(n);function n(e,r,i){var a;return sn(this,n),(a=t.call(this)).type=e,a.ta=r,a.ea=i,a}return cn(n,[{key:"_apply",value:function(e){var t=aI(e,this.type,this.ta,this.ea);return new WE(e.firestore,e.converter,function(e,t){return new iy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(QT);function rI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new nI("endBefore",t,!0)}function iI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new nI("endAt",t,!1)}function aI(e,t,n,r){if(n[0]=Gn(n[0]),n[0]instanceof UT)return function(e,t,n,r,i){if(!r)throw new Fv(Mv.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=ln(hy(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(Cm(t,r.key));else{var c=r.data.field(u.field);if(pm(c))throw new Fv(Mv.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Fv(Mv.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new $m(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=gT(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Fv(Mv.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Fv(Mv.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!fy(e)&&-1!==c.indexOf("/"))throw new Fv(Mv.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(am.fromString(c));if(!bm.isDocumentKey(l))throw new Fv(Mv.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new bm(l);s.push(Cm(t,f))}else{var h=CT(n,r,c);s.push(h)}}return new $m(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function oI(e,t,n){if("string"==typeof(n=Gn(n))){if(""===n)throw new Fv(Mv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fy(t)&&-1!==n.indexOf("/"))throw new Fv(Mv.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(am.fromString(n));if(!bm.isDocumentKey(r))throw new Fv(Mv.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Cm(e,new bm(r))}if(n instanceof zE)return Cm(e,n._key);throw new Fv(Mv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(FE(n),"."))}function sI(e,t){if(!Array.isArray(e)||0===e.length)throw new Fv(Mv.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Fv(Mv.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function uI(e,t,n){if(!n.isEqual(t))throw new Fv(Mv.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var cI=function(){function e(){sn(this,e)}return cn(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(wm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hm(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(dm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ov()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return nm(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new fT(hm(e.latitude),hm(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=vm(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(mm(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=fm(e);return new Zv(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=am.fromString(e);Dv(sk(n));var r=new NE(n.get(1),n.get(3)),i=new bm(n.popFirst(5));return r.isEqual(t)||Rv("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function lI(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var fI=function(e){hn(n,e);var t=yn(n);function n(e){var r;return sn(this,n),(r=t.call(this)).firestore=e,r}return cn(n,[{key:"convertBytes",value:function(e){return new cT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new zE(this.firestore,null,t)}}]),n}(cI),hI=function(){function e(t,n){sn(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=gT(t)}return cn(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=dI(e,this._firestore),i=lI(r.converter,t,n),a=kT(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Uy.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=dI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Gn(t))||t instanceof uT?ST(this._dataReader,"WriteBatch.update",i._key,t,n,o):IT(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Uy.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=dI(e,this._firestore);return this._mutations=this._mutations.concat(new Zy(t._key,Uy.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Fv(Mv.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function dI(e,t){if((e=Gn(e)).firestore!==t)throw new Fv(Mv.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var pI=function(e){hn(n,e);var t=yn(n);function n(e){var r;return sn(this,n),(r=t.call(this)).firestore=e,r}return cn(n,[{key:"convertBytes",value:function(e){return new cT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new zE(this.firestore,null,t)}}]),n}(cI);function vI(e){e=UE(e,zE);var t=UE(e.firestore,ZE),n=eT(t),r=new pI(t);return function(e,t){var n=new Uv;return e.asyncQueue.enqueueAndForget(g(T().mark((function r(){return T().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=g(T().mark((function e(t,n,r){var i,a;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Lv(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Wn.Rn(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Fv(Mv.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Ux(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,_E(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new qT(t,r,e._key,n,new BT(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function mI(e){e=UE(e,WE);var t=UE(e.firestore,ZE),n=eT(t),r=new pI(t);return function(e,t){var n=new Uv;return e.asyncQueue.enqueueAndForget(g(T().mark((function r(){return T().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=g(T().mark((function e(t,n,r){var i,a,o,s,u;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,uw(t,n,!0);case 3:i=e.sent,a=new i_(n,i.zn),o=a.Po(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=Ux(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,_E(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new WT(t,r,e,n)}))}function yI(e,t,n){e=UE(e,zE);var r=UE(e.firestore,ZE),i=lI(e.converter,t,n);return wI(r,[kT(gT(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Uy.none())])}function gI(e,t,n){e=UE(e,zE);for(var r=UE(e.firestore,ZE),i=gT(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return wI(r,[("string"==typeof(t=Gn(t))||t instanceof uT?ST(i,"updateDoc",e._key,t,n,o):IT(i,"updateDoc",e._key,t)).toMutation(e._key,Uy.exists(!0))])}function kI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Gn(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||JE(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(JE(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof zE)l=UE(e.firestore,ZE),f=oy(e._key.path),c={next:function(t){n[u]&&n[u](xI(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=UE(e,WE);l=UE(p.firestore,ZE),f=p._query;var v=new pI(l);c={next:function(e){n[u]&&n[u](new WT(l,v,p,e))},error:n[u+1],complete:n[u+2]},GT(e._query)}return function(e,t,n,r){var i=new cE(r),a=new Jx(t,i,n);return e.asyncQueue.enqueueAndForget(g(T().mark((function t(){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Wx,t.next=3,IE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.nc(),e.asyncQueue.enqueueAndForget(g(T().mark((function t(){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Kx,t.next=3,IE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(eT(l),f,h,c)}function bI(e,t){return function(e,t){var n=new cE(t);return e.asyncQueue.enqueueAndForget(g(T().mark((function t(){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Lv(e).io.add(t),t.next()},t.next=3,IE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.nc(),e.asyncQueue.enqueueAndForget(g(T().mark((function t(){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Lv(e).io.delete(t)},t.next=3,IE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(eT(e=UE(e,ZE)),JE(t)?t:{next:t})}function wI(e,t){return function(e,t){var n=new Uv;return e.asyncQueue.enqueueAndForget(g(T().mark((function r(){return T().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=p_,r.next=3,TE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(eT(e),t)}function xI(e,t,n){var r=n.docs.get(t._key),i=new pI(e);return new qT(e,i,t._key,r,new BT(n.hasPendingWrites,n.fromCache),t.converter)}var _I=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this,e,r))._firestore=e,i}return cn(n,[{key:"get",value:function(e){var t=this,r=dI(e,this._firestore),i=new pI(this._firestore);return Kr(dn(n.prototype),"get",this).call(this,e).then((function(e){return new qT(t._firestore,i,r._key,e._document,new BT(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){sn(this,e),this._firestore=t,this._transaction=n,this._dataReader=gT(t)}return cn(e,[{key:"get",value:function(e){var t=this,n=dI(e,this._firestore),r=new fI(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Ov();var i=e[0];if(i.isFoundDocument())return new UT(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new UT(t._firestore,r,n._key,null,n.converter);throw Ov()}))}},{key:"set",value:function(e,t,n){var r=dI(e,this._firestore),i=lI(r.converter,t,n),a=kT(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=dI(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Gn(t))||t instanceof uT?ST(this._dataReader,"Transaction.update",i._key,t,n,o):IT(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=dI(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function EI(e,t){return function(e,t){var n=new Uv;return e.asyncQueue.enqueueAndForget(g(T().mark((function r(){var i;return T().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return bE(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new hE(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(eT(e=UE(e,ZE)),(function(n){return t(new _I(e,n))}))}function TI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new _T("arrayUnion",t)}function II(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ET("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Iv=e}(Ar),br(new Xn("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new ZE(i,new qv(e.getProvider("auth-internal")),new Kv(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Lr(Ev,"3.4.3",e),Lr(Ev,"3.4.3","esm2017")}();function SI(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Fv("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function CI(){if("undefined"===typeof Uint8Array)throw new Fv("unimplemented","Uint8Arrays are not available in this environment.")}function AI(){if("undefined"==typeof atob)throw new Fv("unimplemented","Blobs are unavailable in Firestore in this environment.")}var RI=function(){function e(t){sn(this,e),this._delegate=t}return cn(e,[{key:"toBase64",value:function(){return AI(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return CI(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return AI(),new e(cT.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return CI(),new e(cT.fromUint8Array(t))}}]),e}();function NI(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=ln(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var PI=function(){function e(){sn(this,e)}return cn(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){sT(e=UE(e,ZE));var n=eT(e),r=e._freezeSettings(),i=new sE;return nT(n,i,new aE(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){sT(e=UE(e,ZE));var t=eT(e),n=e._freezeSettings(),r=new sE;return nT(t,r,new oE(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Fv(Mv.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Uv;return e._queue.enqueueAndForgetEvenWhileRestricted(g(T().mark((function n(){return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=g(T().mark((function e(t){var n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ok.Pt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Ok.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Hb(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),OI=function(){function e(t,n,r){var i=this;sn(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof NE||(this._appCompat=t)}return cn(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Nv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};qE(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return rT(this._delegate)}},{key:"disableNetwork",value:function(){return iT(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&DE("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Uv;return e.asyncQueue.enqueueAndForget(g(T().mark((function n(){return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=T_,n.next=3,TE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(eT(e=UE(e,ZE)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return bI(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Fv("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new GI(this,KE(this._delegate,e))}catch(uF){throw jI(uF,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new UI(this,GE(this._delegate,e))}catch(uF){throw jI(uF,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new WI(this,function(e,t){if(e=UE(e,BE),OE("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Fv(Mv.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new WE(e,null,function(e){return new iy(am.emptyPath(),e)}(t))}(this._delegate,e))}catch(uF){throw jI(uF,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return EI(this._delegate,(function(n){return e(new LI(t,n))}))}},{key:"batch",value:function(){var e=this;return eT(this._delegate),new MI(new hI(this._delegate,(function(t){return wI(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return aT(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return oT(this._delegate,e).then((function(e){return e?new WI(t,e):null}))}}]),e}(),DI=function(e){hn(n,e);var t=yn(n);function n(e){var r;return sn(this,n),(r=t.call(this)).firestore=e,r}return cn(n,[{key:"convertBytes",value:function(e){return new RI(new cT(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return UI.forKey(t,this.firestore,null)}}]),n}(cI);var LI=function(){function e(t,n){sn(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new DI(t)}return cn(e,[{key:"get",value:function(e){var t=this,n=QI(e);return this._delegate.get(n).then((function(e){return new qI(t._firestore,new qT(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=QI(e);return n?(SI("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=QI(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=QI(e);return this._delegate.delete(t),this}}]),e}(),MI=function(){function e(t){sn(this,e),this._delegate=t}return cn(e,[{key:"set",value:function(e,t,n){var r=QI(e);return n?(SI("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=QI(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=QI(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),FI=function(){function e(t,n,r){sn(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return cn(e,[{key:"fromFirestore",value:function(e,t){var n=new zT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new zI(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new DI(t),n),i.set(n,a)),a}}]),e}();FI.INSTANCES=new WeakMap;var UI=function(){function e(t,n){sn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new DI(t)}return cn(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new GI(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new GI(this.firestore,KE(this._delegate,e))}catch(uF){throw jI(uF,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Gn(e))instanceof zE&&QE(this._delegate,e)}},{key:"set",value:function(e,t){t=SI("DocumentReference.set",t);try{return t?yI(this._delegate,e,t):yI(this._delegate,e)}catch(uF){throw jI(uF,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?gI(this._delegate,e):gI.apply(void 0,[this._delegate,e,t].concat(r))}catch(uF){throw jI(uF,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return wI(UE(e.firestore,ZE),[new Zy(e._key,Uy.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=VI(n),a=BI(n,(function(t){return new qI(e.firestore,new qT(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return kI(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?vI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=UE(e,zE);var t=UE(e.firestore,ZE);return CE(eT(t),e._key,{source:"server"}).then((function(n){return xI(t,e,n)}))}(this._delegate):function(e){e=UE(e,zE);var t=UE(e.firestore,ZE);return CE(eT(t),e._key).then((function(n){return xI(t,e,n)}))}(this._delegate),t.then((function(e){return new qI(n.firestore,new qT(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(FI.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Fv("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new zE(n._delegate,r,new bm(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new zE(n._delegate,r,t))}}]),e}();function jI(e,t,n){return e.message=e.message.replace(t,n),e}function VI(e){var t,n=ln(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!NI(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function BI(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=NI(e[0])?e[0]:NI(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var qI=function(){function e(t,n){sn(this,e),this._firestore=t,this._delegate=n}return cn(e,[{key:"ref",get:function(){return new UI(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return KT(this._delegate,e._delegate)}}]),e}(),zI=function(e){hn(n,e);var t=yn(n);function n(){return sn(this,n),t.apply(this,arguments)}return cn(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Ov()}(void 0!==t),t}}]),n}(qI),WI=function(){function e(t,n){sn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new DI(t)}return cn(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,YT(this._delegate,function(e,t,n){var r=t,i=VT("where",e);return new XT(i,r,n)}(t,n,r)))}catch(uF){throw jI(uF,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,YT(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=VT("orderBy",e);return new JT(n,t)}(t,n)))}catch(uF){throw jI(uF,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,YT(this._delegate,function(e){return jE("limit",e),new $T("limit",e,"F")}(t)))}catch(uF){throw jI(uF,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,YT(this._delegate,function(e){return jE("limitToLast",e),new $T("limitToLast",e,"L")}(t)))}catch(uF){throw jI(uF,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,YT(this._delegate,eI.apply(void 0,arguments)))}catch(uF){throw jI(uF,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,YT(this._delegate,tI.apply(void 0,arguments)))}catch(uF){throw jI(uF,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,YT(this._delegate,rI.apply(void 0,arguments)))}catch(uF){throw jI(uF,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,YT(this._delegate,iI.apply(void 0,arguments)))}catch(uF){throw jI(uF,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return YE(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?mI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=UE(e,WE);var t=UE(e.firestore,ZE),n=eT(t),r=new pI(t);return AE(n,e._query,{source:"server"}).then((function(n){return new WT(t,r,e,n)}))}(this._delegate):function(e){e=UE(e,WE);var t=UE(e.firestore,ZE),n=eT(t),r=new pI(t);return GT(e._query),AE(n,e._query).then((function(n){return new WT(t,r,e,n)}))}(this._delegate),t.then((function(e){return new KI(n.firestore,new WT(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=VI(n),a=BI(n,(function(t){return new KI(e.firestore,new WT(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return kI(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(FI.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),HI=function(){function e(t,n){sn(this,e),this._firestore=t,this._delegate=n}return cn(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new zI(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),KI=function(){function e(t,n){sn(this,e),this._firestore=t,this._delegate=n}return cn(e,[{key:"query",get:function(){return new WI(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new zI(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new HI(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new zI(n._firestore,r))}))}},{key:"isEqual",value:function(e){return KT(this._delegate,e._delegate)}}]),e}(),GI=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return cn(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new UI(this.firestore,e):null}},{key:"doc",value:function(e){try{return new UI(this.firestore,void 0===e?GE(this._delegate):GE(this._delegate,e))}catch(uF){throw jI(uF,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=UE(e.firestore,ZE),r=GE(e),i=lI(e.converter,t);return wI(n,[kT(gT(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Uy.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new UI(t.firestore,e)}))}},{key:"isEqual",value:function(e){return QE(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(FI.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(WI);function QI(e){return UE(e,zE)}var YI=function(){function e(){sn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=gn(uT,n)}return cn(e,[{key:"isEqual",value:function(e){return(e=Gn(e))instanceof uT&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(sm.keyField().canonicalString())}}]),e}(),XI=function(){function e(t){sn(this,e),this._delegate=t}return cn(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new xT("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new bT("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=TI.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=II.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new TT("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),JI={Firestore:OI,GeoPoint:fT,Timestamp:Zv,Blob:RI,Transaction:LI,WriteBatch:MI,DocumentReference:UI,DocumentSnapshot:qI,Query:WI,QueryDocumentSnapshot:zI,QuerySnapshot:KI,CollectionReference:GI,FieldPath:YI,FieldValue:XI,setLogLevel:function(e){!function(e){Sv.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Xn("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},JI)))}(e,(function(e,t){return new OI(e,t,new PI)})),e.registerVersion("@firebase/firestore-compat","0.1.12")}(Wr);var $I="firebasestorage.googleapis.com",ZI=function(e){hn(n,e);var t=yn(n);function n(e,r){var i;return sn(this,n),(i=t.call(this,eS(e),"Firebase Storage: ".concat(r," (").concat(eS(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(fn(i),n.prototype),i}return cn(n,[{key:"_codeEquals",value:function(e){return eS(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Dn);function eS(e){return"storage/"+e}function tS(){return new ZI("unknown","An unknown error occurred, please check the error payload for server response.")}function nS(){return new ZI("canceled","User canceled the upload/download.")}function rS(){return new ZI("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function iS(e){return new ZI("invalid-argument",e)}function aS(){return new ZI("app-deleted","The Firebase app was deleted.")}function oS(e){return new ZI("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function sS(e,t){return new ZI("invalid-format","String does not match format '"+e+"': "+t)}function uS(e){throw new ZI("internal-error","Internal error: "+e)}var cS,lS=function(){function e(t,n){sn(this,e),this.bucket=t,this.path_=n}return cn(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(uF){return new e(t,"")}if(""===r.path)return r;throw new ZI("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===$I?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new ZI("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),fS=function(){function e(t){sn(this,e),this.promise_=Promise.reject(t)}return cn(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function hS(e){return"string"===typeof e||e instanceof String}function dS(e){return pS()&&e instanceof Blob}function pS(){return"undefined"!==typeof Blob}function vS(e,t,n,r){if(r<t)throw iS("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw iS("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function mS(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function yS(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(cS||(cS={}));var gS=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this;sn(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return cn(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(uF){i(uF)}else if(null!==a){var s=tS();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?aS():nS());else i(new ZI("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new kS(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new kS(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===cS.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new kS(o,r))}else{var s=r.getErrorCode()===cS.ABORT;t(!1,new kS(!1,null,s))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),kS=cn((function e(t,n,r){sn(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function bS(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function wS(){for(var e=bS(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(pS())return new Blob(n);throw new ZI("unsupported-environment","This browser doesn't seem to support creating Blobs")}var xS={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},_S=cn((function e(t,n){sn(this,e),this.data=t,this.contentType=n||null}));function ES(e,t){switch(e){case xS.RAW:return new _S(TS(t));case xS.BASE64:case xS.BASE64URL:return new _S(IS(e,t));case xS.DATA_URL:return new _S(function(e){var t=new SS(e);return t.base64?IS(xS.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(uF){throw sS(xS.DATA_URL,"Malformed data URL.")}return TS(t)}(t.rest)}(t),new SS(t).contentType)}throw tS()}function TS(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function IS(e,t){switch(e){case xS.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw sS(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case xS.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw sS(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(uF){throw sS(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var SS=cn((function e(t){sn(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw sS(xS.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var CS=function(){function e(t,n){sn(this,e);var r=0,i="";dS(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return cn(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(dS(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(pS()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(wS.apply(null,i))}var a=n.map((function(e){return hS(e)?ES(xS.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function AS(e){var t;try{t=JSON.parse(e)}catch(uF){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function RS(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function NS(e,t){return t}var PS=cn((function e(t,n,r,i){sn(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||NS})),OS=null;function DS(){if(OS)return OS;var e=[];e.push(new PS("bucket")),e.push(new PS("generation")),e.push(new PS("metageneration")),e.push(new PS("name","fullPath",!0));var t=new PS("name");t.xform=function(e,t){return function(e){return!hS(e)||e.length<2?e:RS(e)}(t)},e.push(t);var n=new PS("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new PS("timeCreated")),e.push(new PS("updated")),e.push(new PS("md5Hash",null,!0)),e.push(new PS("cacheControl",null,!0)),e.push(new PS("contentDisposition",null,!0)),e.push(new PS("contentEncoding",null,!0)),e.push(new PS("contentLanguage",null,!0)),e.push(new PS("contentType",null,!0)),e.push(new PS("metadata","customMetadata",!0)),OS=e}function LS(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new lS(n,r);return t._makeStorageReference(i)}})}(r,e),r}function MS(e,t,n){var r=AS(t);return null===r?null:LS(e,r,n)}function FS(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function US(e,t,n){var r=AS(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=ln(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),s=e._makeStorageReference(new lS(t,o));r.prefixes.push(s)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var u,c=ln(n.items);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=e._makeStorageReference(new lS(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var jS=cn((function e(t,n,r,i){sn(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function VS(e){if(!e)throw tS()}function BS(e,t){return function(n,r){var i=MS(e,r,t);return VS(null!==i),i}}function qS(e,t){return function(n,r){var i=MS(e,r,t);return VS(null!==i),function(e,t,n,r){var i=AS(t);if(null===i)return null;if(!hS(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return mS("/b/"+o(i)+"/o/"+o(a),n,r)+yS({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function zS(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new ZI("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new ZI("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new ZI("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new ZI("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function WS(e){var t=zS(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new ZI("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function HS(e,t,n){var r=mS(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new jS(r,"GET",BS(e,n),i);return a.errorHandler=WS(t),a}function KS(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=mS(t.bucketOnlyServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,u=new jS(o,"GET",function(e,t){return function(n,r){var i=US(e,t,r);return VS(null!==i),i}}(e,t.bucket),s);return u.urlParams=a,u.errorHandler=zS(t),u}function GS(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function QS(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=GS(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+FS(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=CS.getBlob(c,r,l);if(null===f)throw rS();var h={name:u.fullPath},d=mS(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new jS(d,"POST",BS(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=zS(t),v}var YS=cn((function e(t,n,r,i){sn(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function XS(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(uF){VS(!1)}return VS(!!n&&-1!==(t||["active"]).indexOf(n)),n}var JS=262144;function $S(e,t,n,r,i,a,o,s){var u=new YS(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new ZI("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,h);if(null===p)throw rS();var v=t.maxUploadRetryTime,m=new jS(n,"POST",(function(e,n){var i,o=XS(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===o?BS(t,a)(e,n):null,new YS(s,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=zS(e),m}var ZS={STATE_CHANGED:"state_changed"},eC={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function tC(e){switch(e){case"running":case"pausing":case"canceling":return eC.RUNNING;case"paused":return eC.PAUSED;case"success":return eC.SUCCESS;case"canceled":return eC.CANCELED;default:return eC.ERROR}}var nC=cn((function e(t,n,r){sn(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function rC(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var iC=function(){function e(){var t=this;sn(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=cS.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=cS.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=cS.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return cn(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw uS("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw uS("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw uS("cannot .getStatus() before sending");try{return this.xhr_.status}catch(uF){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw uS("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw uS("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),aC=function(e){hn(n,e);var t=yn(n);function n(){return sn(this,n),t.apply(this,arguments)}return cn(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(iC);function oC(){return new aC}var sC=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;sn(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=DS(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return cn(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=_(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=GS(t,r,i),s={name:o.fullPath},u=mS(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=FS(o,n),f=e.maxUploadRetryTime,h=new jS(u,"POST",(function(e){var t;XS(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(uF){VS(!1)}return VS(hS(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=zS(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,oC,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new jS(n,"POST",(function(e){var t=XS(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(uF){VS(!1)}n||VS(!1);var i=Number(n);return VS(!isNaN(i)),new YS(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=zS(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,oC,n,r);e._request=a,a.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=JS*this._chunkMultiplier,n=new YS(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=$S(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(uF){return e._error=uF,void e._transition("error")}var s=e._ref.storage._makeRequest(o,oC,i,a);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){JS*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=HS(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,oC,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=QS(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,oC,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=nS(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=tC(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new nC(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(tC(this._state)){case eC.SUCCESS:rC(this._resolve.bind(null,this.snapshot))();break;case eC.CANCELED:case eC.ERROR:rC(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(tC(this._state)){case eC.RUNNING:case eC.PAUSED:e.next&&rC(e.next.bind(e,this.snapshot))();break;case eC.SUCCESS:e.complete&&rC(e.complete.bind(e))();break;default:e.error&&rC(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),uC=function(){function e(t,n){sn(this,e),this._service=t,this._location=n instanceof lS?n:lS.makeFromUrl(n,t.host)}return cn(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new lS(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return RS(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new lS(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw oS(e)}}]),e}();function cC(e,t,n){return lC.apply(this,arguments)}function lC(){return(lC=g(T().mark((function e(t,n,r){var i,a,o,s;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,fC(t,o);case 3:if(s=e.sent,(i=n.prefixes).push.apply(i,Yn(s.prefixes)),(a=n.items).push.apply(a,Yn(s.items)),null==s.nextPageToken){e.next=9;break}return e.next=9,cC(t,n,s.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fC(e,t){null!=t&&"number"===typeof t.maxResults&&vS("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=KS(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,oC)}function hC(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=mS(t.fullServerUrl(),e.host,e._protocol),a=FS(n,r),o=e.maxOperationRetryTime,s=new jS(i,"PATCH",BS(e,r),o);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=a,s.errorHandler=WS(t),s}(e.storage,e._location,t,DS());return e.storage.makeRequestWithTokens(n,oC)}function dC(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=mS(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new jS(r,"GET",qS(e,n),i);return a.errorHandler=WS(t),a}(e.storage,e._location,DS());return e.storage.makeRequestWithTokens(t,oC).then((function(e){if(null===e)throw new ZI("no-download-url","The given file does not have any download URLs.");return e}))}function pC(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=mS(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new jS(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=WS(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,oC)}function vC(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new lS(e._location.bucket,n);return new uC(e.storage,r)}function mC(e,t){if(e instanceof bC){var n=e;if(null==n._bucket)throw new ZI("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new uC(n,n._bucket);return null!=t?mC(r,t):r}return void 0!==t?vC(e,t):e}function yC(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof bC)return new uC(e,t);throw iS("To use ref(service, url), the first argument must be a Storage instance.")}return mC(e,t)}function gC(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:lS.makeFromBucketSpec(n,e)}function kC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:In(i,e.app.options.projectId))}var bC=function(){function e(t,n,r,i,a){sn(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=$I,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?lS.makeFromBucketSpec(i,this._host):gC(this._host,this.app.options)}return cn(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=lS.makeFromBucketSpec(this._url,e):this._bucket=gC(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){vS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){vS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=g(T().mark((function e(){var t,n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=g(T().mark((function e(){var t,n;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new uC(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new fS(aS());var a=function(e,t,n,r,i,a){var o=yS(e.urlParams),s=e.url+o,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new gS(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=g(T().mark((function e(t,n){var r,i,a,o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=_(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),wC="@firebase/storage",xC="0.9.1",_C="storage";function EC(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new sC(e,new CS(t),n)}(e=Gn(e),t,n)}function TC(e){return function(e){e._throwIfRoot("getMetadata");var t=HS(e.storage,e._location,DS());return e.storage.makeRequestWithTokens(t,oC)}(e=Gn(e))}function IC(e){return function(e){var t={prefixes:[],items:[]};return cC(e,t).then((function(){return t}))}(e=Gn(e))}function SC(e,t){return yC(e=Gn(e),t)}function CC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};kC(e,t,n,r)}function AC(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new bC(r,i,a,n,Ar)}br(new Xn(_C,AC,"PUBLIC").setMultipleInstances(!0)),Lr(wC,xC,""),Lr(wC,xC,"esm2017");var RC=function(){function e(t,n,r){sn(this,e),this._delegate=t,this.task=n,this.ref=r}return cn(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),NC=function(){function e(t,n){sn(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return cn(e,[{key:"snapshot",get:function(){return new RC(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new RC(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new RC(e,i,i._ref))}:{next:t.next?function(e){return t.next(new RC(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),PC=function(){function e(t,n){sn(this,e),this._delegate=t,this._service=n}return cn(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new OC(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new OC(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),OC=function(){function e(t,n){sn(this,e),this._delegate=t,this.storage=n}return cn(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return vC(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new NC(EC(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xS.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=ES(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new NC(new sC(this._delegate,new CS(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return IC(this._delegate).then((function(t){return new PC(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return fC(e=Gn(e),t)}(this._delegate,e||void 0).then((function(e){return new PC(e,t.storage)}))}},{key:"getMetadata",value:function(){return TC(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return hC(e=Gn(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return dC(Gn(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),pC(Gn(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw oS(e)}}]),e}(),DC=function(){function e(t,n){sn(this,e),this.app=t,this._delegate=n}return cn(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(LC(e))throw iS("ref() expected a child path but got a URL, use refFromURL instead.");return new OC(SC(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!LC(e))throw iS("refFromURL() expected a full URL but got a child path, use ref() instead.");try{lS.makeFromUrl(e,this._delegate.host)}catch(uF){throw iS("refFromUrl() expected a valid full URL but got an invalid one.")}return new OC(SC(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};CC(this._delegate,e,t,n)}}]),e}();function LC(e){return/^[A-Za-z]+:\/\//.test(e)}function MC(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new DC(r,i)}!function(e){var t={TaskState:eC,TaskEvent:ZS,StringFormat:xS,Storage:DC,Reference:OC};e.INTERNAL.registerComponent(new Xn("storage-compat",MC,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.9")}(Wr);Lr("firebase","9.6.3","app");var FC=Wr.initializeApp({apiKey:"AIzaSyCDBxxUWQ_fvjI4IDW9gJ6OQJwuR9zM5pg",authDomain:"npotw-d3879.firebaseapp.com",projectId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyCDBxxUWQ_fvjI4IDW9gJ6OQJwuR9zM5pg",REACT_APP_FIREBASE_APP_ID:"1:346043752093:web:fbac0730a5d73155087e74",REACT_APP_FIREBASE_AUTH_DOMAIN:"npotw-d3879.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://npotw-production.firebaseio.com/",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-EHZYW1WSKQ",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"346043752093",REACT_APP_FIREBASE_PROJECTID:"npotw-d3879",REACT_APP_FIREBASE_STORAGE_BUCKET:"npotw-d3879.appspot.com"}.REACT_APP_FIREBASE_PROJECT_ID,databaseURL:"https://npotw-production.firebaseio.com/",storageBucket:"npotw-d3879.appspot.com",messagingSenderId:"346043752093",appId:"1:346043752093:web:fbac0730a5d73155087e74",measurementId:"G-EHZYW1WSKQ"}),UC=(function(e,t){var n=wr(e,"firestore");if(n.isInitialized()){var r=n.getImmediate();if(jn(n.getOptions(),t))return r;throw new Fv(Mv.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==t.cacheSizeBytes&&-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Fv(Mv.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");n.initialize({options:t})}(FC,{experimentalForceLongPolling:!0}),FC.auth()),jC=Wr.storage(),VC=Wr.firestore(),BC=Wr.firestore.FieldValue.serverTimestamp,qC=t.createContext();function zC(){return(0,t.useContext)(qC)}function WC(e){var n=e.children,r=_((0,t.useState)(),2),i=r[0],a=r[1],o=_((0,t.useState)(!0),2),s=o[0],u=o[1];(0,t.useEffect)((function(){return UC.onAuthStateChanged((function(e){a(e),u(!1)}))}),[]);var c={currentUser:i,login:function(e,t){return UC.signInWithEmailAndPassword(e,t)},signup:function(e,t){return UC.createUserWithEmailAndPassword(e,t)},logout:function(){return UC.signOut()},resetPassword:function(e){return UC.sendPasswordResetEmail(e)}};return(0,f.jsx)(qC.Provider,{value:c,children:!s&&n})}var HC,KC=HC||(HC={});KC.Pop="POP",KC.Push="PUSH",KC.Replace="REPLACE";var GC=function(e){return e};function QC(e){e.preventDefault(),e.returnValue=""}function YC(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function XC(){return Math.random().toString(36).substr(2,8)}function JC(e){var t=e.pathname;t=void 0===t?"/":t;var n=e.search;return n=void 0===n?"":n,e=void 0===(e=e.hash)?"":e,n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function $C(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function ZC(e,t){if(!e)throw new Error(t)}var eA=(0,t.createContext)(null);var tA=(0,t.createContext)(null);var nA=(0,t.createContext)({outlet:null,matches:[]});function rA(e){var n=e.to,r=e.replace,i=e.state;cA()||ZC(!1);var a=fA();return(0,t.useEffect)((function(){a(n,{replace:r,state:i})})),null}function iA(e){return function(e){var n=(0,t.useContext)(nA).outlet;if(n)return(0,t.createElement)(hA.Provider,{value:e},n);return n}(e.context)}function aA(e){ZC(!1)}function oA(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,s=e.navigationType,u=void 0===s?HC.Pop:s,c=e.navigator,l=e.static,f=void 0!==l&&l;cA()&&ZC(!1);var h=TA(r),d=(0,t.useMemo)((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=$C(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,k=p.hash,b=void 0===k?"":k,w=p.state,x=void 0===w?null:w,_=p.key,E=void 0===_?"default":_,T=(0,t.useMemo)((function(){var e=_A(m,h);return null==e?null:{pathname:e,search:g,hash:b,state:x,key:E}}),[h,m,g,b,x,E]);return null==T?null:(0,t.createElement)(eA.Provider,{value:d},(0,t.createElement)(tA.Provider,{children:a,value:{location:T,navigationType:u}}))}function sA(e){var n=e.children,r=e.location;return function(e,n){cA()||ZC(!1);var r=(0,t.useContext)(nA).matches,i=r[r.length-1],a=i?i.params:{},o=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;var s,u=lA();if(n){var c,l="string"===typeof n?$C(n):n;"/"===o||(null==(c=l.pathname)?void 0:c.startsWith(o))||ZC(!1),s=l}else s=u;var f=s.pathname||"/",h="/"===o?f:f.slice(o.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=_A(("string"===typeof t?$C(t):t).pathname||"/",n);if(null==r)return null;var i=vA(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=kA(i[o],r);return a}(e,{pathname:h});0;return bA(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:EA([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:EA([o,e.pathnameBase])})})),r)}(pA(n),r)}function uA(e){cA()||ZC(!1);var n=(0,t.useContext)(eA),r=n.basename,i=n.navigator,a=dA(e),o=a.hash,s=a.pathname,u=a.search,c=s;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?$C(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===s?r+(f?"/":""):EA([r,s])}return i.createHref({pathname:c,search:u,hash:o})}function cA(){return null!=(0,t.useContext)(tA)}function lA(){return cA()||ZC(!1),(0,t.useContext)(tA).location}function fA(){cA()||ZC(!1);var e=(0,t.useContext)(eA),n=e.basename,r=e.navigator,i=(0,t.useContext)(nA).matches,a=lA().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,t.useRef)(!1);(0,t.useEffect)((function(){s.current=!0}));var u=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=xA(e,JSON.parse(o),a);"/"!==n&&(i.pathname=EA([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return u}var hA=(0,t.createContext)(null);function dA(e){var n=(0,t.useContext)(nA).matches,r=lA().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,t.useMemo)((function(){return xA(e,JSON.parse(i),r)}),[e,i,r])}function pA(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==aA&&ZC(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=pA(e.props.children)),n.push(r)}else n.push.apply(n,pA(e.props.children))})),n}function vA(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||ZC(!1),a.relativePath=a.relativePath.slice(r.length));var o=EA([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&ZC(!1),vA(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:gA(o,e.index),routesMeta:s})})),t}var mA=/^:\w+$/,yA=function(e){return"*"===e};function gA(e,t){var n=e.split("/"),r=n.length;return n.some(yA)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!yA(e)})).reduce((function(e,t){return e+(mA.test(t)?3:""===t?1:10)}),r)}function kA(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=wA({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:EA([i,l.pathname]),pathnameBase:EA([i,l.pathnameBase]),route:f}),"/"!==l.pathnameBase&&(i=EA([i,l.pathnameBase]))}return a}function bA(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,t.createElement)(nA.Provider,{children:void 0!==i.route.element?i.route.element:(0,t.createElement)(iA,null),value:{outlet:r,matches:n.concat(e.slice(0,a+1))}})}),null)}function wA(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=_(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function xA(e,t,n){var r,i="string"===typeof e?$C(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?$C(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:IA(a),hash:SA(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function _A(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var EA=function(e){return e.join("/").replace(/\/\/+/g,"/")},TA=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},IA=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},SA=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function CA(){return CA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CA.apply(this,arguments)}function AA(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var RA=["onClick","reloadDocument","replace","state","target","to"];function NA(e){var n=e.basename,r=e.children,i=e.window,a=(0,t.useRef)();null==a.current&&(a.current=function(e){function t(){var e=o.location,t=s.state||{};return[t.idx,GC({pathname:e.pathname,search:e.search,hash:e.hash,state:t.usr||null,key:t.key||"default"})]}function n(e){return"string"===typeof e?e:JC(e)}function r(e,t){return void 0===t&&(t=null),GC(J({pathname:f.pathname,hash:"",search:""},"string"===typeof e?$C(e):e,{state:t,key:XC()}))}function i(e){c=e,e=t(),l=e[0],f=e[1],h.call({action:c,location:f})}function a(e){s.go(e)}void 0===e&&(e={});var o=void 0===(e=e.window)?document.defaultView:e,s=o.history,u=null;o.addEventListener("popstate",(function(){if(u)d.call(u),u=null;else{var e=HC.Pop,n=t(),r=n[0];if(n=n[1],d.length){if(null!=r){var o=l-r;o&&(u={action:e,location:n,retry:function(){a(-1*o)}},a(o))}}else i(e)}}));var c=HC.Pop,l=(e=t())[0],f=e[1],h=YC(),d=YC();return null==l&&(l=0,s.replaceState(J({},s.state,{idx:l}),"")),{get action(){return c},get location(){return f},createHref:n,push:function e(t,a){var u=HC.Push,c=r(t,a);if(!d.length||(d.call({action:u,location:c,retry:function(){e(t,a)}}),0)){var f=[{usr:c.state,key:c.key,idx:l+1},n(c)];c=f[0],f=f[1];try{s.pushState(c,"",f)}catch(jv){o.location.assign(f)}i(u)}},replace:function e(t,a){var o=HC.Replace,u=r(t,a);d.length&&(d.call({action:o,location:u,retry:function(){e(t,a)}}),1)||(u=[{usr:u.state,key:u.key,idx:l},n(u)],s.replaceState(u[0],"",u[1]),i(o))},go:a,back:function(){a(-1)},forward:function(){a(1)},listen:function(e){return h.push(e)},block:function(e){var t=d.push(e);return 1===d.length&&o.addEventListener("beforeunload",QC),function(){t(),d.length||o.removeEventListener("beforeunload",QC)}}}}({window:i}));var o=a.current,s=_((0,t.useState)({action:o.action,location:o.location}),2),u=s[0],c=s[1];return(0,t.useLayoutEffect)((function(){return o.listen(c)}),[o]),(0,t.createElement)(oA,{basename:n,children:r,location:u.location,navigationType:u.action,navigator:o})}var PA=(0,t.forwardRef)((function(e,n){var r=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,s=e.state,u=e.target,c=e.to,l=AA(e,RA),f=uA(c),h=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=fA(),u=lA(),c=dA(e);return(0,t.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||JC(u)===JC(c);s(e,{replace:n,state:o})}}),[u,s,c,a,o,i,e])}(c,{replace:o,state:s,target:u});return(0,t.createElement)("a",CA({},l,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:u}))}));function OA(){var e=(0,t.useRef)(),n=(0,t.useRef)(),r=(0,t.useRef)(),i=zC().signup,a=_((0,t.useState)(""),2),o=a[0],s=a[1],u=_((0,t.useState)(!1),2),c=u[0],l=u[1],h=fA();function d(){return(d=g(T().mark((function t(a){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n.current.value===r.current.value){t.next=3;break}return t.abrupt("return",s("Passwords do not match!"));case 3:return t.prev=3,s(""),l(!0),t.next=8,i(e.current.value,n.current.value);case 8:h("/dashboard"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),s("Failed to create an account!");case 14:l(!1);case 15:case"end":return t.stop()}}),t,null,[[3,11]])})))).apply(this,arguments)}return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(X,{children:(0,f.jsxs)(X.Body,{children:[(0,f.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),o&&(0,f.jsx)(ct,{variant:"danger",children:o}),(0,f.jsxs)(nn,{onSubmit:function(e){return d.apply(this,arguments)},children:[(0,f.jsxs)(nn.Group,{id:"email",children:[(0,f.jsx)(nn.Label,{children:"Email"}),(0,f.jsx)(nn.Control,{type:"email",ref:e,required:!0})]}),(0,f.jsxs)(nn.Group,{id:"password",children:[(0,f.jsx)(nn.Label,{children:"Password"}),(0,f.jsx)(nn.Control,{type:"password",ref:n,required:!0})]}),(0,f.jsxs)(nn.Group,{id:"password-confirm",children:[(0,f.jsx)(nn.Label,{children:"Password Confirmation"}),(0,f.jsx)(nn.Control,{type:"password",ref:r,required:!0})]}),(0,f.jsx)(on,{disabled:c,className:"w-100",type:"submit",children:"Sign up"})]})]})}),(0,f.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",(0,f.jsx)(PA,{to:"/login",children:"Login"})]})]})}function DA(){var e=(0,t.useRef)(),n=(0,t.useRef)(),r=zC().login,i=_((0,t.useState)(""),2),a=i[0],o=i[1],s=_((0,t.useState)(!1),2),u=s[0],c=s[1],l=fA();function h(){return(h=g(T().mark((function t(i){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.preventDefault(),t.prev=1,o(""),c(!0),t.next=6,r(e.current.value,n.current.value);case 6:l("/dashboard"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),o("Failed to sign in!");case 12:c(!1);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))).apply(this,arguments)}return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(X,{children:(0,f.jsxs)(X.Body,{children:[(0,f.jsx)("h2",{className:"text-center mb-4",children:"Log in"}),a&&(0,f.jsx)(ct,{variant:"danger",children:a}),(0,f.jsxs)(nn,{onSubmit:function(e){return h.apply(this,arguments)},children:[(0,f.jsxs)(nn.Group,{id:"email",children:[(0,f.jsx)(nn.Label,{children:"Email"}),(0,f.jsx)(nn.Control,{type:"email",ref:e,required:!0})]}),(0,f.jsxs)(nn.Group,{id:"password",children:[(0,f.jsx)(nn.Label,{children:"Password"}),(0,f.jsx)(nn.Control,{type:"password",ref:n,required:!0})]}),(0,f.jsx)(on,{disabled:u,className:"w-100",type:"submit",children:"Log in"})]}),(0,f.jsx)("div",{className:"w-100 text-center mt-2",children:(0,f.jsx)(PA,{to:"/forgot-password",children:"Forgot password?"})})]})}),(0,f.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",(0,f.jsx)(PA,{to:"/signup",children:"Sign up"})]})]})}function LA(){var e=(0,t.useRef)(),n=zC().resetPassword,r=_((0,t.useState)(""),2),i=r[0],a=r[1],o=_((0,t.useState)(!1),2),s=o[0],u=o[1],c=_((0,t.useState)(""),2),l=c[0],h=c[1];function d(){return(d=g(T().mark((function t(r){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.prev=1,h(""),a(""),u(!0),t.next=7,n(e.current.value);case 7:h("Check your inbox for further instructions."),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a("Failed to reset password!");case 13:u(!1);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))).apply(this,arguments)}return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(X,{children:(0,f.jsxs)(X.Body,{children:[(0,f.jsx)("h2",{className:"text-center mb-4",children:"Password reset"}),i&&(0,f.jsx)(ct,{variant:"danger",children:i}),l&&(0,f.jsx)(ct,{variant:"success",children:l}),(0,f.jsxs)(nn,{onSubmit:function(e){return d.apply(this,arguments)},children:[(0,f.jsxs)(nn.Group,{id:"email",children:[(0,f.jsx)(nn.Label,{children:"Email"}),(0,f.jsx)(nn.Control,{type:"email",ref:e,required:!0})]}),(0,f.jsx)(on,{disabled:s,className:"w-100",type:"submit",children:"Reset Password"})]}),(0,f.jsx)("div",{className:"w-100 text-center mt-2",children:(0,f.jsx)(PA,{to:"/login",children:"Login"})})]})}),(0,f.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",(0,f.jsx)(PA,{to:"/signup",children:"Sign up"})]})]})}function MA(){var e=(0,t.useRef)(),n=(0,t.useRef)(),r=(0,t.useRef)(),i=zC(),a=i.currentUser,o=i.updatePassword,s=i.updateEmail,u=_((0,t.useState)(""),2),c=u[0],l=u[1],h=_((0,t.useState)(!1),2),d=h[0],p=h[1],v=fA();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(X,{children:(0,f.jsxs)(X.Body,{children:[(0,f.jsx)("h2",{className:"text-center mb-4",children:"Update Profile"}),c&&(0,f.jsx)(ct,{variant:"danger",children:c}),(0,f.jsxs)(nn,{onSubmit:function(t){if(t.preventDefault(),n.current.value!==r.current.value)return l("Passwords do not match");var i=[];p(!0),l(""),e.current.value!==a.email&&i.push(s(e.current.value)),n.current.value&&i.push(o(n.current.value)),Promise.all(i).then((function(){v("/dashboard")})).catch((function(){l("Failed to update account")})).finally((function(){p(!1)}))},children:[(0,f.jsxs)(nn.Group,{id:"email",children:[(0,f.jsx)(nn.Label,{children:"Email"}),(0,f.jsx)(nn.Control,{type:"email",ref:e,required:!0,defaultValue:a.email})]}),(0,f.jsxs)(nn.Group,{id:"password",children:[(0,f.jsx)(nn.Label,{children:"Password"}),(0,f.jsx)(nn.Control,{type:"password",ref:n,placeholder:"Leave blank to keep the same"})]}),(0,f.jsxs)(nn.Group,{id:"password-confirm",children:[(0,f.jsx)(nn.Label,{children:"Password Confirmation"}),(0,f.jsx)(nn.Control,{type:"password",ref:r,placeholder:"Leave blank to keep the same"})]}),(0,f.jsx)(on,{disabled:d,className:"w-100",type:"submit",children:"Update"})]})]})}),(0,f.jsx)("div",{className:"w-100 text-center mt-2",children:(0,f.jsx)(PA,{to:"/dashboard",children:"Cancel"})})]})}var FA=function(e){var n=_((0,t.useState)(0),2),r=n[0],i=n[1],a=_((0,t.useState)(null),2),o=a[0],s=a[1],u=_((0,t.useState)(null),2),c=u[0],l=u[1];return(0,t.useEffect)((function(){var t=jC.ref(e.name),n=VC.collection("images");t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;i(t)}),(function(e){s(e)}),g(T().mark((function e(){var r,i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:return r=e.sent,i=BC(),e.next=6,n.add({url:r,createdAt:i});case 6:l(r);case 7:case"end":return e.stop()}}),e)}))))}),[e]),{progress:r,url:c,error:o}},UA=function(e){return{isEnabled:function(t){return e.some((function(e){return!!t[e]}))}}},jA={measureLayout:UA(["layout","layoutId","drag"]),animation:UA(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:UA(["exit"]),drag:UA(["drag","dragControls"]),focus:UA(["whileFocus"]),hover:UA(["whileHover","onHoverStart","onHoverEnd"]),tap:UA(["whileTap","onTap","onTapStart","onTapCancel"]),pan:UA(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:UA(["whileInView","onViewportEnter","onViewportLeave"])};var VA=(0,t.createContext)({strict:!1}),BA=Object.keys(jA),qA=BA.length;var zA=(0,t.createContext)({transformPagePoint:function(e){return e},isStatic:!1}),WA=(0,t.createContext)({});var HA=(0,t.createContext)(null),KA="undefined"!==typeof window,GA=KA?t.useLayoutEffect:t.useEffect;function QA(e,n,r,i){var a=(0,t.useContext)(VA),o=(0,t.useContext)(WA).visualElement,s=(0,t.useContext)(HA),u=(0,t.useRef)(void 0);i||(i=a.renderer),!u.current&&i&&(u.current=i(e,{visualState:n,parent:o,props:r,presenceId:null===s||void 0===s?void 0:s.id,blockInitialAnimation:!1===(null===s||void 0===s?void 0:s.initial)}));var c=u.current;return GA((function(){null===c||void 0===c||c.syncRender()})),(0,t.useEffect)((function(){var e;null===(e=null===c||void 0===c?void 0:c.animationState)||void 0===e||e.animateChanges()})),GA((function(){return function(){return null===c||void 0===c?void 0:c.notifyUnmount()}}),[]),c}function YA(e){return"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function XA(e){return Array.isArray(e)}function JA(e){return"string"===typeof e||XA(e)}function $A(e,t,n,r,i){var a;return void 0===r&&(r={}),void 0===i&&(i={}),"function"===typeof t&&(t=t(null!==n&&void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=null===(a=e.variants)||void 0===a?void 0:a[t]),"function"===typeof t&&(t=t(null!==n&&void 0!==n?n:e.custom,r,i)),t}function ZA(e,t,n){var r=e.getProps();return $A(r,t,null!==n&&void 0!==n?n:r.custom,function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.get()})),t}(e),function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.getVelocity()})),t}(e))}function eR(e){var t;return"function"===typeof(null===(t=e.animate)||void 0===t?void 0:t.start)||JA(e.initial)||JA(e.animate)||JA(e.whileHover)||JA(e.whileDrag)||JA(e.whileTap)||JA(e.whileFocus)||JA(e.exit)}function tR(e){return Boolean(eR(e)||e.variants)}function nR(e){var n=function(e,t){if(eR(e)){var n=e.initial,r=e.animate;return{initial:!1===n||JA(n)?n:void 0,animate:JA(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(WA)),r=n.initial,i=n.animate;return(0,t.useMemo)((function(){return{initial:r,animate:i}}),[rR(r),rR(i)])}function rR(e){return Array.isArray(e)?e.join(" "):e}function iR(e){var n=(0,t.useRef)(null);return null===n.current&&(n.current=e()),n.current}var aR=1/60*1e3,oR="undefined"!==typeof performance?function(){return performance.now()}:function(){return Date.now()},sR="undefined"!==typeof window?function(e){return window.requestAnimationFrame(e)}:function(e){return setTimeout((function(){return e(oR())}),aR)};var uR=!0,cR=!1,lR=!1,fR={delta:0,timestamp:0},hR=["read","update","preRender","render","postRender"],dR=hR.reduce((function(e,t){return e[t]=function(e){var t=[],n=[],r=0,i=!1,a=!1,o=new WeakSet,s={schedule:function(e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,s=a?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),-1===s.indexOf(e)&&(s.push(e),a&&i&&(r=t.length)),e},cancel:function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1),o.delete(e)},process:function(u){if(i)a=!0;else{i=!0;var c=[n,t];if(t=c[0],(n=c[1]).length=0,r=t.length)for(var l=0;l<r;l++){var f=t[l];f(u),o.has(f)&&(s.schedule(f),e())}i=!1,a&&(a=!1,s.process(u))}}};return s}((function(){return cR=!0})),e}),{}),pR=hR.reduce((function(e,t){var n=dR[t];return e[t]=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return cR||kR(),n.schedule(e,t,r)},e}),{}),vR=hR.reduce((function(e,t){return e[t]=dR[t].cancel,e}),{}),mR=hR.reduce((function(e,t){return e[t]=function(){return dR[t].process(fR)},e}),{}),yR=function(e){return dR[e].process(fR)},gR=function e(t){cR=!1,fR.delta=uR?aR:Math.max(Math.min(t-fR.timestamp,40),1),fR.timestamp=t,lR=!0,hR.forEach(yR),lR=!1,cR&&(uR=!1,sR(e))},kR=function(){cR=!0,uR=!0,lR||sR(gR)},bR=function(){return fR},wR=pR,xR=function(e,t,n){return-n*e+n*t+e};function _R(e,t){return t?e*(1e3/t):0}function ER(e,t){-1===e.indexOf(t)&&e.push(t)}function TR(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var IR=function(){function e(){this.subscriptions=[]}return e.prototype.add=function(e){var t=this;return ER(this.subscriptions,e),function(){return TR(t.subscriptions,e)}},e.prototype.notify=function(e,t,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(var i=0;i<r;i++){var a=this.subscriptions[i];a&&a(e,t,n)}},e.prototype.getSize=function(){return this.subscriptions.length},e.prototype.clear=function(){this.subscriptions.length=0},e}(),SR=function(){function e(e){var t,n=this;this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new IR,this.velocityUpdateSubscribers=new IR,this.renderSubscribers=new IR,this.canTrackVelocity=!1,this.updateAndNotify=function(e,t){void 0===t&&(t=!0),n.prev=n.current,n.current=e;var r=bR(),i=r.delta,a=r.timestamp;n.lastUpdated!==a&&(n.timeDelta=i,n.lastUpdated=a,wR.postRender(n.scheduleVelocityCheck)),n.prev!==n.current&&n.updateSubscribers.notify(n.current),n.velocityUpdateSubscribers.getSize()&&n.velocityUpdateSubscribers.notify(n.getVelocity()),t&&n.renderSubscribers.notify(n.current)},this.scheduleVelocityCheck=function(){return wR.postRender(n.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==n.lastUpdated&&(n.prev=n.current,n.velocityUpdateSubscribers.notify(n.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t)))}return e.prototype.onChange=function(e){return this.updateSubscribers.add(e)},e.prototype.clearListeners=function(){this.updateSubscribers.clear()},e.prototype.onRenderRequest=function(e){return e(this.get()),this.renderSubscribers.add(e)},e.prototype.attach=function(e){this.passiveEffect=e},e.prototype.set=function(e,t){void 0===t&&(t=!0),t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)},e.prototype.get=function(){return this.current},e.prototype.getPrevious=function(){return this.prev},e.prototype.getVelocity=function(){return this.canTrackVelocity?_R(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},e.prototype.start=function(e){var t=this;return this.stop(),new Promise((function(n){t.hasAnimated=!0,t.stopAnimation=e(n)})).then((function(){return t.clearAnimation()}))},e.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},e.prototype.isAnimating=function(){return!!this.stopAnimation},e.prototype.clearAnimation=function(){this.stopAnimation=null},e.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},e}();function CR(e){return new SR(e)}var AR=function(e){return Boolean(null!==e&&"object"===typeof e&&e.getVelocity)};var RR=function(e,t,n){return Math.min(Math.max(n,e),t)},NR=.001;function PR(e){var t,n,r=e.duration,i=void 0===r?800:r,a=e.bounce,o=void 0===a?.25:a,s=e.velocity,u=void 0===s?0:s,c=e.mass,l=void 0===c?1:c,f=1-o;f=RR(.05,1,f),i=RR(.01,10,i/1e3),f<1?(t=function(e){var t=e*f,n=t*i,r=t-u,a=OR(e,f),o=Math.exp(-n);return NR-r/a*o},n=function(e){var n=e*f*i,r=n*u+u,a=Math.pow(f,2)*Math.pow(e,2)*i,o=Math.exp(-n),s=OR(Math.pow(e,2),f);return(-t(e)+NR>0?-1:1)*((r-a)*o)/s}):(t=function(e){return Math.exp(-e*i)*((e-u)*i+1)-.001},n=function(e){return Math.exp(-e*i)*(i*i*(u-e))});var h=function(e,t,n){for(var r=n,i=1;i<12;i++)r-=e(r)/t(r);return r}(t,n,5/i);if(i*=1e3,isNaN(h))return{stiffness:100,damping:10,duration:i};var d=Math.pow(h,2)*l;return{stiffness:d,damping:2*f*Math.sqrt(l*d),duration:i}}function OR(e,t){return e*Math.sqrt(1-t*t)}var DR=["duration","bounce"],LR=["stiffness","damping","mass"];function MR(e,t){return t.some((function(t){return void 0!==e[t]}))}function FR(e){var t=e.from,n=void 0===t?0:t,r=e.to,i=void 0===r?1:r,a=e.restSpeed,o=void 0===a?2:a,s=e.restDelta,u=Xr(e,["from","to","restSpeed","restDelta"]),c={done:!1,value:n},l=function(e){var t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!MR(e,LR)&&MR(e,DR)){var n=PR(e);(t=Object.assign(Object.assign(Object.assign({},t),n),{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(u),f=l.stiffness,h=l.damping,d=l.mass,p=l.velocity,v=l.duration,m=l.isResolvedFromDuration,y=UR,g=UR;function k(){var e=p?-p/1e3:0,t=i-n,r=h/(2*Math.sqrt(f*d)),a=Math.sqrt(f/d)/1e3;if(void 0===s&&(s=Math.min(Math.abs(i-n)/100,.4)),r<1){var o=OR(a,r);y=function(n){var s=Math.exp(-r*a*n);return i-s*((e+r*a*t)/o*Math.sin(o*n)+t*Math.cos(o*n))},g=function(n){var i=Math.exp(-r*a*n);return r*a*i*(Math.sin(o*n)*(e+r*a*t)/o+t*Math.cos(o*n))-i*(Math.cos(o*n)*(e+r*a*t)-o*t*Math.sin(o*n))}}else if(1===r)y=function(n){return i-Math.exp(-a*n)*(t+(e+a*t)*n)};else{var u=a*Math.sqrt(r*r-1);y=function(n){var o=Math.exp(-r*a*n),s=Math.min(u*n,300);return i-o*((e+r*a*t)*Math.sinh(s)+u*t*Math.cosh(s))/u}}}return k(),{next:function(e){var t=y(e);if(m)c.done=e>=v;else{var n=1e3*g(e),r=Math.abs(n)<=o,a=Math.abs(i-t)<=s;c.done=r&&a}return c.value=c.done?i:t,c},flipTarget:function(){p=-p;var e=[i,n];n=e[0],i=e[1],k()}}}FR.needsInterpolation=function(e,t){return"string"===typeof e||"string"===typeof t};var UR=function(e){return 0},jR=function(e,t,n){var r=t-e;return 0===r?1:(n-e)/r},VR=function(e,t){return function(n){return Math.max(Math.min(n,t),e)}},BR=function(e){return e%1?Number(e.toFixed(5)):e},qR=/(-)?([\d]*\.?[\d])+/g,zR=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,WR=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function HR(e){return"string"===typeof e}var KR={test:function(e){return"number"===typeof e},parse:parseFloat,transform:function(e){return e}},GR=Object.assign(Object.assign({},KR),{transform:VR(0,1)}),QR=Object.assign(Object.assign({},KR),{default:1}),YR=function(e,t){return function(n){return Boolean(HR(n)&&WR.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t))}},XR=function(e,t,n){return function(r){var a;if(!HR(r))return r;var o=_(r.match(qR),4),s=o[0],u=o[1],c=o[2],l=o[3];return i(a={},e,parseFloat(s)),i(a,t,parseFloat(u)),i(a,n,parseFloat(c)),i(a,"alpha",void 0!==l?parseFloat(l):1),a}},JR=VR(0,255),$R=Object.assign(Object.assign({},KR),{transform:function(e){return Math.round(JR(e))}}),ZR={test:YR("rgb","red"),parse:XR("red","green","blue"),transform:function(e){var t=e.red,n=e.green,r=e.blue,i=e.alpha,a=void 0===i?1:i;return"rgba("+$R.transform(t)+", "+$R.transform(n)+", "+$R.transform(r)+", "+BR(GR.transform(a))+")"}};var eN={test:YR("#"),parse:function(e){var t="",n="",r="",i="";return e.length>5?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2),i=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),i=e.substr(4,1),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:ZR.transform},tN=function(e){return{test:function(t){return HR(t)&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return"".concat(t).concat(e)}}},nN=tN("deg"),rN=tN("%"),iN=tN("px"),aN=tN("vh"),oN=tN("vw"),sN=Object.assign(Object.assign({},rN),{parse:function(e){return rN.parse(e)/100},transform:function(e){return rN.transform(100*e)}}),uN={test:YR("hsl","hue"),parse:XR("hue","saturation","lightness"),transform:function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha,a=void 0===i?1:i;return"hsla("+Math.round(t)+", "+rN.transform(BR(n))+", "+rN.transform(BR(r))+", "+BR(GR.transform(a))+")"}};function cN(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function lN(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha;t/=360,r/=100;var a=0,o=0,s=0;if(n/=100){var u=r<.5?r*(1+n):r+n-r*n,c=2*r-u;a=cN(c,u,t+1/3),o=cN(c,u,t),s=cN(c,u,t-1/3)}else a=o=s=r;return{red:Math.round(255*a),green:Math.round(255*o),blue:Math.round(255*s),alpha:i}}var fN=function(e,t,n){var r=e*e,i=t*t;return Math.sqrt(Math.max(0,n*(i-r)+r))},hN=[eN,ZR,uN],dN=function(e){return hN.find((function(t){return t.test(e)}))},pN=function(e){return"'".concat(e,"' is not an animatable color. Use the equivalent color code instead.")},vN=function(e,t){var n=dN(e),r=dN(t);pN(e),pN(t);var i=n.parse(e),a=r.parse(t);n===uN&&(i=lN(i),n=ZR),r===uN&&(a=lN(a),r=ZR);var o=Object.assign({},i);return function(e){for(var t in o)"alpha"!==t&&(o[t]=fN(i[t],a[t],e));return o.alpha=xR(i.alpha,a.alpha,e),n.transform(o)}},mN={test:function(e){return ZR.test(e)||eN.test(e)||uN.test(e)},parse:function(e){return ZR.test(e)?ZR.parse(e):uN.test(e)?uN.parse(e):eN.parse(e)},transform:function(e){return HR(e)?e:e.hasOwnProperty("red")?ZR.transform(e):uN.transform(e)}},yN="${c}",gN="${n}";function kN(e){"number"===typeof e&&(e="".concat(e));var t=[],n=0,r=e.match(zR);r&&(n=r.length,e=e.replace(zR,yN),t.push.apply(t,Yn(r.map(mN.parse))));var i=e.match(qR);return i&&(e=e.replace(qR,gN),t.push.apply(t,Yn(i.map(KR.parse)))),{values:t,numColors:n,tokenised:e}}function bN(e){return kN(e).values}function wN(e){var t=kN(e),n=t.values,r=t.numColors,i=t.tokenised,a=n.length;return function(e){for(var t=i,n=0;n<a;n++)t=t.replace(n<r?yN:gN,n<r?mN.transform(e[n]):BR(e[n]));return t}}var xN=function(e){return"number"===typeof e?0:e};var _N={test:function(e){var t,n,r,i;return isNaN(e)&&HR(e)&&(null!==(n=null===(t=e.match(qR))||void 0===t?void 0:t.length)&&void 0!==n?n:0)+(null!==(i=null===(r=e.match(zR))||void 0===r?void 0:r.length)&&void 0!==i?i:0)>0},parse:bN,createTransformer:wN,getAnimatableNone:function(e){var t=bN(e);return wN(e)(t.map(xN))}},EN=function(e){return"number"===typeof e},TN=function(e,t){return function(n){return t(e(n))}},IN=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(TN)};function SN(e,t){return EN(e)?function(n){return xR(e,t,n)}:mN.test(e)?vN(e,t):NN(e,t)}var CN=function(e,t){var n=Yn(e),r=n.length,i=e.map((function(e,n){return SN(e,t[n])}));return function(e){for(var t=0;t<r;t++)n[t]=i[t](e);return n}},AN=function(e,t){var n=Object.assign(Object.assign({},e),t),r={};for(var i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=SN(e[i],t[i]));return function(e){for(var t in r)n[t]=r[t](e);return n}};function RN(e){for(var t=_N.parse(e),n=t.length,r=0,i=0,a=0,o=0;o<n;o++)r||"number"===typeof t[o]?r++:void 0!==t[o].hue?a++:i++;return{parsed:t,numNumbers:r,numRGB:i,numHSL:a}}var NN=function(e,t){var n=_N.createTransformer(t),r=RN(e),i=RN(t);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers?IN(CN(r.parsed,i.parsed),n):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),function(n){return"".concat(n>0?t:e)})},PN=function(e,t){return function(n){return xR(e,t,n)}};function ON(e,t,n){for(var r=[],i=n||function(e){return"number"===typeof e?PN:"string"===typeof e?mN.test(e)?vN:NN:Array.isArray(e)?CN:"object"===typeof e?AN:void 0}(e[0]),a=e.length-1,o=0;o<a;o++){var s=i(e[o],e[o+1]);if(t){var u=Array.isArray(t)?t[o]:t;s=IN(u,s)}r.push(s)}return r}function DN(e,t){var n=_(e,2),r=n[0],i=n[1],a=_(t,1)[0];return function(e){return a(jR(r,i,e))}}function LN(e,t){var n=e.length,r=n-1;return function(i){var a=0,o=!1;if(i<=e[0]?o=!0:i>=e[r]&&(a=r-1,o=!0),!o){for(var s=1;s<n&&!(e[s]>i||s===r);s++);a=s-1}var u=jR(e[a],e[a+1],i);return t[a](u)}}function MN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.clamp,i=void 0===r||r,a=n.ease,o=n.mixer,s=e.length;t.length,!a||!Array.isArray(a)||a.length,e[0]>e[s-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());var u=ON(t,a,o),c=2===s?DN(e,u):LN(e,u);return i?function(t){return c(RR(e[0],e[s-1],t))}:c}var FN,UN=function(e){return function(t){return 1-e(1-t)}},jN=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},VN=function(e){return function(t){return t*t*((e+1)*t-e)}},BN=function(e){return e},qN=(FN=2,function(e){return Math.pow(e,FN)}),zN=UN(qN),WN=jN(qN),HN=function(e){return 1-Math.sin(Math.acos(e))},KN=UN(HN),GN=jN(KN),QN=VN(1.525),YN=UN(QN),XN=jN(QN),JN=function(e){var t=VN(e);return function(e){return(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))}}(1.525),$N=function(e){if(1===e||0===e)return e;var t=e*e;return e<.36363636363636365?7.5625*t:e<.7272727272727273?9.075*t-9.9*e+3.4:e<.9?12.066481994459833*t-19.63545706371191*e+8.898060941828255:10.8*e*e-20.52*e+10.72},ZN=UN($N);function eP(e,t){return e.map((function(){return t||WN})).splice(0,e.length-1)}function tP(e){var t=e.from,n=void 0===t?0:t,r=e.to,i=void 0===r?1:r,a=e.ease,o=e.offset,s=e.duration,u=void 0===s?300:s,c={done:!1,value:n},l=Array.isArray(i)?i:[n,i],f=function(e,t){return e.map((function(e){return e*t}))}(o&&o.length===l.length?o:function(e){var t=e.length;return e.map((function(e,n){return 0!==n?n/(t-1):0}))}(l),u);function h(){return MN(f,l,{ease:Array.isArray(a)?a:eP(l,a)})}var d=h();return{next:function(e){return c.value=d(e),c.done=e>=u,c},flipTarget:function(){l.reverse(),d=h()}}}var nP={keyframes:tP,spring:FR,decay:function(e){var t=e.velocity,n=void 0===t?0:t,r=e.from,i=void 0===r?0:r,a=e.power,o=void 0===a?.8:a,s=e.timeConstant,u=void 0===s?350:s,c=e.restDelta,l=void 0===c?.5:c,f=e.modifyTarget,h={done:!1,value:i},d=o*n,p=i+d,v=void 0===f?p:f(p);return v!==p&&(d=v-i),{next:function(e){var t=-d*Math.exp(-e/u);return h.done=!(t>l||t<-l),h.value=h.done?v:v+t,h},flipTarget:function(){}}}};function rP(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e-t-n}var iP=function(e){var t=function(t){var n=t.delta;return e(n)};return{start:function(){return wR.update(t,!0)},stop:function(){return vR.update(t)}}};function aP(e){var t,n,r,i,a,o=e.from,s=e.autoplay,u=void 0===s||s,c=e.driver,l=void 0===c?iP:c,f=e.elapsed,h=void 0===f?0:f,d=e.repeat,p=void 0===d?0:d,v=e.repeatType,m=void 0===v?"loop":v,y=e.repeatDelay,g=void 0===y?0:y,k=e.onPlay,b=e.onStop,w=e.onComplete,x=e.onRepeat,_=e.onUpdate,E=Xr(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]),T=E.to,I=0,S=E.duration,C=!1,A=!0,R=function(e){if(Array.isArray(e.to))return tP;if(nP[e.type])return nP[e.type];var t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?tP:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?FR:tP}(E);(null===(n=(t=R).needsInterpolation)||void 0===n?void 0:n.call(t,o,T))&&(a=MN([0,100],[o,T],{clamp:!1}),o=0,T=100);var N=R(Object.assign(Object.assign({},E),{from:o,to:T}));function P(){I++,"reverse"===m?h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?t-(e-t)+n:rP(t+-e,t,n)}(h,S,g,A=I%2===0):(h=rP(h,S,g),"mirror"===m&&N.flipTarget()),C=!1,x&&x()}function O(e){if(A||(e=-e),h+=e,!C){var t=N.next(Math.max(0,h));i=t.value,a&&(i=a(i)),C=A?t.done:h<=0}null===_||void 0===_||_(i),C&&(0===I&&(null!==S&&void 0!==S||(S=h)),I<p?function(e,t,n,r){return r?e>=t+n:e<=-n}(h,S,g,A)&&P():(r.stop(),w&&w()))}return u&&(null===k||void 0===k||k(),(r=l(O)).start()),{stop:function(){null===b||void 0===b||b(),r.stop()}}}var oP=function(e){return 1e3*e},sP=function(e,t){return 1-3*t+3*e},uP=function(e,t){return 3*t-6*e},cP=function(e){return 3*e},lP=function(e,t,n){return((sP(t,n)*e+uP(t,n))*e+cP(t))*e},fP=function(e,t,n){return 3*sP(t,n)*e*e+2*uP(t,n)*e+cP(t)};var hP=.1;function dP(e,t,n,r){if(e===t&&n===r)return BN;for(var i=new Float32Array(11),a=0;a<11;++a)i[a]=lP(a*hP,e,n);function o(t){for(var r=0,a=1;10!==a&&i[a]<=t;++a)r+=hP;--a;var o=r+(t-i[a])/(i[a+1]-i[a])*hP,s=fP(o,e,n);return s>=.001?function(e,t,n,r){for(var i=0;i<8;++i){var a=fP(t,n,r);if(0===a)return t;t-=(lP(t,n,r)-e)/a}return t}(t,o,e,n):0===s?o:function(e,t,n,r,i){var a,o,s=0;do{(a=lP(o=t+(n-t)/2,r,i)-e)>0?n=o:t=o}while(Math.abs(a)>1e-7&&++s<10);return o}(t,r,r+hP,e,n)}return function(e){return 0===e||1===e?e:lP(o(e),t,r)}}var pP={linear:BN,easeIn:qN,easeInOut:WN,easeOut:zN,circIn:HN,circInOut:GN,circOut:KN,backIn:QN,backInOut:XN,backOut:YN,anticipate:JN,bounceIn:ZN,bounceInOut:function(e){return e<.5?.5*(1-$N(1-2*e)):.5*$N(2*e-1)+.5},bounceOut:$N},vP=function(e){if(Array.isArray(e)){e.length;var t=Jr(e,4);return dP(t[0],t[1],t[2],t[3])}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),pP[e]):e},mP=function(e,t){return"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!_N.test(t)||t.startsWith("url(")))},yP=function(e){return Array.isArray(e)},gP=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},kP=function(e){return{type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}},bP=function(){return{type:"keyframes",ease:"linear",duration:.3}},wP=function(e){return{type:"keyframes",duration:.8,values:e}},xP={x:gP,y:gP,z:gP,rotate:gP,rotateX:gP,rotateY:gP,rotateZ:gP,scaleX:kP,scaleY:kP,scale:kP,opacity:bP,backgroundColor:bP,color:bP,default:kP},_P=new Set(["brightness","contrast","saturate","opacity"]);function EP(e){var t=_(e.slice(0,-1).split("("),2),n=t[0],r=t[1];if("drop-shadow"===n)return e;var i=_(r.match(qR)||[],1)[0];if(!i)return e;var a=r.replace(i,""),o=_P.has(n)?1:0;return i!==r&&(o*=100),n+"("+o+a+")"}var TP=/([a-z-]*)\(.*?\)/g,IP=Object.assign(Object.assign({},_N),{getAnimatableNone:function(e){var t=e.match(TP);return t?t.map(EP).join(" "):e}}),SP=Yr(Yr({},KR),{transform:Math.round}),CP={borderWidth:iN,borderTopWidth:iN,borderRightWidth:iN,borderBottomWidth:iN,borderLeftWidth:iN,borderRadius:iN,radius:iN,borderTopLeftRadius:iN,borderTopRightRadius:iN,borderBottomRightRadius:iN,borderBottomLeftRadius:iN,width:iN,maxWidth:iN,height:iN,maxHeight:iN,size:iN,top:iN,right:iN,bottom:iN,left:iN,padding:iN,paddingTop:iN,paddingRight:iN,paddingBottom:iN,paddingLeft:iN,margin:iN,marginTop:iN,marginRight:iN,marginBottom:iN,marginLeft:iN,rotate:nN,rotateX:nN,rotateY:nN,rotateZ:nN,scale:QR,scaleX:QR,scaleY:QR,scaleZ:QR,skew:nN,skewX:nN,skewY:nN,distance:iN,translateX:iN,translateY:iN,translateZ:iN,x:iN,y:iN,z:iN,perspective:iN,transformPerspective:iN,opacity:GR,originX:sN,originY:sN,originZ:iN,zIndex:SP,fillOpacity:GR,strokeOpacity:GR,numOctaves:SP},AP=Yr(Yr({},CP),{color:mN,backgroundColor:mN,outlineColor:mN,fill:mN,stroke:mN,borderColor:mN,borderTopColor:mN,borderRightColor:mN,borderBottomColor:mN,borderLeftColor:mN,filter:IP,WebkitFilter:IP}),RP=function(e){return AP[e]};function NP(e,t){var n,r=RP(e);return r!==IP&&(r=_N),null===(n=r.getAnimatableNone)||void 0===n?void 0:n.call(r,t)}var PP=!1,OP=function(e){return yP(e)?e[e.length-1]||0:e};function DP(e){var t=e.ease,n=e.times,r=e.yoyo,i=e.flip,a=e.loop,o=Xr(e,["ease","times","yoyo","flip","loop"]),s=Yr({},o);return n&&(s.offset=n),o.duration&&(s.duration=oP(o.duration)),o.repeatDelay&&(s.repeatDelay=oP(o.repeatDelay)),t&&(s.ease=function(e){return Array.isArray(e)&&"number"!==typeof e[0]}(t)?t.map(vP):vP(t)),"tween"===o.type&&(s.type="keyframes"),(r||a||i)&&(!0,r?s.repeatType="reverse":a?s.repeatType="loop":i&&(s.repeatType="mirror"),s.repeat=a||r||i||o.repeat),"spring"!==o.type&&(s.type="keyframes"),s}function LP(e,t,n){var r;return Array.isArray(t.to)&&(null!==(r=e.duration)&&void 0!==r||(e.duration=.8)),function(e){Array.isArray(e.to)&&null===e.to[0]&&(e.to=$r([],Jr(e.to),!1),e.to[0]=e.from)}(t),function(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from;var t=Xr(e,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(t).length}(e)||(e=Yr(Yr({},e),function(e,t){var n;return n=yP(t)?wP:xP[e]||xP.default,Yr({to:t},n(t))}(n,t.to))),Yr(Yr({},t),DP(e))}function MP(e,t,n,r,i){var a,o=jP(r,e),s=null!==(a=o.from)&&void 0!==a?a:t.get(),u=mP(e,n);"none"===s&&u&&"string"===typeof n?s=NP(e,n):FP(s)&&"string"===typeof n?s=UP(n):!Array.isArray(n)&&FP(n)&&"string"===typeof s&&(n=UP(s));var c=mP(e,s);return"You are trying to animate ".concat(e,' from "').concat(s,'" to "').concat(n,'". ').concat(s," is not an animatable value - to enable this animation set ").concat(s," to a value animatable to ").concat(n," via the `style` property."),c&&u&&!1!==o.type?function(){var r={from:s,to:n,velocity:t.getVelocity(),onComplete:i,onUpdate:function(e){return t.set(e)}};return"inertia"===o.type||"decay"===o.type?function(e){var t,n=e.from,r=void 0===n?0:n,i=e.velocity,a=void 0===i?0:i,o=e.min,s=e.max,u=e.power,c=void 0===u?.8:u,l=e.timeConstant,f=void 0===l?750:l,h=e.bounceStiffness,d=void 0===h?500:h,p=e.bounceDamping,v=void 0===p?10:p,m=e.restDelta,y=void 0===m?1:m,g=e.modifyTarget,k=e.driver,b=e.onUpdate,w=e.onComplete,x=e.onStop;function _(e){return void 0!==o&&e<o||void 0!==s&&e>s}function E(e){return void 0===o?s:void 0===s||Math.abs(o-e)<Math.abs(s-e)?o:s}function T(e){null===t||void 0===t||t.stop(),t=aP(Object.assign(Object.assign({},e),{driver:k,onUpdate:function(t){var n;null===b||void 0===b||b(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:w,onStop:x}))}function I(e){T(Object.assign({type:"spring",stiffness:d,damping:v,restDelta:y},e))}if(_(r))I({from:r,velocity:a,to:E(r)});else{var S=c*a+r;"undefined"!==typeof g&&(S=g(S));var C,A,R=E(S),N=R===o?-1:1;T({type:"decay",from:r,velocity:a,timeConstant:f,power:c,restDelta:y,modifyTarget:g,onUpdate:_(S)?function(e){C=A,A=e,a=_R(e-C,bR().delta),(1===N&&e>R||-1===N&&e<R)&&I({from:e,to:R,velocity:a})}:void 0})}return{stop:function(){return null===t||void 0===t?void 0:t.stop()}}}(Yr(Yr({},r),o)):aP(Yr(Yr({},LP(o,r,e)),{onUpdate:function(e){var t;r.onUpdate(e),null===(t=o.onUpdate)||void 0===t||t.call(o,e)},onComplete:function(){var e;r.onComplete(),null===(e=o.onComplete)||void 0===e||e.call(o)}}))}:function(){var e,r,a=OP(n);return t.set(a),i(),null===(e=null===o||void 0===o?void 0:o.onUpdate)||void 0===e||e.call(o,a),null===(r=null===o||void 0===o?void 0:o.onComplete)||void 0===r||r.call(o),{stop:function(){}}}}function FP(e){return 0===e||"string"===typeof e&&0===parseFloat(e)&&-1===e.indexOf(" ")}function UP(e){return"number"===typeof e?0:NP("",e)}function jP(e,t){return e[t]||e.default||e}function VP(e,t,n,r){return void 0===r&&(r={}),PP&&(r={type:!1}),t.start((function(i){var a,o,s=MP(e,t,n,r,i),u=function(e,t){var n,r;return null!==(r=null!==(n=(jP(e,t)||{}).delay)&&void 0!==n?n:e.delay)&&void 0!==r?r:0}(r,e),c=function(){return o=s()};return u?a=window.setTimeout(c,oP(u)):c(),function(){clearTimeout(a),null===o||void 0===o||o.stop()}}))}var BP=["TopLeft","TopRight","BottomLeft","BottomRight"],qP=BP.length,zP=function(e){return"string"===typeof e?parseFloat(e):e},WP=function(e){return"number"===typeof e||iN.test(e)};function HP(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e.borderRadius}var KP=QP(0,.5,KN),GP=QP(.5,.95,BN);function QP(e,t,n){return function(r){return r<e?0:r>t?1:n(jR(e,t,r))}}function YP(e,t){e.min=t.min,e.max=t.max}function XP(e,t){YP(e.x,t.x),YP(e.y,t.y)}function JP(e){return void 0===e||1===e}function $P(e){var t=e.scale,n=e.scaleX,r=e.scaleY;return!JP(t)||!JP(n)||!JP(r)}function ZP(e){return $P(e)||eO(e.x)||eO(e.y)||e.z||e.rotate||e.rotateX||e.rotateY}function eO(e){return e&&"0%"!==e}function tO(e,t,n){return n+t*(e-n)}function nO(e,t,n,r,i){return void 0!==i&&(e=tO(e,i,r)),tO(e,n,r)+t}function rO(e,t,n,r,i){void 0===t&&(t=0),void 0===n&&(n=1),e.min=nO(e.min,t,n,r,i),e.max=nO(e.max,t,n,r,i)}function iO(e,t){var n=t.x,r=t.y;rO(e.x,n.translate,n.scale,n.originPoint),rO(e.y,r.translate,r.scale,r.originPoint)}function aO(e,t){e.min=e.min+t,e.max=e.max+t}function oO(e,t,n){var r=Jr(n,3),i=r[0],a=r[1],o=r[2],s=void 0!==t[o]?t[o]:.5,u=xR(e.min,e.max,s);rO(e,t[i],t[a],u,t.scale)}var sO=["x","scaleX","originX"],uO=["y","scaleY","originY"];function cO(e,t){oO(e.x,t,sO),oO(e.y,t,uO)}var lO=function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")},fO=function(e){return lO(e)&&e.hasOwnProperty("z")},hO=function(e,t){return Math.abs(e-t)};function dO(e,t){if(EN(e)&&EN(t))return hO(e,t);if(lO(e)&&lO(t)){var n=hO(e.x,t.x),r=hO(e.y,t.y),i=fO(e)&&fO(t)?hO(e.z,t.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(i,2))}}function pO(e){return e.max-e.min}function vO(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=.01),dO(e,t)<n}function mO(e,t,n,r){void 0===r&&(r=.5),e.origin=r,e.originPoint=xR(t.min,t.max,e.origin),e.scale=pO(n)/pO(t),(vO(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=xR(n.min,n.max,e.origin)-e.originPoint,(vO(e.translate)||isNaN(e.translate))&&(e.translate=0)}function yO(e,t,n,r){mO(e.x,t.x,n.x,null===r||void 0===r?void 0:r.originX),mO(e.y,t.y,n.y,null===r||void 0===r?void 0:r.originY)}function gO(e,t,n){e.min=n.min+t.min,e.max=e.min+pO(t)}function kO(e,t,n){e.min=t.min-n.min,e.max=e.min+pO(t)}function bO(e,t,n){kO(e.x,t.x,n.x),kO(e.y,t.y,n.y)}function wO(e,t,n,r,i){return e=tO(e-=t,1/n,r),void 0!==i&&(e=tO(e,1/i,r)),e}function xO(e,t,n,r,i){var a=Jr(n,3),o=a[0],s=a[1],u=a[2];!function(e,t,n,r,i,a,o){if(void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r=.5),void 0===a&&(a=e),void 0===o&&(o=e),rN.test(t)&&(t=parseFloat(t),t=xR(o.min,o.max,t/100)-o.min),"number"===typeof t){var s=xR(a.min,a.max,r);e===a&&(s-=t),e.min=wO(e.min,t,n,s,i),e.max=wO(e.max,t,n,s,i)}}(e,t[o],t[s],t[u],t.scale,r,i)}var _O=["x","scaleX","originX"],EO=["y","scaleY","originY"];function TO(e,t,n,r){xO(e.x,t,_O,null===n||void 0===n?void 0:n.x,null===r||void 0===r?void 0:r.x),xO(e.y,t,EO,null===n||void 0===n?void 0:n.y,null===r||void 0===r?void 0:r.y)}function IO(e){return 0===e.translate&&1===e.scale}function SO(e){return IO(e.x)&&IO(e.y)}function CO(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}var AO=function(){function e(){this.members=[]}return e.prototype.add=function(e){ER(this.members,e),e.scheduleRender()},e.prototype.remove=function(e){if(TR(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}},e.prototype.relegate=function(e){var t,n=this.members.findIndex((function(t){return e===t}));if(0===n)return!1;for(var r=n;r>=0;r--){var i=this.members[r];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)},e.prototype.promote=function(e,t){var n,r=this.lead;e!==r&&(this.prevLead=r,this.lead=e,e.show(),r&&(r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues,e.snapshot.isShared=!0),(null===(n=e.root)||void 0===n?void 0:n.isUpdating)&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&r.hide()))},e.prototype.exitAnimationComplete=function(){this.members.forEach((function(e){var t,n,r,i,a;null===(n=(t=e.options).onExitComplete)||void 0===n||n.call(t),null===(a=null===(r=e.resumingFrom)||void 0===r?void 0:(i=r.options).onExitComplete)||void 0===a||a.call(i)}))},e.prototype.scheduleRender=function(){this.members.forEach((function(e){e.instance&&e.scheduleRender(!1)}))},e.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},e}(),RO={};function NO(e,t,n){var r=e.x.translate/t.x,i=e.y.translate/t.y,a="translate3d(".concat(r,"px, ").concat(i,"px, 0) ");if(n){var o=n.rotate,s=n.rotateX,u=n.rotateY;o&&(a+="rotate(".concat(o,"deg) ")),s&&(a+="rotateX(".concat(s,"deg) ")),u&&(a+="rotateY(".concat(u,"deg) "))}return"translate3d(0px, 0px, 0) scale(1, 1)"===(a+="scale(".concat(e.x.scale,", ").concat(e.y.scale,")"))?"none":a}function PO(e){return[e("x"),e("y")]}var OO=["","X","Y","Z"],DO=["transformPerspective","x","y","z"];function LO(e,t){return DO.indexOf(e)-DO.indexOf(t)}["translate","scale","rotate","skew"].forEach((function(e){return OO.forEach((function(t){return DO.push(e+t)}))}));var MO=new Set(DO);function FO(e){return MO.has(e)}var UO=new Set(["originX","originY","originZ"]);function jO(e){return UO.has(e)}var VO=function(e,t){return e.depth-t.depth},BO=function(){function e(){this.children=[],this.isDirty=!1}return e.prototype.add=function(e){ER(this.children,e),this.isDirty=!0},e.prototype.remove=function(e){TR(this.children,e),this.isDirty=!0},e.prototype.forEach=function(e){this.isDirty&&this.children.sort(VO),this.isDirty=!1,this.children.forEach(e)},e}();function qO(e){var t=AR(e)?e.get():e;return function(e){return Boolean(e&&"object"===typeof e&&e.mix&&e.toValue)}(t)?t.toValue():t}var zO={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function WO(e){var t=e.attachResizeListener,n=e.defaultParent,r=e.measureScroll,i=e.resetTransform;return function(){function e(e,t,r){var i=this;void 0===t&&(t={}),void 0===r&&(r=null===n||void 0===n?void 0:n()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){i.isUpdating&&(i.isUpdating=!1,i.clearAllSnapshots())},this.updateProjection=function(){i.nodes.forEach(JO),i.nodes.forEach($O)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=e,this.latestValues=t,this.root=r?r.root||r:this,this.path=r?$r($r([],Jr(r.path),!1),[r],!1):[],this.parent=r,this.depth=r?r.depth+1:0,e&&this.root.registerPotentialNode(e,this);for(var a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new BO)}return e.prototype.addEventListener=function(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new IR),this.eventHandlers.get(e).add(t)},e.prototype.notifyListeners=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this.eventHandlers.get(e);null===r||void 0===r||r.notify.apply(r,$r([],Jr(t),!1))},e.prototype.hasListeners=function(e){return this.eventHandlers.has(e)},e.prototype.registerPotentialNode=function(e,t){this.potentialNodes.set(e,t)},e.prototype.mount=function(e,n){var r,i=this;if(void 0===n&&(n=!1),!this.instance){this.isSVG=e instanceof SVGElement&&"svg"!==e.tagName,this.instance=e;var a=this.options,o=a.layoutId,s=a.layout,u=a.visualElement;if(u&&!u.getInstance()&&u.mount(e),this.root.nodes.add(this),null===(r=this.parent)||void 0===r||r.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),n&&(s||o)&&(this.isLayoutDirty=!0),t){var c,l=function(){return i.root.updateBlockedByResize=!1};t(e,(function(){i.root.updateBlockedByResize=!0,clearTimeout(c),c=window.setTimeout(l,250),zO.hasAnimatedSinceResize&&(zO.hasAnimatedSinceResize=!1,i.nodes.forEach(XO))}))}o&&this.root.registerSharedNode(o,this),!1!==this.options.animate&&u&&(o||s)&&this.addEventListener("didUpdate",(function(e){var t,n,r,a,o,s=e.delta,c=e.hasLayoutChanged,l=e.hasRelativeTargetChanged,f=e.layout;if(i.isTreeAnimationBlocked())return i.target=void 0,void(i.relativeTarget=void 0);var h=null!==(n=null!==(t=i.options.transition)&&void 0!==t?t:u.getDefaultTransition())&&void 0!==n?n:iD,d=u.getProps().onLayoutAnimationComplete,p=!i.targetLayout||!CO(i.targetLayout,f)||l,v=!c&&l;(null===(r=i.resumeFrom)||void 0===r?void 0:r.instance)||v||c&&(p||!i.currentAnimation)?(i.resumeFrom&&(i.resumingFrom=i.resumeFrom,i.resumingFrom.resumingFrom=void 0),i.setAnimationOrigin(s,v),i.startAnimation(Yr(Yr({},jP(h,"layout")),{onComplete:d}))):i.isLead()&&(null===(o=(a=i.options).onExitComplete)||void 0===o||o.call(a)),i.targetLayout=f}))}},e.prototype.unmount=function(){var e,t;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null===(e=this.getStack())||void 0===e||e.remove(this),null===(t=this.parent)||void 0===t||t.children.delete(this),this.instance=void 0,vR.preRender(this.updateProjection)},e.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},e.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},e.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},e.prototype.isTreeAnimationBlocked=function(){var e;return this.isAnimationBlocked||(null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimationBlocked())||!1},e.prototype.startUpdate=function(){var e;this.isUpdateBlocked()||(this.isUpdating=!0,null===(e=this.nodes)||void 0===e||e.forEach(ZO))},e.prototype.willUpdate=function(e){var t,n,r;if(void 0===e&&(e=!0),this.root.isUpdateBlocked())null===(n=(t=this.options).onExitComplete)||void 0===n||n.call(t);else if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var i=0;i<this.path.length;i++){var a=this.path[i];a.shouldResetTransform=!0,a.updateScroll()}var o=this.options,s=o.layoutId,u=o.layout;if(void 0!==s||u){var c=null===(r=this.options.visualElement)||void 0===r?void 0:r.getProps().transformTemplate;this.prevTransformTemplateValue=null===c||void 0===c?void 0:c(this.latestValues,""),this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}}},e.prototype.didUpdate=function(){if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(QO);this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(aD),this.potentialNodes.clear()),this.nodes.forEach(YO),this.nodes.forEach(HO),this.nodes.forEach(KO),this.clearAllSnapshots(),mR.update(),mR.preRender(),mR.render())},e.prototype.clearAllSnapshots=function(){this.nodes.forEach(GO),this.sharedNodes.forEach(eD)},e.prototype.scheduleUpdateProjection=function(){wR.preRender(this.updateProjection,!1,!0)},e.prototype.scheduleCheckAfterUnmount=function(){var e=this;wR.postRender((function(){e.isLayoutDirty?e.root.didUpdate():e.root.checkUpdateFailed()}))},e.prototype.updateSnapshot=function(){if(!this.snapshot&&this.instance){var e=this.measure(),t=this.removeTransform(this.removeElementScroll(e));sD(t),this.snapshot={measured:e,layout:t,latestValues:{}}}},e.prototype.updateLayout=function(){var e;if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var t=0;t<this.path.length;t++){this.path[t].updateScroll()}var n=this.measure();sD(n);var r=this.layout;this.layout={measured:n,actual:this.removeElementScroll(n)},this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),null===(e=this.options.visualElement)||void 0===e||e.notifyLayoutMeasure(this.layout.actual,null===r||void 0===r?void 0:r.actual)}},e.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.scroll=r(this.instance))},e.prototype.resetTransform=function(){var e;if(i){var t=this.isLayoutDirty||this.shouldResetTransform,n=this.projectionDelta&&!SO(this.projectionDelta),r=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate,a=null===r||void 0===r?void 0:r(this.latestValues,""),o=a!==this.prevTransformTemplateValue;t&&(n||ZP(this.latestValues)||o)&&(i(this.instance,a),this.shouldResetTransform=!1,this.scheduleRender())}},e.prototype.measure=function(){var e=this.options.visualElement;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};var t=e.measureViewportBox(),n=this.root.scroll;return n&&(aO(t.x,n.x),aO(t.y,n.y)),t},e.prototype.removeElementScroll=function(e){var t={x:{min:0,max:0},y:{min:0,max:0}};XP(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n],i=r.scroll,a=r.options;r!==this.root&&i&&a.layoutScroll&&(aO(t.x,i.x),aO(t.y,i.y))}return t},e.prototype.applyTransform=function(e,t){void 0===t&&(t=!1);var n={x:{min:0,max:0},y:{min:0,max:0}};XP(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&cO(n,{x:-i.scroll.x,y:-i.scroll.y}),ZP(i.latestValues)&&cO(n,i.latestValues)}return ZP(this.latestValues)&&cO(n,this.latestValues),n},e.prototype.removeTransform=function(e){var t,n={x:{min:0,max:0},y:{min:0,max:0}};XP(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];if(i.instance&&ZP(i.latestValues)){$P(i.latestValues)&&i.updateSnapshot();var a={x:{min:0,max:0},y:{min:0,max:0}};XP(a,i.measure()),TO(n,i.latestValues,null===(t=i.snapshot)||void 0===t?void 0:t.layout,a)}}return ZP(this.latestValues)&&TO(n,this.latestValues),n},e.prototype.setTargetDelta=function(e){this.targetDelta=e,this.root.scheduleUpdateProjection()},e.prototype.setOptions=function(e){var t;this.options=Yr(Yr(Yr({},this.options),e),{crossfade:null===(t=e.crossfade)||void 0===t||t})},e.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},e.prototype.resolveTargetDelta=function(){var e,t,n,r,i=this.options,a=i.layout,o=i.layoutId;this.layout&&(a||o)&&(this.targetDelta||this.relativeTarget||(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},bO(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),XP(this.relativeTarget,this.relativeTargetOrigin))),(this.relativeTarget||this.targetDelta)&&(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&(null===(e=this.relativeParent)||void 0===e?void 0:e.target)?(t=this.target,n=this.relativeTarget,r=this.relativeParent.target,gO(t.x,n.x,r.x),gO(t.y,n.y,r.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):XP(this.target,this.layout.actual),iO(this.target,this.targetDelta)):XP(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},bO(this.relativeTargetOrigin,this.target,this.relativeParent.target),XP(this.relativeTarget,this.relativeTargetOrigin)))))},e.prototype.getClosestProjectingParent=function(){if(this.parent&&!ZP(this.parent.latestValues))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},e.prototype.calcProjection=function(){var e,t=this.options,n=t.layout,r=t.layoutId;if(this.isTreeAnimating=Boolean((null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(n||r)){var i=this.getLead();XP(this.layoutCorrected,this.layout.actual),function(e,t,n,r){var i,a;void 0===r&&(r=!1);var o=n.length;if(o){var s,u;t.x=t.y=1;for(var c=0;c<o;c++)u=(s=n[c]).projectionDelta,"contents"!==(null===(a=null===(i=s.instance)||void 0===i?void 0:i.style)||void 0===a?void 0:a.display)&&(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&cO(e,{x:-s.scroll.x,y:-s.scroll.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,iO(e,u)),r&&ZP(s.latestValues)&&cO(e,s.latestValues))}}(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==i);var a=i.target;if(a){this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});var o=this.treeScale.x,s=this.treeScale.y,u=this.projectionTransform;yO(this.projectionDelta,this.layoutCorrected,a,this.latestValues),this.projectionTransform=NO(this.projectionDelta,this.treeScale),this.projectionTransform===u&&this.treeScale.x===o&&this.treeScale.y===s||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",a))}}},e.prototype.hide=function(){this.isVisible=!1},e.prototype.show=function(){this.isVisible=!0},e.prototype.scheduleRender=function(e){var t,n,r;void 0===e&&(e=!0),null===(n=(t=this.options).scheduleRender)||void 0===n||n.call(t),e&&(null===(r=this.getStack())||void 0===r||r.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},e.prototype.setAnimationOrigin=function(e,t){var n,r=this;void 0===t&&(t=!1);var i=this.snapshot,a=(null===i||void 0===i?void 0:i.latestValues)||{},o=Yr({},this.latestValues),s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!t;var u={x:{min:0,max:0},y:{min:0,max:0}},c=null===i||void 0===i?void 0:i.isShared,l=((null===(n=this.getStack())||void 0===n?void 0:n.members.length)||0)<=1,f=Boolean(c&&!l&&!0===this.options.crossfade&&!this.path.some(rD));this.mixTargetDelta=function(t){var n,i=t/1e3;tD(s.x,e.x,i),tD(s.y,e.y,i),r.setTargetDelta(s),r.relativeTarget&&r.relativeTargetOrigin&&r.layout&&(null===(n=r.relativeParent)||void 0===n?void 0:n.layout)&&(bO(u,r.layout.actual,r.relativeParent.layout.actual),function(e,t,n,r){nD(e.x,t.x,n.x,r),nD(e.y,t.y,n.y,r)}(r.relativeTarget,r.relativeTargetOrigin,u,i)),c&&(r.animationValues=o,function(e,t,n,r,i,a){var o,s,u,c;i?(e.opacity=xR(0,null!==(o=n.opacity)&&void 0!==o?o:1,KP(r)),e.opacityExit=xR(null!==(s=t.opacity)&&void 0!==s?s:1,0,GP(r))):a&&(e.opacity=xR(null!==(u=t.opacity)&&void 0!==u?u:1,null!==(c=n.opacity)&&void 0!==c?c:1,r));for(var l=0;l<qP;l++){var f="border".concat(BP[l],"Radius"),h=HP(t,f),d=HP(n,f);void 0===h&&void 0===d||(h||(h=0),d||(d=0),0===h||0===d||WP(h)===WP(d)?(e[f]=Math.max(xR(zP(h),zP(d),r),0),(rN.test(d)||rN.test(h))&&(e[f]+="%")):e[f]=d)}(t.rotate||n.rotate)&&(e.rotate=xR(t.rotate||0,n.rotate||0,r))}(o,a,r.latestValues,i,f,l)),r.root.scheduleUpdateProjection(),r.scheduleRender()},this.mixTargetDelta(0)},e.prototype.startAnimation=function(e){var t,n,r=this;null===(t=this.currentAnimation)||void 0===t||t.stop(),this.resumingFrom&&(null===(n=this.resumingFrom.currentAnimation)||void 0===n||n.stop()),this.pendingAnimation&&(vR.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wR.update((function(){zO.hasAnimatedSinceResize=!0,r.currentAnimation=function(e,t,n){void 0===n&&(n={});var r=AR(e)?e:CR(e);return VP("",r,t,n),{stop:function(){return r.stop()},isAnimating:function(){return r.isAnimating()}}}(0,1e3,Yr(Yr({},e),{onUpdate:function(t){var n;r.mixTargetDelta(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:function(){var t;null===(t=e.onComplete)||void 0===t||t.call(e),r.completeAnimation()}})),r.resumingFrom&&(r.resumingFrom.currentAnimation=r.currentAnimation),r.pendingAnimation=void 0}))},e.prototype.completeAnimation=function(){var e;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),null===(e=this.getStack())||void 0===e||e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},e.prototype.finishAnimation=function(){var e;this.currentAnimation&&(null===(e=this.mixTargetDelta)||void 0===e||e.call(this,1e3),this.currentAnimation.stop()),this.completeAnimation()},e.prototype.applyTransformsToTarget=function(){var e=this.getLead(),t=e.targetWithTransforms,n=e.target,r=e.layout,i=e.latestValues;t&&n&&r&&(XP(t,n),cO(t,i),yO(this.projectionDeltaWithTransform,this.layoutCorrected,t,i))},e.prototype.registerSharedNode=function(e,t){var n,r,i;this.sharedNodes.has(e)||this.sharedNodes.set(e,new AO),this.sharedNodes.get(e).add(t),t.promote({transition:null===(n=t.options.initialPromotionConfig)||void 0===n?void 0:n.transition,preserveFollowOpacity:null===(i=null===(r=t.options.initialPromotionConfig)||void 0===r?void 0:r.shouldPreserveFollowOpacity)||void 0===i?void 0:i.call(r,t)})},e.prototype.isLead=function(){var e=this.getStack();return!e||e.lead===this},e.prototype.getLead=function(){var e;return this.options.layoutId&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this},e.prototype.getPrevLead=function(){var e;return this.options.layoutId?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0},e.prototype.getStack=function(){var e=this.options.layoutId;if(e)return this.root.sharedNodes.get(e)},e.prototype.promote=function(e){var t=void 0===e?{}:e,n=t.needsReset,r=t.transition,i=t.preserveFollowOpacity,a=this.getStack();a&&a.promote(this,i),n&&(this.projectionDelta=void 0,this.needsReset=!0),r&&this.setOptions({transition:r})},e.prototype.relegate=function(){var e=this.getStack();return!!e&&e.relegate(this)},e.prototype.resetRotation=function(){var e=this.options.visualElement;if(e){for(var t=!1,n={},r=0;r<OO.length;r++){var i="rotate"+OO[r];e.getStaticValue(i)&&(t=!0,n[i]=e.getStaticValue(i),e.setStaticValue(i,0))}if(t){for(var i in null===e||void 0===e||e.syncRender(),n)e.setStaticValue(i,n[i]);e.scheduleRender()}}},e.prototype.getProjectionStyles=function(e){var t,n,r,i,a,o;void 0===e&&(e={});var s={};if(!this.instance||this.isSVG)return s;if(!this.isVisible)return{visibility:"hidden"};s.visibility="";var u=null===(t=this.options.visualElement)||void 0===t?void 0:t.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,s.opacity="",s.pointerEvents=qO(e.pointerEvents)||"",s.transform=u?u(this.latestValues,""):"none",s;var c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){var l={};return this.options.layoutId&&(l.opacity=null!==(n=this.latestValues.opacity)&&void 0!==n?n:1,l.pointerEvents=qO(e.pointerEvents)||""),this.hasProjected&&!ZP(this.latestValues)&&(l.transform=u?u({},""):"none",this.hasProjected=!1),l}var f=c.animationValues||c.latestValues;this.applyTransformsToTarget(),s.transform=NO(this.projectionDeltaWithTransform,this.treeScale,f),u&&(s.transform=u(f,s.transform));var h=this.projectionDelta,d=h.x,p=h.y;for(var v in s.transformOrigin="".concat(100*d.origin,"% ").concat(100*p.origin,"% 0"),c.animationValues?s.opacity=c===this?null!==(i=null!==(r=f.opacity)&&void 0!==r?r:this.latestValues.opacity)&&void 0!==i?i:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:s.opacity=c===this?null!==(a=f.opacity)&&void 0!==a?a:"":null!==(o=f.opacityExit)&&void 0!==o?o:0,RO)if(void 0!==f[v]){var m=RO[v],y=m.correct,g=m.applyTo,k=y(f[v],c);if(g)for(var b=g.length,w=0;w<b;w++)s[g[w]]=k;else s[v]=k}return this.options.layoutId&&(s.pointerEvents=c===this?qO(e.pointerEvents)||"":"none"),s},e.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},e.prototype.resetTree=function(){this.root.nodes.forEach((function(e){var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(QO),this.root.sharedNodes.clear()},e}()}function HO(e){e.updateLayout()}function KO(e){var t,n,r,i,a=null!==(n=null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)&&void 0!==n?n:e.snapshot;if(e.isLead()&&e.layout&&a&&e.hasListeners("didUpdate")){var o=e.layout,s=o.actual,u=o.measured;"size"===e.options.animationType?PO((function(e){var t=a.isShared?a.measured[e]:a.layout[e],n=pO(t);t.min=s[e].min,t.max=t.min+n})):"position"===e.options.animationType&&PO((function(e){var t=a.isShared?a.measured[e]:a.layout[e],n=pO(s[e]);t.max=t.min+n}));var c={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};yO(c,s,a.layout);var l={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};a.isShared?yO(l,e.applyTransform(u,!0),a.measured):yO(l,s,a.layout);var f=!SO(c),h=!1;if(!e.resumeFrom&&(e.relativeParent=e.getClosestProjectingParent(),e.relativeParent&&!e.relativeParent.resumeFrom)){var d=e.relativeParent,p=d.snapshot,v=d.layout;if(p&&v){var m={x:{min:0,max:0},y:{min:0,max:0}};bO(m,a.layout,p.layout);var y={x:{min:0,max:0},y:{min:0,max:0}};bO(y,s,v.actual),CO(m,y)||(h=!0)}}e.notifyListeners("didUpdate",{layout:s,snapshot:a,delta:l,layoutDelta:c,hasLayoutChanged:f,hasRelativeTargetChanged:h})}else e.isLead()&&(null===(i=(r=e.options).onExitComplete)||void 0===i||i.call(r));e.options.transition=void 0}function GO(e){e.clearSnapshot()}function QO(e){e.clearMeasurements()}function YO(e){e.resetTransform()}function XO(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function JO(e){e.resolveTargetDelta()}function $O(e){e.calcProjection()}function ZO(e){e.resetRotation()}function eD(e){e.removeLeadSnapshot()}function tD(e,t,n){e.translate=xR(t.translate,0,n),e.scale=xR(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function nD(e,t,n,r){e.min=xR(t.min,n.min,r),e.max=xR(t.max,n.max,r)}function rD(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}var iD={duration:.45,ease:[.4,0,.1,1]};function aD(e,t){for(var n=e.root,r=e.path.length-1;r>=0;r--)if(Boolean(e.path[r].instance)){n=e.path[r];break}var i=(n&&n!==e.root?n.instance:document).querySelector('[data-projection-id="'.concat(t,'"]'));i&&e.mount(i,!0)}function oD(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function sD(e){oD(e.x),oD(e.y)}var uD=1;var cD=(0,t.createContext)({}),lD=(0,t.createContext)({});var fD=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qr(t,e),t.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},t.prototype.componentDidUpdate=function(){},t.prototype.updateProps=function(){var e=this.props,t=e.visualElement,n=e.props;t&&t.setProps(n)},t.prototype.render=function(){return this.props.children},t}(t.Component);function hD(e){var n=e.preloadedFeatures,r=e.createVisualElement,i=e.projectionNodeConstructor,a=e.useRender,o=e.useVisualState,s=e.Component;return n&&function(e){for(var t in e)null!==e[t]&&("projectionNodeConstructor"===t?jA.projectionNodeConstructor=e[t]:jA[t].Component=e[t])}(n),(0,t.forwardRef)((function(e,n){var u=function(e){var n,r=e.layoutId,i=null===(n=(0,t.useContext)(cD))||void 0===n?void 0:n.id;return i&&void 0!==r?i+"-"+r:r}(e);e=Yr(Yr({},e),{layoutId:u});var c=(0,t.useContext)(zA),l=null,f=nR(e),h=c.isStatic?void 0:iR((function(){if(zO.hasEverUpdated)return uD++})),d=o(e,c.isStatic);return!c.isStatic&&KA&&(f.visualElement=QA(s,d,Yr(Yr({},c),e),r),function(e,n,r,i){var a,o=n.layoutId,s=n.layout,u=n.drag,c=n.dragConstraints,l=n.layoutScroll,f=(0,t.useContext)(lD);i&&r&&!(null===r||void 0===r?void 0:r.projection)&&(r.projection=new i(e,r.getLatestValues(),null===(a=r.parent)||void 0===a?void 0:a.projection),r.projection.setOptions({layoutId:o,layout:s,alwaysMeasureLayout:Boolean(u)||c&&YA(c),visualElement:r,scheduleRender:function(){return r.scheduleRender()},animationType:"string"===typeof s?s:"both",initialPromotionConfig:f,layoutScroll:l}))}(h,e,f.visualElement,i||jA.projectionNodeConstructor),l=function(e,n,r){var i=[];if((0,t.useContext)(VA),!n)return null;for(var a=0;a<qA;a++){var o=BA[a],s=jA[o],u=s.isEnabled,c=s.Component;u(e)&&c&&i.push(t.createElement(c,Yr({key:o},e,{visualElement:n})))}return i}(e,f.visualElement)),t.createElement(fD,{visualElement:f.visualElement,props:Yr(Yr({},c),e)},l,t.createElement(WA.Provider,{value:f},a(s,e,h,function(e,n,r){return(0,t.useCallback)((function(t){var i;t&&(null===(i=e.mount)||void 0===i||i.call(e,t)),n&&(t?n.mount(t):n.unmount()),r&&("function"===typeof r?r(t):YA(r)&&(r.current=t))}),[n])}(d,f.visualElement,n),d,c.isStatic,f.visualElement)))}))}function dD(e){function t(t,n){return void 0===n&&(n={}),hD(e(t,n))}if("undefined"===typeof Proxy)return t;var n=new Map;return new Proxy(t,{get:function(e,r){return n.has(r)||n.set(r,t(r)),n.get(r)}})}var pD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function vD(e){return"string"===typeof e&&!e.includes("-")&&!!(pD.indexOf(e)>-1||/[A-Z]/.test(e))}function mD(e,t){var n=t.layout,r=t.layoutId;return FO(e)||jO(e)||(n||void 0!==r)&&(!!RO[e]||"opacity"===e)}var yD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function gD(e){return e.startsWith("--")}var kD=function(e,t){return t&&"number"===typeof e?t.transform(e):e};function bD(e,t,n,r){var i,a=e.style,o=e.vars,s=e.transform,u=e.transformKeys,c=e.transformOrigin;u.length=0;var l=!1,f=!1,h=!0;for(var d in t){var p=t[d];if(gD(d))o[d]=p;else{var v=CP[d],m=kD(p,v);if(FO(d)){if(l=!0,s[d]=m,u.push(d),!h)continue;p!==(null!==(i=v.default)&&void 0!==i?i:0)&&(h=!1)}else jO(d)?(c[d]=m,f=!0):a[d]=m}}l?a.transform=function(e,t,n,r){var i=e.transform,a=e.transformKeys,o=t.enableHardwareAcceleration,s=void 0===o||o,u=t.allowTransformNone,c=void 0===u||u,l="";a.sort(LO);for(var f=!1,h=a.length,d=0;d<h;d++){var p=a[d];l+="".concat(yD[p]||p,"(").concat(i[p],") "),"z"===p&&(f=!0)}return!f&&s?l+="translateZ(0)":l=l.trim(),r?l=r(i,n?"":l):c&&n&&(l="none"),l}(e,n,h,r):r?a.transform=r({},""):!t.transform&&a.transform&&(a.transform="none"),f&&(a.transformOrigin=function(e){var t=e.originX,n=void 0===t?"50%":t,r=e.originY,i=void 0===r?"50%":r,a=e.originZ,o=void 0===a?0:a;return"".concat(n," ").concat(i," ").concat(o)}(c))}var wD=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function xD(e,t,n){for(var r in t)AR(t[r])||mD(r,n)||(e[r]=t[r])}function _D(e,n,r){var i={};return xD(i,e.style||{},e),Object.assign(i,function(e,n,r){var i=e.transformTemplate;return(0,t.useMemo)((function(){var e={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}};bD(e,n,{enableHardwareAcceleration:!r},i);var t=e.style;return Yr(Yr({},e.vars),t)}),[n])}(e,n,r)),e.transformValues&&(i=e.transformValues(i)),i}function ED(e,t,n){var r={},i=_D(e,t,n);return Boolean(e.drag)&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),r.style=i,r}var TD=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function ID(e){return TD.has(e)}var SD,CD=function(e){return!ID(e)};try{(SD=require("@emotion/is-prop-valid").default)&&(CD=function(e){return e.startsWith("on")?!ID(e):SD(e)})}catch(PE){}function AD(e,t,n){return"string"===typeof e?e:iN.transform(t+n*e)}var RD={offset:"stroke-dashoffset",array:"stroke-dasharray"},ND={offset:"strokeDashoffset",array:"strokeDasharray"};function PD(e,t,n,r){var i=t.attrX,a=t.attrY,o=t.originX,s=t.originY,u=t.pathLength,c=t.pathSpacing,l=void 0===c?1:c,f=t.pathOffset,h=void 0===f?0:f;bD(e,Xr(t,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]),n,r),e.attrs=e.style,e.style={};var d=e.attrs,p=e.style,v=e.dimensions;d.transform&&(v&&(p.transform=d.transform),delete d.transform),v&&(void 0!==o||void 0!==s||p.transform)&&(p.transformOrigin=function(e,t,n){var r=AD(t,e.x,e.width),i=AD(n,e.y,e.height);return"".concat(r," ").concat(i)}(v,void 0!==o?o:.5,void 0!==s?s:.5)),void 0!==i&&(d.x=i),void 0!==a&&(d.y=a),void 0!==u&&function(e,t,n,r,i){void 0===n&&(n=1),void 0===r&&(r=0),void 0===i&&(i=!0),e.pathLength=1;var a=i?RD:ND;e[a.offset]=iN.transform(-r);var o=iN.transform(t),s=iN.transform(n);e[a.array]="".concat(o," ").concat(s)}(d,u,l,h,!1)}var OD=function(){return Yr(Yr({},{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}),{attrs:{}})};function DD(e,n){var r=(0,t.useMemo)((function(){var t=OD();return PD(t,n,{enableHardwareAcceleration:!1},e.transformTemplate),Yr(Yr({},t.attrs),{style:Yr({},t.style)})}),[n]);if(e.style){var i={};xD(i,e.style,e),r.style=Yr(Yr({},i),r.style)}return r}function LD(e){void 0===e&&(e=!1);return function(n,r,i,a,o,s){var u=o.latestValues,c=(vD(n)?DD:ED)(r,u,s),l=function(e,t,n){var r={};for(var i in e)(CD(i)||!0===n&&ID(i)||!t&&!ID(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(r,"string"===typeof n,e),f=Yr(Yr(Yr({},l),c),{ref:a});return i&&(f["data-projection-id"]=i),(0,t.createElement)(n,f)}}var MD=/([a-z])([A-Z])/g,FD=function(e){return e.replace(MD,"$1-$2").toLowerCase()};function UD(e,t,n,r){var i=t.style,a=t.vars;for(var o in Object.assign(e.style,i,r&&r.getProjectionStyles(n)),a)e.style.setProperty(o,a[o])}var jD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function VD(e,t){for(var n in UD(e,t),t.attrs)e.setAttribute(jD.has(n)?n:FD(n),t.attrs[n])}function BD(e){var t=e.style,n={};for(var r in t)(AR(t[r])||mD(r,e))&&(n[r]=t[r]);return n}function qD(e){var t=BD(e);for(var n in e){if(AR(e[n]))t["x"===n||"y"===n?"attr"+n.toUpperCase():n]=e[n]}return t}function zD(e){return"object"===typeof e&&"function"===typeof e.start}function WD(e,t,n,r){var i=e.scrapeMotionValuesFromProps,a=e.createRenderState,o=e.onMount,s={latestValues:KD(t,n,r,i),renderState:a()};return o&&(s.mount=function(e){return o(t,e,s)}),s}var HD=function(e){return function(n,r){var i=(0,t.useContext)(WA),a=(0,t.useContext)(HA);return r?WD(e,n,i,a):iR((function(){return WD(e,n,i,a)}))}};function KD(e,t,n,r){var i={},a=!1===(null===n||void 0===n?void 0:n.initial),o=r(e);for(var s in o)i[s]=qO(o[s]);var u=e.initial,c=e.animate,l=eR(e),f=tR(e);t&&f&&!l&&!1!==e.inherit&&(null!==u&&void 0!==u||(u=t.initial),null!==c&&void 0!==c||(c=t.animate));var h=a||!1===u,d=h?c:u;d&&"boolean"!==typeof d&&!zD(d)&&(Array.isArray(d)?d:[d]).forEach((function(t){var n=$A(e,t);if(n){var r=n.transitionEnd;n.transition;var a=Xr(n,["transitionEnd","transition"]);for(var o in a){var s=a[o];if(Array.isArray(s))s=s[h?s.length-1:0];null!==s&&(i[o]=s)}for(var o in r)i[o]=r[o]}}));return i}var GD,QD={useVisualState:HD({scrapeMotionValuesFromProps:qD,createRenderState:OD,onMount:function(e,t,n){var r=n.renderState,i=n.latestValues;try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(uF){r.dimensions={x:0,y:0,width:0,height:0}}PD(r,i,{enableHardwareAcceleration:!1},e.transformTemplate),VD(t,r)}})},YD={useVisualState:HD({scrapeMotionValuesFromProps:BD,createRenderState:wD})};function XD(e,t,n,r){return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n,r)}}function JD(e,n,r,i){(0,t.useEffect)((function(){var t=e.current;if(r&&t)return XD(t,n,r,i)}),[e,n,r,i])}function $D(e){return"undefined"!==typeof PointerEvent&&e instanceof PointerEvent?!("mouse"!==e.pointerType):e instanceof MouseEvent}function ZD(e){return!!e.touches}!function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"}(GD||(GD={}));var eL={pageX:0,pageY:0};function tL(e,t){void 0===t&&(t="page");var n=e.touches[0]||e.changedTouches[0]||eL;return{x:n[t+"X"],y:n[t+"Y"]}}function nL(e,t){return void 0===t&&(t="page"),{x:e[t+"X"],y:e[t+"Y"]}}function rL(e,t){return void 0===t&&(t="page"),{point:ZD(e)?tL(e,t):nL(e,t)}}var iL=function(e,t){void 0===t&&(t=!1);var n,r=function(t){return e(t,rL(t))};return t?(n=r,function(e){var t=e instanceof MouseEvent;(!t||t&&0===e.button)&&n(e)}):r},aL={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},oL={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function sL(e){return KA&&null===window.onpointerdown?e:KA&&null===window.ontouchstart?oL[e]:KA&&null===window.onmousedown?aL[e]:e}function uL(e,t,n,r){return XD(e,sL(t),iL(n,"pointerdown"===t),r)}function cL(e,t,n,r){return JD(e,sL(t),n&&iL(n,"pointerdown"===t),r)}function lL(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var fL=lL("dragHorizontal"),hL=lL("dragVertical");function dL(e){var t=!1;if("y"===e)t=hL();else if("x"===e)t=fL();else{var n=fL(),r=hL();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function pL(){var e=dL(!0);return!e||(e(),!1)}function vL(e,t,n){return function(r,i){var a;$D(r)&&!pL()&&(null===(a=e.animationState)||void 0===a||a.setActive(GD.Hover,t),null===n||void 0===n||n(r,i))}}var mL=function e(t,n){return!!n&&(t===n||e(t,n.parentElement))};function yL(e){return(0,t.useEffect)((function(){return function(){return e()}}),[])}var gL=new WeakMap,kL=new WeakMap,bL=function(e){var t;null===(t=gL.get(e.target))||void 0===t||t(e)},wL=function(e){e.forEach(bL)};function xL(e,t,n){var r=function(e){var t=e.root,n=Xr(e,["root"]),r=t||document;kL.has(r)||kL.set(r,{});var i=kL.get(r),a=JSON.stringify(n);return i[a]||(i[a]=new IntersectionObserver(wL,Yr({root:t},n))),i[a]}(t);return gL.set(e,n),r.observe(e),function(){gL.delete(e),r.unobserve(e)}}var _L={some:0,all:1};function EL(e,n,r,i){var a=i.root,o=i.margin,s=i.amount,u=void 0===s?"some":s,c=i.once;(0,t.useEffect)((function(){if(e){var t={root:null===a||void 0===a?void 0:a.current,rootMargin:o,threshold:"number"===typeof u?u:_L[u]};return xL(r.getInstance(),t,(function(e){var t,i=e.isIntersecting;if(n.isInView!==i&&(n.isInView=i,!c||i||!n.hasEnteredView)){i&&(n.hasEnteredView=!0),null===(t=r.animationState)||void 0===t||t.setActive(GD.InView,i);var a=r.getProps(),o=i?a.onViewportEnter:a.onViewportLeave;null===o||void 0===o||o(e)}}))}}),[e,a,o,u])}function TL(e,n,r){(0,t.useEffect)((function(){e&&requestAnimationFrame((function(){var e;n.hasEnteredView=!0;var t=r.getProps().onViewportEnter;null===t||void 0===t||t(null),null===(e=r.animationState)||void 0===e||e.setActive(GD.InView,!0)}))}),[e])}var IL=function(e){return function(t){return e(t),null}},SL={inView:IL((function(e){var n=e.visualElement,r=e.whileInView,i=e.onViewportEnter,a=e.onViewportLeave,o=e.viewport,s=void 0===o?{}:o,u=(0,t.useRef)({hasEnteredView:!1,isInView:!1}),c=Boolean(r||i||a);s.once&&u.current.hasEnteredView&&(c=!1),("undefined"===typeof IntersectionObserver?TL:EL)(c,u.current,n,s)})),tap:IL((function(e){var n=e.onTap,r=e.onTapStart,i=e.onTapCancel,a=e.whileTap,o=e.visualElement,s=n||r||i||a,u=(0,t.useRef)(!1),c=(0,t.useRef)(null);function l(){var e;null===(e=c.current)||void 0===e||e.call(c),c.current=null}function f(){var e;return l(),u.current=!1,null===(e=o.animationState)||void 0===e||e.setActive(GD.Tap,!1),!pL()}function h(e,t){f()&&(mL(o.getInstance(),e.target)?null===n||void 0===n||n(e,t):null===i||void 0===i||i(e,t))}function d(e,t){f()&&(null===i||void 0===i||i(e,t))}cL(o,"pointerdown",s?function(e,t){var n;l(),u.current||(u.current=!0,c.current=IN(uL(window,"pointerup",h),uL(window,"pointercancel",d)),null===(n=o.animationState)||void 0===n||n.setActive(GD.Tap,!0),null===r||void 0===r||r(e,t))}:void 0),yL(l)})),focus:IL((function(e){var t=e.whileFocus,n=e.visualElement;JD(n,"focus",t?function(){var e;null===(e=n.animationState)||void 0===e||e.setActive(GD.Focus,!0)}:void 0),JD(n,"blur",t?function(){var e;null===(e=n.animationState)||void 0===e||e.setActive(GD.Focus,!1)}:void 0)})),hover:IL((function(e){var t=e.onHoverStart,n=e.onHoverEnd,r=e.whileHover,i=e.visualElement;cL(i,"pointerenter",t||r?vL(i,!0,t):void 0),cL(i,"pointerleave",n||r?vL(i,!1,n):void 0)}))};function CL(){var e=(0,t.useContext)(HA);if(null===e)return[!0,null];var n=e.isPresent,r=e.onExitComplete,i=e.register,a=NL();(0,t.useEffect)((function(){return i(a)}),[]);return!n&&r?[!1,function(){return null===r||void 0===r?void 0:r(a)}]:[!0]}var AL=0,RL=function(){return AL++},NL=function(){return iR(RL)};function PL(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var OL=function(e){return/^\-?\d*\.?\d+$/.test(e)},DL=function(e){return/^0[^.\s]+$/.test(e)},LL=function(e){return function(t){return t.test(e)}},ML=[KR,iN,rN,nN,oN,aN,{test:function(e){return"auto"===e},parse:function(e){return e}}],FL=function(e){return ML.find(LL(e))},UL=$r($r([],Jr(ML),!1),[mN,_N],!1),jL=function(e){return UL.find(LL(e))};function VL(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,CR(n))}function BL(e,t){var n=ZA(e,t),r=n?e.makeTargetAnimatable(n,!1):{},i=r.transitionEnd,a=void 0===i?{}:i;r.transition;var o=Xr(r,["transitionEnd","transition"]);for(var s in o=Yr(Yr({},o),a)){VL(e,s,OP(o[s]))}}function qL(e,t){if(t)return(t[e]||t.default||t).from}function zL(e,t,n){var r;void 0===n&&(n={});var i=ZA(e,t,n.custom),a=(i||{}).transition,o=void 0===a?e.getDefaultTransition()||{}:a;n.transitionOverride&&(o=n.transitionOverride);var s=i?function(){return WL(e,i,n)}:function(){return Promise.resolve()},u=(null===(r=e.variantChildren)||void 0===r?void 0:r.size)?function(r){void 0===r&&(r=0);var i=o.delayChildren,a=void 0===i?0:i,s=o.staggerChildren,u=o.staggerDirection;return function(e,t,n,r,i,a){void 0===n&&(n=0);void 0===r&&(r=0);void 0===i&&(i=1);var o=[],s=(e.variantChildren.size-1)*r,u=1===i?function(e){return void 0===e&&(e=0),e*r}:function(e){return void 0===e&&(e=0),s-e*r};return Array.from(e.variantChildren).sort(HL).forEach((function(e,r){o.push(zL(e,t,Yr(Yr({},a),{delay:n+u(r)})).then((function(){return e.notifyAnimationComplete(t)})))})),Promise.all(o)}(e,t,a+r,s,u,n)}:function(){return Promise.resolve()},c=o.when;if(c){var l=Jr("beforeChildren"===c?[s,u]:[u,s],2),f=l[0],h=l[1];return f().then(h)}return Promise.all([s(),u(n.delay)])}function WL(e,t,n){var r,i=void 0===n?{}:n,a=i.delay,o=void 0===a?0:a,s=i.transitionOverride,u=i.type,c=e.makeTargetAnimatable(t),l=c.transition,f=void 0===l?e.getDefaultTransition():l,h=c.transitionEnd,d=Xr(c,["transition","transitionEnd"]);s&&(f=s);var p=[],v=u&&(null===(r=e.animationState)||void 0===r?void 0:r.getState()[u]);for(var m in d){var y=e.getValue(m),g=d[m];if(!(!y||void 0===g||v&&KL(v,m))){var k=VP(m,y,g,Yr({delay:o},f));p.push(k)}}return Promise.all(p).then((function(){h&&BL(e,h)}))}function HL(e,t){return e.sortNodePosition(t)}function KL(e,t){var n=e.protectedKeys,r=e.needsAnimating,i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}var GL=[GD.Animate,GD.InView,GD.Focus,GD.Hover,GD.Tap,GD.Drag,GD.Exit],QL=$r([],Jr(GL),!1).reverse(),YL=GL.length;function XL(e){return function(t){return Promise.all(t.map((function(t){var n=t.animation,r=t.options;return function(e,t,n){var r;if(void 0===n&&(n={}),e.notifyAnimationStart(t),Array.isArray(t)){var i=t.map((function(t){return zL(e,t,n)}));r=Promise.all(i)}else if("string"===typeof t)r=zL(e,t,n);else{var a="function"===typeof t?ZA(e,t,n.custom):t;r=WL(e,a,n)}return r.then((function(){return e.notifyAnimationComplete(t)}))}(e,n,r)})))}}function JL(e){var t=XL(e),n=function(){var e;return(e={})[GD.Animate]=$L(!0),e[GD.InView]=$L(),e[GD.Hover]=$L(),e[GD.Tap]=$L(),e[GD.Drag]=$L(),e[GD.Focus]=$L(),e[GD.Exit]=$L(),e}(),r={},i=!0,a=function(t,n){var r=ZA(e,n);if(r){r.transition;var i=r.transitionEnd,a=Xr(r,["transition","transitionEnd"]);t=Yr(Yr(Yr({},t),a),i)}return t};function o(o,s){for(var u,c=e.getProps(),l=e.getVariantContext(!0)||{},f=[],h=new Set,d={},p=1/0,v=function(t){var r=QL[t],v=n[r],m=null!==(u=c[r])&&void 0!==u?u:l[r],y=JA(m),g=r===s?v.isActive:null;!1===g&&(p=t);var k=m===l[r]&&m!==c[r]&&y;if(k&&i&&e.manuallyAnimateOnMount&&(k=!1),v.protectedKeys=Yr({},d),!v.isActive&&null===g||!m&&!v.prevProp||zD(m)||"boolean"===typeof m)return"continue";var b=function(e,t){if("string"===typeof t)return t!==e;if(XA(t))return!PL(t,e);return!1}(v.prevProp,m),w=b||r===s&&v.isActive&&!k&&y||t>p&&y,x=Array.isArray(m)?m:[m],_=x.reduce(a,{});!1===g&&(_={});var E=v.prevResolvedValues,T=void 0===E?{}:E,I=Yr(Yr({},T),_),S=function(e){w=!0,h.delete(e),v.needsAnimating[e]=!0};for(var C in I){var A=_[C],R=T[C];d.hasOwnProperty(C)||(A!==R?yP(A)&&yP(R)?!PL(A,R)||b?S(C):v.protectedKeys[C]=!0:void 0!==A?S(C):h.add(C):void 0!==A&&h.has(C)?S(C):v.protectedKeys[C]=!0)}v.prevProp=m,v.prevResolvedValues=_,v.isActive&&(d=Yr(Yr({},d),_)),i&&e.blockInitialAnimation&&(w=!1),w&&!k&&f.push.apply(f,$r([],Jr(x.map((function(e){return{animation:e,options:Yr({type:r},o)}}))),!1))},m=0;m<YL;m++)v(m);if(r=Yr({},d),h.size){var y={};h.forEach((function(t){var n=e.getBaseTarget(t);void 0!==n&&(y[t]=n)})),f.push({animation:y})}var g=Boolean(f.length);return i&&!1===c.initial&&!e.manuallyAnimateOnMount&&(g=!1),i=!1,g?t(f):Promise.resolve()}return{isAnimated:function(e){return void 0!==r[e]},animateChanges:o,setActive:function(t,r,i){var a;return n[t].isActive===r?Promise.resolve():(null===(a=e.variantChildren)||void 0===a||a.forEach((function(e){var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r,o(i,t))},setAnimateFunction:function(n){t=n(e)},getState:function(){return n}}}function $L(e){return void 0===e&&(e=!1),{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var ZL={animation:IL((function(e){var n=e.visualElement,r=e.animate;n.animationState||(n.animationState=JL(n)),zD(r)&&(0,t.useEffect)((function(){return r.subscribe(n)}),[r])})),exit:IL((function(e){var n=e.custom,r=e.visualElement,i=Jr(CL(),2),a=i[0],o=i[1],s=(0,t.useContext)(HA);(0,t.useEffect)((function(){var e,t;r.isPresent=a;var i=null===(e=r.animationState)||void 0===e?void 0:e.setActive(GD.Exit,!a,{custom:null!==(t=null===s||void 0===s?void 0:s.custom)&&void 0!==t?t:n});!a&&(null===i||void 0===i||i.then(o))}),[a])}))},eM=function(){function e(e,t,n){var r=this,i=(void 0===n?{}:n).transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var e=rM(r.lastMoveEventInfo,r.history),t=null!==r.startEvent,n=dO(e.offset,{x:0,y:0})>=3;if(t||n){var i=e.point,a=bR().timestamp;r.history.push(Yr(Yr({},i),{timestamp:a}));var o=r.handlers,s=o.onStart,u=o.onMove;t||(s&&s(r.lastMoveEvent,e),r.startEvent=r.lastMoveEvent),u&&u(r.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){r.lastMoveEvent=e,r.lastMoveEventInfo=tM(t,r.transformPagePoint),$D(e)&&0===e.buttons?r.handlePointerUp(e,t):wR.update(r.updatePoint,!0)},this.handlePointerUp=function(e,t){r.end();var n=r.handlers,i=n.onEnd,a=n.onSessionEnd,o=rM(tM(t,r.transformPagePoint),r.history);r.startEvent&&i&&i(e,o),a&&a(e,o)},!(ZD(e)&&e.touches.length>1)){this.handlers=t,this.transformPagePoint=i;var a=tM(rL(e),this.transformPagePoint),o=a.point,s=bR().timestamp;this.history=[Yr(Yr({},o),{timestamp:s})];var u=t.onSessionStart;u&&u(e,rM(a,this.history)),this.removeListeners=IN(uL(window,"pointermove",this.handlePointerMove),uL(window,"pointerup",this.handlePointerUp),uL(window,"pointercancel",this.handlePointerUp))}}return e.prototype.updateHandlers=function(e){this.handlers=e},e.prototype.end=function(){this.removeListeners&&this.removeListeners(),vR.update(this.updatePoint)},e}();function tM(e,t){return t?{point:t(e.point)}:e}function nM(e,t){return{x:e.x-t.x,y:e.y-t.y}}function rM(e,t){var n=e.point;return{point:n,delta:nM(n,aM(t)),offset:nM(n,iM(t)),velocity:oM(t,.1)}}function iM(e){return e[0]}function aM(e){return e[e.length-1]}function oM(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,i=aM(e);n>=0&&(r=e[n],!(i.timestamp-r.timestamp>oP(t)));)n--;if(!r)return{x:0,y:0};var a=(i.timestamp-r.timestamp)/1e3;if(0===a)return{x:0,y:0};var o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function sM(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function uM(e,t){var n,r=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&(r=(n=Jr([i,r],2))[0],i=n[1]),{min:r,max:i}}var cM=.35;function lM(e,t,n){return{min:fM(e,t),max:fM(e,n)}}function fM(e,t){var n;return"number"===typeof e?e:null!==(n=e[t])&&void 0!==n?n:0}function hM(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function dM(e,t){return hM(function(e,t){if(!t)return e;var n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}var pM=new WeakMap,vM=function(){function e(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}return e.prototype.start=function(e,t){var n=this,r=(void 0===t?{}:t).snapToCursor,i=void 0!==r&&r;if(!1!==this.visualElement.isPresent){this.panSession=new eM(e,{onSessionStart:function(e){n.stopAnimation(),i&&n.snapToCursor(rL(e,"page").point)},onStart:function(e,t){var r,i=n.getProps(),a=i.drag,o=i.dragPropagation,s=i.onDragStart;(!a||o||(n.openGlobalLock&&n.openGlobalLock(),n.openGlobalLock=dL(a),n.openGlobalLock))&&(n.isDragging=!0,n.currentDirection=null,n.resolveConstraints(),n.visualElement.projection&&(n.visualElement.projection.isAnimationBlocked=!0,n.visualElement.projection.target=void 0),PO((function(e){var t,r,i=n.getAxisMotionValue(e).get()||0;if(rN.test(i)){var a=null===(r=null===(t=n.visualElement.projection)||void 0===t?void 0:t.layout)||void 0===r?void 0:r.actual[e];if(a)i=pO(a)*(parseFloat(i)/100)}n.originPoint[e]=i})),null===s||void 0===s||s(e,t),null===(r=n.visualElement.animationState)||void 0===r||r.setActive(GD.Drag,!0))},onMove:function(e,t){var r=n.getProps(),i=r.dragPropagation,a=r.dragDirectionLock,o=r.onDirectionLock,s=r.onDrag;if(i||n.openGlobalLock){var u=t.offset;if(a&&null===n.currentDirection)return n.currentDirection=function(e,t){void 0===t&&(t=10);var n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(u),void(null!==n.currentDirection&&(null===o||void 0===o||o(n.currentDirection)));n.updateAxis("x",t.point,u),n.updateAxis("y",t.point,u),n.visualElement.syncRender(),null===s||void 0===s||s(e,t)}},onSessionEnd:function(e,t){return n.stop(e,t)}},{transformPagePoint:this.visualElement.getTransformPagePoint()})}},e.prototype.stop=function(e,t){var n=this.isDragging;if(this.cancel(),n){var r=t.velocity;this.startAnimation(r);var i=this.getProps().onDragEnd;null===i||void 0===i||i(e,t)}},e.prototype.cancel=function(){var e,t;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null===(e=this.panSession)||void 0===e||e.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(t=this.visualElement.animationState)||void 0===t||t.setActive(GD.Drag,!1)},e.prototype.updateAxis=function(e,t,n){var r=this.getProps().drag;if(n&&mM(e,r,this.currentDirection)){var i=this.getAxisMotionValue(e),a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,t,n){var r=t.min,i=t.max;return void 0!==r&&e<r?e=n?xR(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?xR(i,e,n.max):Math.min(e,i)),e}(a,this.constraints[e],this.elastic[e])),i.set(a)}},e.prototype.resolveConstraints=function(){var e=this,t=this.getProps(),n=t.dragConstraints,r=t.dragElastic,i=(this.visualElement.projection||{}).layout,a=this.constraints;n&&YA(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!n||!i)&&function(e,t){var n=t.top,r=t.left,i=t.bottom,a=t.right;return{x:sM(e.x,r,a),y:sM(e.y,n,i)}}(i.actual,n),this.elastic=function(e){return void 0===e&&(e=cM),!1===e?e=0:!0===e&&(e=cM),{x:lM(e,"left","right"),y:lM(e,"top","bottom")}}(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&PO((function(t){e.getAxisMotionValue(t)&&(e.constraints[t]=function(e,t){var n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(i.actual[t],e.constraints[t]))}))},e.prototype.resolveRefConstraints=function(){var e=this.getProps(),t=e.dragConstraints,n=e.onMeasureDragConstraints;if(!t||!YA(t))return!1;var r=t.current,i=this.visualElement.projection;if(!i||!i.layout)return!1;var a=function(e,t,n){var r=dM(e,n),i=t.scroll;return i&&(aO(r.x,i.x),aO(r.y,i.y)),r}(r,i.root,this.visualElement.getTransformPagePoint()),o=function(e,t){return{x:uM(e.x,t.x),y:uM(e.y,t.y)}}(i.layout.actual,a);if(n){var s=n(function(e){var t=e.x,n=e.y;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(o));this.hasMutatedConstraints=!!s,s&&(o=hM(s))}return o},e.prototype.startAnimation=function(e){var t=this,n=this.getProps(),r=n.drag,i=n.dragMomentum,a=n.dragElastic,o=n.dragTransition,s=n.dragSnapToOrigin,u=n.onDragTransitionEnd,c=this.constraints||{},l=PO((function(n){var u;if(mM(n,r,t.currentDirection)){var l=null!==(u=null===c||void 0===c?void 0:c[n])&&void 0!==u?u:{};s&&(l={min:0,max:0});var f=a?200:1e6,h=a?40:1e7,d=Yr(Yr({type:"inertia",velocity:i?e[n]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10},o),l);return t.startAxisValueAnimation(n,d)}}));return Promise.all(l).then(u)},e.prototype.startAxisValueAnimation=function(e,t){return VP(e,this.getAxisMotionValue(e),0,t)},e.prototype.stopAnimation=function(){var e=this;PO((function(t){return e.getAxisMotionValue(t).stop()}))},e.prototype.getAxisMotionValue=function(e){var t,n,r="_drag"+e.toUpperCase(),i=this.visualElement.getProps()[r];return i||this.visualElement.getValue(e,null!==(n=null===(t=this.visualElement.getProps().initial)||void 0===t?void 0:t[e])&&void 0!==n?n:0)},e.prototype.snapToCursor=function(e){var t=this;PO((function(n){if(mM(n,t.getProps().drag,t.currentDirection)){var r=t.visualElement.projection,i=t.getAxisMotionValue(n);if(r&&r.layout){var a=r.layout.actual[n],o=a.min,s=a.max;i.set(e[n]-xR(o,s,.5))}}}))},e.prototype.scalePositionWithinConstraints=function(){var e,t=this,n=this.getProps(),r=n.drag,i=n.dragConstraints,a=this.visualElement.projection;if(YA(i)&&a&&this.constraints){this.stopAnimation();var o={x:0,y:0};PO((function(e){var n=t.getAxisMotionValue(e);if(n){var r=n.get();o[e]=function(e,t){var n=.5,r=pO(e),i=pO(t);return i>r?n=jR(t.min,t.max-r,e.min):r>i&&(n=jR(e.min,e.max-i,t.min)),RR(0,1,n)}({min:r,max:r},t.constraints[e])}}));var s=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=s?s({},""):"none",null===(e=a.root)||void 0===e||e.updateScroll(),a.updateLayout(),this.resolveConstraints(),PO((function(e){if(mM(e,r,null)){var n=t.getAxisMotionValue(e),i=t.constraints[e],a=i.min,s=i.max;n.set(xR(a,s,o[e]))}}))}},e.prototype.addListeners=function(){var e,t=this;pM.set(this.visualElement,this);var n=uL(this.visualElement.getInstance(),"pointerdown",(function(e){var n=t.getProps(),r=n.drag,i=n.dragListener;r&&(void 0===i||i)&&t.start(e)})),r=function(){YA(t.getProps().dragConstraints)&&(t.constraints=t.resolveRefConstraints())},i=this.visualElement.projection,a=i.addEventListener("measure",r);i&&!i.layout&&(null===(e=i.root)||void 0===e||e.updateScroll(),i.updateLayout()),r();var o=XD(window,"resize",(function(){t.scalePositionWithinConstraints()}));return i.addEventListener("didUpdate",(function(e){var n=e.delta,r=e.hasLayoutChanged;t.isDragging&&r&&(PO((function(e){var r=t.getAxisMotionValue(e);r&&(t.originPoint[e]+=n[e].translate,r.set(r.get()+n[e].translate))})),t.visualElement.syncRender())})),function(){o(),n(),a()}},e.prototype.getProps=function(){var e=this.visualElement.getProps(),t=e.drag,n=void 0!==t&&t,r=e.dragDirectionLock,i=void 0!==r&&r,a=e.dragPropagation,o=void 0!==a&&a,s=e.dragConstraints,u=void 0!==s&&s,c=e.dragElastic,l=void 0===c?cM:c,f=e.dragMomentum,h=void 0===f||f;return Yr(Yr({},e),{drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:u,dragElastic:l,dragMomentum:h})},e}();function mM(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}var yM={pan:IL((function(e){var n=e.onPan,r=e.onPanStart,i=e.onPanEnd,a=e.onPanSessionStart,o=e.visualElement,s=n||r||i||a,u=(0,t.useRef)(null),c=(0,t.useContext)(zA).transformPagePoint,l={onSessionStart:a,onStart:r,onMove:n,onEnd:function(e,t){u.current=null,i&&i(e,t)}};(0,t.useEffect)((function(){null!==u.current&&u.current.updateHandlers(l)})),cL(o,"pointerdown",s&&function(e){u.current=new eM(e,l,{transformPagePoint:c})}),yL((function(){return u.current&&u.current.end()}))})),drag:IL((function(e){var n=e.dragControls,r=e.visualElement,i=iR((function(){return new vM(r)}));(0,t.useEffect)((function(){return n&&n.subscribe(i)}),[i,n]),(0,t.useEffect)((function(){return i.addListeners()}),[i])}))},gM=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","SetAxisTarget","Unmount"];var kM=function(e){var t=e.treeType,n=void 0===t?"":t,r=e.build,i=e.getBaseTarget,a=e.makeTargetAnimatable,o=e.measureViewportBox,s=e.render,u=e.readValueFromInstance,c=e.removeValueFromRenderState,l=e.sortNodePosition,f=e.scrapeMotionValuesFromProps;return function(e,t){var h=e.parent,d=e.props,p=e.presenceId,v=e.blockInitialAnimation,m=e.visualState;void 0===t&&(t={});var y,g,k=!1,b=m.latestValues,w=m.renderState,x=function(){var e=gM.map((function(){return new IR})),t={},n={clearAllListeners:function(){return e.forEach((function(e){return e.clear()}))},updatePropListeners:function(e){gM.forEach((function(r){var i,a="on"+r,o=e[a];null===(i=t[r])||void 0===i||i.call(t),o&&(t[r]=n[a](o))}))}};return e.forEach((function(e,t){n["on"+gM[t]]=function(t){return e.add(t)},n["notify"+gM[t]]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.notify.apply(e,$r([],Jr(t),!1))}})),n}(),_=new Map,E=new Map,T={},I=Yr({},b);function S(){y&&k&&(C(),s(y,w,d.style,L.projection))}function C(){r(L,w,b,t,d)}function A(){x.notifyUpdate(b)}var R=f(d);for(var N in R){var P=R[N];void 0!==b[N]&&AR(P)&&P.set(b[N],!1)}var O=eR(d),D=tR(d),L=Yr(Yr({treeType:n,current:null,depth:h?h.depth+1:0,parent:h,children:new Set,presenceId:p,variantChildren:D?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(null===h||void 0===h?void 0:h.isMounted()),blockInitialAnimation:v,isMounted:function(){return Boolean(y)},mount:function(e){k=!0,y=L.current=e,L.projection&&L.projection.mount(e),D&&h&&!O&&(g=null===h||void 0===h?void 0:h.addVariantChild(L)),null===h||void 0===h||h.children.add(L),L.setProps(d)},unmount:function(){var e;null===(e=L.projection)||void 0===e||e.unmount(),vR.update(A),vR.render(S),E.forEach((function(e){return e()})),null===g||void 0===g||g(),null===h||void 0===h||h.children.delete(L),x.clearAllListeners(),y=void 0,k=!1},addVariantChild:function(e){var t,n=L.getClosestVariantNode();if(n)return null===(t=n.variantChildren)||void 0===t||t.add(e),function(){return n.variantChildren.delete(e)}},sortNodePosition:function(e){return l&&n===e.treeType?l(L.getInstance(),e.getInstance()):0},getClosestVariantNode:function(){return D?L:null===h||void 0===h?void 0:h.getClosestVariantNode()},getLayoutId:function(){return d.layoutId},getInstance:function(){return y},getStaticValue:function(e){return b[e]},setStaticValue:function(e,t){return b[e]=t},getLatestValues:function(){return b},setVisibility:function(e){L.isVisible!==e&&(L.isVisible=e,L.scheduleRender())},makeTargetAnimatable:function(e,t){return void 0===t&&(t=!0),a(L,e,d,t)},measureViewportBox:function(){return o(y,d)},addValue:function(e,t){L.hasValue(e)&&L.removeValue(e),_.set(e,t),b[e]=t.get(),function(e,t){var n=t.onChange((function(t){b[e]=t,d.onUpdate&&wR.update(A,!1,!0)})),r=t.onRenderRequest(L.scheduleRender);E.set(e,(function(){n(),r()}))}(e,t)},removeValue:function(e){var t;_.delete(e),null===(t=E.get(e))||void 0===t||t(),E.delete(e),delete b[e],c(e,w)},hasValue:function(e){return _.has(e)},getValue:function(e,t){var n=_.get(e);return void 0===n&&void 0!==t&&(n=CR(t),L.addValue(e,n)),n},forEachValue:function(e){return _.forEach(e)},readValue:function(e){var n;return null!==(n=b[e])&&void 0!==n?n:u(y,e,t)},setBaseTarget:function(e,t){I[e]=t},getBaseTarget:function(e){if(i){var t=i(d,e);if(void 0!==t&&!AR(t))return t}return I[e]}},x),{build:function(){return C(),w},scheduleRender:function(){wR.render(S,!1,!0)},syncRender:S,setProps:function(e){(e.transformTemplate||d.transformTemplate)&&L.scheduleRender(),d=e,x.updatePropListeners(e),T=function(e,t,n){var r;for(var i in t){var a=t[i],o=n[i];if(AR(a))e.addValue(i,a);else if(AR(o))e.addValue(i,CR(a));else if(o!==a)if(e.hasValue(i)){var s=e.getValue(i);!s.hasAnimated&&s.set(a)}else e.addValue(i,CR(null!==(r=e.getStaticValue(i))&&void 0!==r?r:a))}for(var i in n)void 0===t[i]&&e.removeValue(i);return t}(L,f(d),T)},getProps:function(){return d},getVariant:function(e){var t;return null===(t=d.variants)||void 0===t?void 0:t[e]},getDefaultTransition:function(){return d.transition},getTransformPagePoint:function(){return d.transformPagePoint},getVariantContext:function(e){if(void 0===e&&(e=!1),e)return null===h||void 0===h?void 0:h.getVariantContext();if(!O){var t=(null===h||void 0===h?void 0:h.getVariantContext())||{};return void 0!==d.initial&&(t.initial=d.initial),t}for(var n={},r=0;r<wM;r++){var i=bM[r],a=d[i];(JA(a)||!1===a)&&(n[i]=a)}return n}});return L}},bM=$r(["initial"],Jr(GL),!1),wM=bM.length;function xM(e){return"string"===typeof e&&e.startsWith("var(--")}var _M=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function EM(e,t,n){void 0===n&&(n=1),'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');var r=Jr(function(e){var t=_M.exec(e);if(!t)return[,];var n=Jr(t,3);return[n[1],n[2]]}(e),2),i=r[0],a=r[1];if(i){var o=window.getComputedStyle(t).getPropertyValue(i);return o?o.trim():xM(a)?EM(a,t,n+1):a}}var TM,IM=new Set(["width","height","top","left","right","bottom","x","y"]),SM=function(e){return IM.has(e)},CM=function(e,t){e.set(t,!1),e.set(t)},AM=function(e){return e===KR||e===iN};!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(TM||(TM={}));var RM=function(e,t){return parseFloat(e.split(", ")[t])},NM=function(e,t){return function(n,r){var i=r.transform;if("none"===i||!i)return 0;var a=i.match(/^matrix3d\((.+)\)$/);if(a)return RM(a[1],t);var o=i.match(/^matrix\((.+)\)$/);return o?RM(o[1],e):0}},PM=new Set(["x","y","z"]),OM=DO.filter((function(e){return!PM.has(e)}));var DM={width:function(e,t){var n=e.x,r=t.paddingLeft,i=void 0===r?"0":r,a=t.paddingRight,o=void 0===a?"0":a;return n.max-n.min-parseFloat(i)-parseFloat(o)},height:function(e,t){var n=e.y,r=t.paddingTop,i=void 0===r?"0":r,a=t.paddingBottom,o=void 0===a?"0":a;return n.max-n.min-parseFloat(i)-parseFloat(o)},top:function(e,t){var n=t.top;return parseFloat(n)},left:function(e,t){var n=t.left;return parseFloat(n)},bottom:function(e,t){var n=e.y,r=t.top;return parseFloat(r)+(n.max-n.min)},right:function(e,t){var n=e.x,r=t.left;return parseFloat(r)+(n.max-n.min)},x:NM(4,13),y:NM(5,14)},LM=function(e,t,n,r){void 0===n&&(n={}),void 0===r&&(r={}),t=Yr({},t),r=Yr({},r);var i=Object.keys(t).filter(SM),a=[],o=!1,s=[];if(i.forEach((function(i){var u=e.getValue(i);if(e.hasValue(i)){var c,l=n[i],f=FL(l),h=t[i];if(yP(h)){var d=h.length,p=null===h[0]?1:0;l=h[p],f=FL(l);for(var v=p;v<d;v++)c?FL(h[v]):(c=FL(h[v]))===f||AM(f)&&AM(c)}else c=FL(h);if(f!==c)if(AM(f)&&AM(c)){var m=u.get();"string"===typeof m&&u.set(parseFloat(m)),"string"===typeof h?t[i]=parseFloat(h):Array.isArray(h)&&c===iN&&(t[i]=h.map(parseFloat))}else(null===f||void 0===f?void 0:f.transform)&&(null===c||void 0===c?void 0:c.transform)&&(0===l||0===h)?0===l?u.set(c.transform(l)):t[i]=f.transform(h):(o||(a=function(e){var t=[];return OM.forEach((function(n){var r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.syncRender(),t}(e),o=!0),s.push(i),r[i]=void 0!==r[i]?r[i]:t[i],CM(u,h))}})),s.length){var u=function(e,t,n){var r=t.measureViewportBox(),i=t.getInstance(),a=getComputedStyle(i),o=a.display,s={};"none"===o&&t.setStaticValue("display",e.display||"block"),n.forEach((function(e){s[e]=DM[e](r,a)})),t.syncRender();var u=t.measureViewportBox();return n.forEach((function(n){var r=t.getValue(n);CM(r,s[n]),e[n]=DM[n](u,a)})),e}(t,e,s);return a.length&&a.forEach((function(t){var n=Jr(t,2),r=n[0],i=n[1];e.getValue(r).set(i)})),e.syncRender(),{target:u,transitionEnd:r}}return{target:t,transitionEnd:r}};function MM(e,t,n,r){return function(e){return Object.keys(e).some(SM)}(t)?LM(e,t,n,r):{target:t,transitionEnd:r}}var FM=function(e,t,n,r){var i=function(e,t,n){var r,i=Xr(t,[]),a=e.getInstance();if(!(a instanceof Element))return{target:i,transitionEnd:n};for(var o in n&&(n=Yr({},n)),e.forEachValue((function(e){var t=e.get();if(xM(t)){var n=EM(t,a);n&&e.set(n)}})),i){var s=i[o];if(xM(s)){var u=EM(s,a);u&&(i[o]=u,n&&(null!==(r=n[o])&&void 0!==r||(n[o]=s)))}}return{target:i,transitionEnd:n}}(e,t,r);return MM(e,t=i.target,n,r=i.transitionEnd)};var UM={treeType:"dom",readValueFromInstance:function(e,t){if(FO(t)){var n=RP(t);return n&&n.default||0}var r,i=(r=e,window.getComputedStyle(r));return(gD(t)?i.getPropertyValue(t):i[t])||0},sortNodePosition:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1},getBaseTarget:function(e,t){var n;return null===(n=e.style)||void 0===n?void 0:n[t]},measureViewportBox:function(e,t){return dM(e,t.transformPagePoint)},resetTransform:function(e,t,n){var r=n.transformTemplate;t.style.transform=r?r({},""):"none",e.scheduleRender()},restoreTransform:function(e,t){e.style.transform=t.style.transform},removeValueFromRenderState:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]},makeTargetAnimatable:function(e,t,n,r){var i=n.transformValues;void 0===r&&(r=!0);var a=t.transition,o=t.transitionEnd,s=Xr(t,["transition","transitionEnd"]),u=function(e,t,n){var r,i,a={};for(var o in e)a[o]=null!==(r=qL(o,t))&&void 0!==r?r:null===(i=n.getValue(o))||void 0===i?void 0:i.get();return a}(s,a||{},e);if(i&&(o&&(o=i(o)),s&&(s=i(s)),u&&(u=i(u))),r){!function(e,t,n){var r,i,a,o,s=Object.keys(t).filter((function(t){return!e.hasValue(t)})),u=s.length;if(u)for(var c=0;c<u;c++){var l=s[c],f=t[l],h=null;Array.isArray(f)&&(h=f[0]),null===h&&(h=null!==(i=null!==(r=n[l])&&void 0!==r?r:e.readValue(l))&&void 0!==i?i:t[l]),void 0!==h&&null!==h&&("string"===typeof h&&(OL(h)||DL(h))?h=parseFloat(h):!jL(h)&&_N.test(f)&&(h=NP(l,f)),e.addValue(l,CR(h)),null!==(a=(o=n)[l])&&void 0!==a||(o[l]=h),e.setBaseTarget(l,h))}}(e,s,u);var c=FM(e,s,u,o);o=c.transitionEnd,s=c.target}return Yr({transition:a,transitionEnd:o},s)},scrapeMotionValuesFromProps:BD,build:function(e,t,n,r,i){void 0!==e.isVisible&&(t.style.visibility=e.isVisible?"visible":"hidden"),bD(t,n,r,i.transformTemplate)},render:UD},jM=kM(UM),VM=kM(Yr(Yr({},UM),{getBaseTarget:function(e,t){return e[t]},readValueFromInstance:function(e,t){var n;return FO(t)?(null===(n=RP(t))||void 0===n?void 0:n.default)||0:(t=jD.has(t)?t:FD(t),e.getAttribute(t))},scrapeMotionValuesFromProps:qD,build:function(e,t,n,r,i){PD(t,n,r,i.transformTemplate)},render:VD})),BM=function(e,t){return vD(e)?VM(t,{enableHardwareAcceleration:!1}):jM(t,{enableHardwareAcceleration:!0})};function qM(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var zM={correct:function(e,t){if(!t.target)return e;if("string"===typeof e){if(!iN.test(e))return e;e=parseFloat(e)}var n=qM(e,t.target.x),r=qM(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},WM="_$css",HM={correct:function(e,t){var n=t.treeScale,r=t.projectionDelta,i=e,a=e.includes("var("),o=[];a&&(e=e.replace(_M,(function(e){return o.push(e),WM})));var s=_N.parse(e);if(s.length>5)return i;var u=_N.createTransformer(e),c="number"!==typeof s[0]?1:0,l=r.x.scale*n.x,f=r.y.scale*n.y;s[0+c]/=l,s[1+c]/=f;var h=xR(l,f,.5);"number"===typeof s[2+c]&&(s[2+c]/=h),"number"===typeof s[3+c]&&(s[3+c]/=h);var d=u(s);if(a){var p=0;d=d.replace(WM,(function(){var e=o[p];return p++,e}))}return d}},KM=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qr(t,e),t.prototype.componentDidMount=function(){var e,t=this,n=this.props,r=n.visualElement,i=n.layoutGroup,a=n.switchLayoutGroup,o=n.layoutId,s=r.projection;e=GM,Object.assign(RO,e),s&&((null===i||void 0===i?void 0:i.group)&&i.group.add(s),(null===a||void 0===a?void 0:a.register)&&o&&a.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",(function(){t.safeToRemove()})),s.setOptions(Yr(Yr({},s.options),{onExitComplete:function(){return t.safeToRemove()}}))),zO.hasEverUpdated=!0},t.prototype.getSnapshotBeforeUpdate=function(e){var t=this,n=this.props,r=n.layoutDependency,i=n.visualElement,a=n.drag,o=n.isPresent,s=i.projection;return s?(s.isPresent=o,a||e.layoutDependency!==r||void 0===r?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||wR.postRender((function(){var e;(null===(e=s.getStack())||void 0===e?void 0:e.members.length)||t.safeToRemove()}))),null):null},t.prototype.componentDidUpdate=function(){var e=this.props.visualElement.projection;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.visualElement,n=e.layoutGroup,r=e.switchLayoutGroup,i=t.projection;i&&(i.scheduleCheckAfterUnmount(),(null===n||void 0===n?void 0:n.group)&&n.group.remove(i),(null===r||void 0===r?void 0:r.deregister)&&r.deregister(i))},t.prototype.safeToRemove=function(){var e=this.props.safeToRemove;null===e||void 0===e||e()},t.prototype.render=function(){return null},t}(t.Component);var GM={borderRadius:Yr(Yr({},zM),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:zM,borderTopRightRadius:zM,borderBottomLeftRadius:zM,borderBottomRightRadius:zM,boxShadow:HM},QM={measureLayout:function(e){var n=Jr(CL(),2),r=n[0],i=n[1],a=(0,t.useContext)(cD);return t.createElement(KM,Yr({},e,{layoutGroup:a,switchLayoutGroup:(0,t.useContext)(lD),isPresent:r,safeToRemove:i}))}},YM=WO({attachResizeListener:function(e,t){return e.addEventListener("resize",t,{passive:!0}),function(){return e.removeEventListener("resize",t)}},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}}}),XM={current:void 0},JM=WO({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!XM.current){var e=new YM(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),XM.current=e}return XM.current},resetTransform:function(e,t){e.style.transform=null!==t&&void 0!==t?t:"none"}}),$M=Yr(Yr(Yr(Yr({},ZL),SL),yM),QM),ZM=dD((function(e,t){return function(e,t,n,r,i){var a=t.forwardMotionProps,o=void 0!==a&&a,s=vD(e)?QD:YD;return Yr(Yr({},s),{preloadedFeatures:n,useRender:LD(o),createVisualElement:r,projectionNodeConstructor:i,Component:e})}(e,t,$M,BM,JM)}));var eF=function(e){var n=e.file,r=e.setFile,i=FA(n),a=i.progress,o=i.url;return(0,t.useEffect)((function(){o&&r(null)}),[o,r]),(0,f.jsx)(ZM.div,{className:"progress-bar",initial:{width:0},animate:{width:a+"%"}})},tF=function(){var e=_((0,t.useState)(null),2),n=e[0],r=e[1],i=_((0,t.useState)(null),2),a=i[0],o=i[1],s=["image/png","image/jpeg","image/jpg"];return(0,f.jsxs)("form",{children:[(0,f.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&s.includes(t.type)?(r(t),o("")):(r(null),o("Select image file (.png or .jpg)"))}}),(0,f.jsxs)("div",{className:"output",children:[a&&(0,f.jsx)(ct,{variant:"danger",children:a}),n&&(0,f.jsx)("div",{children:n.name}),n&&(0,f.jsx)(eF,{file:n,setFile:r})]})]})},nF=function(e){var n=_((0,t.useState)([]),2),r=n[0],i=n[1];return(0,t.useEffect)((function(){var t=VC.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(o(o({},e.data()),{},{id:e.id}))})),i(t)}));return function(){return t()}}),[e]),{docs:r}},rF=function(e){var t=e.setSelectedImg,n=nF("images").docs;return(0,f.jsx)("div",{className:"img-grid",children:n&&n.map((function(e){return(0,f.jsx)(ZM.div,{className:"img-wrap",layout:!0,whileHover:{opacity:1},s:!0,onClick:function(){return t(e.url)},children:(0,f.jsx)(ZM.img,{src:e.url,alt:"uploaded pic",initial:{opacity:0},animate:{opacity:1},transition:{delay:1}})},e.id)}))})},iF=function(e){var t=e.setSelectedImg,n=e.selectedImg;return(0,f.jsx)(ZM.div,{className:"backdrop",onClick:function(e){e.target.classList.contains("backdrop")&&t(null)},initial:{opacity:0},animate:{opacity:1},children:(0,f.jsx)(ZM.img,{src:n,alt:"enlarged pic",initial:{y:"-100vh"},animate:{y:0}})})};function aF(){var e=_((0,t.useState)(""),2),n=e[0],r=e[1],i=zC(),a=i.currentUser,o=i.logout,s=fA(),u=_((0,t.useState)(null),2),c=u[0],l=u[1];function h(){return(h=g(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(""),e.prev=1,e.next=4,o();case 4:s("/dashboard"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),r("Failed to log out!");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(X,{children:(0,f.jsxs)(X.Body,{children:[(0,f.jsx)("h2",{className:"text-center mb-4",children:"Profile"}),n&&(0,f.jsx)(ct,{variant:"danger",children:n}),(0,f.jsx)("strong",{children:"Email: "})," ",a.email,(0,f.jsx)(PA,{to:"/update-profile",className:"btn btn-primary w-100",children:"Update profile"}),(0,f.jsx)(tF,{}),(0,f.jsx)(rF,{setSelectedImg:l}),c&&(0,f.jsx)(iF,{selectedImg:c,setSelectedImg:l})]})}),(0,f.jsx)("div",{className:"w-100 text-center mt-2",children:(0,f.jsx)(on,{variant:"link",onClick:function(){return h.apply(this,arguments)},children:"Log out"})})]})}var oF=function(e){var t=e.children;return zC().currentUser?t:(0,f.jsx)(rA,{to:"/login"})};var sF=function(){return(0,f.jsx)(m,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:(0,f.jsx)("div",{className:"w-100",style:{maxwidth:"400px"},children:(0,f.jsx)(NA,{children:(0,f.jsx)(WC,{children:(0,f.jsxs)(sA,{children:[(0,f.jsx)(aA,{path:"/dashboard",element:(0,f.jsx)(oF,{children:(0,f.jsx)(aF,{})})}),(0,f.jsx)(aA,{path:"/update-profile",element:(0,f.jsx)(oF,{children:(0,f.jsx)(MA,{})})}),(0,f.jsx)(aA,{path:"/signup",element:(0,f.jsx)(OA,{})}),(0,f.jsx)(aA,{path:"/login",element:(0,f.jsx)(DA,{})}),(0,f.jsx)(aA,{path:"/forgot-password",element:(0,f.jsx)(LA,{})})]})})})})})};r.render((0,f.jsx)(t.StrictMode,{children:(0,f.jsx)(sF,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.3febc68a.js.map